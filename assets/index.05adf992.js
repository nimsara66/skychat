(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function d1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),f1=Symbol.for("react.portal"),p1=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),g1=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),w1=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),S1=Symbol.for("react.memo"),b1=Symbol.for("react.lazy"),Fg=Symbol.iterator;function E1(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var e0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t0=Object.assign,n0={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=n0,this.updater=n||e0}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i0(){}i0.prototype=Ys.prototype;function bp(t,e,n){this.props=t,this.context=e,this.refs=n0,this.updater=n||e0}var Ep=bp.prototype=new i0;Ep.constructor=bp;t0(Ep,Ys.prototype);Ep.isPureReactComponent=!0;var Bg=Array.isArray,r0=Object.prototype.hasOwnProperty,Pp={current:null},s0={key:!0,ref:!0,__self:!0,__source:!0};function o0(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r0.call(e,i)&&!s0.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:$a,type:t,key:s,ref:o,props:r,_owner:Pp.current}}function P1(t,e){return{$$typeof:$a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tp(t){return typeof t=="object"&&t!==null&&t.$$typeof===$a}function T1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jg=/\/+/g;function Mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T1(""+t.key):e.toString(36)}function eu(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $a:case f1:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Mh(o,0):i,Bg(r)?(n="",t!=null&&(n=t.replace(jg,"$&/")+"/"),eu(r,e,n,"",function(u){return u})):r!=null&&(Tp(r)&&(r=P1(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(jg,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Bg(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Mh(s,a);o+=eu(s,e,n,l,r)}else if(l=E1(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Mh(s,a++),o+=eu(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(t,e,n){if(t==null)return t;var i=[],r=0;return eu(t,i,"","",function(s){return e.call(n,s,r++)}),i}function C1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},tu={transition:null},A1={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Pp};K.Children={map:Cl,forEach:function(t,e,n){Cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cl(t,function(){e++}),e},toArray:function(t){return Cl(t,function(e){return e})||[]},only:function(t){if(!Tp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Ys;K.Fragment=p1;K.Profiler=g1;K.PureComponent=bp;K.StrictMode=m1;K.Suspense=_1;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=t0({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Pp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r0.call(e,l)&&!s0.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:$a,type:t.type,key:r,ref:s,props:i,_owner:o}};K.createContext=function(t){return t={$$typeof:v1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y1,_context:t},t.Consumer=t};K.createElement=o0;K.createFactory=function(t){var e=o0.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:w1,render:t}};K.isValidElement=Tp;K.lazy=function(t){return{$$typeof:b1,_payload:{_status:-1,_result:t},_init:C1}};K.memo=function(t,e){return{$$typeof:S1,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=tu.transition;tu.transition={};try{t()}finally{tu.transition=e}};K.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};K.useCallback=function(t,e){return yt.current.useCallback(t,e)};K.useContext=function(t){return yt.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};K.useEffect=function(t,e){return yt.current.useEffect(t,e)};K.useId=function(){return yt.current.useId()};K.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return yt.current.useMemo(t,e)};K.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};K.useRef=function(t){return yt.current.useRef(t)};K.useState=function(t){return yt.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return yt.current.useTransition()};K.version="18.2.0";(function(t){t.exports=K})(N);const k1=d1(N.exports);var Ud={},a0={exports:{}},Gt={},l0={exports:{}},u0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,H){var W=R.length;R.push(H);e:for(;0<W;){var Pe=W-1>>>1,ze=R[Pe];if(0<r(ze,H))R[Pe]=H,R[W]=ze,W=Pe;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var H=R[0],W=R.pop();if(W!==H){R[0]=W;e:for(var Pe=0,ze=R.length,Pl=ze>>>1;Pe<Pl;){var Qi=2*(Pe+1)-1,Oh=R[Qi],Ki=Qi+1,Tl=R[Ki];if(0>r(Oh,W))Ki<ze&&0>r(Tl,Oh)?(R[Pe]=Tl,R[Ki]=W,Pe=Ki):(R[Pe]=Oh,R[Qi]=W,Pe=Qi);else if(Ki<ze&&0>r(Tl,W))R[Pe]=Tl,R[Ki]=W,Pe=Ki;else break e}}return H}function r(R,H){var W=R.sortIndex-H.sortIndex;return W!==0?W:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var H=n(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=R)i(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function _(R){if(y=!1,v(R),!p)if(n(l)!==null)p=!0,qi(b);else{var H=n(u);H!==null&&Rh(_,H.startTime-R)}}function b(R,H){p=!1,y&&(y=!1,g(T),T=-1),f=!0;var W=d;try{for(v(H),h=n(l);h!==null&&(!(h.expirationTime>H)||R&&!ae());){var Pe=h.callback;if(typeof Pe=="function"){h.callback=null,d=h.priorityLevel;var ze=Pe(h.expirationTime<=H);H=t.unstable_now(),typeof ze=="function"?h.callback=ze:h===n(l)&&i(l),v(H)}else i(l);h=n(l)}if(h!==null)var Pl=!0;else{var Qi=n(u);Qi!==null&&Rh(_,Qi.startTime-H),Pl=!1}return Pl}finally{h=null,d=W,f=!1}}var P=!1,S=null,T=-1,D=5,z=-1;function ae(){return!(t.unstable_now()-z<D)}function He(){if(S!==null){var R=t.unstable_now();z=R;var H=!0;try{H=S(!0,R)}finally{H?se():(P=!1,S=null)}}else P=!1}var se;if(typeof m=="function")se=function(){m(He)};else if(typeof MessageChannel<"u"){var mn=new MessageChannel,wt=mn.port2;mn.port1.onmessage=He,se=function(){wt.postMessage(null)}}else se=function(){w(He,0)};function qi(R){S=R,P||(P=!0,se())}function Rh(R,H){T=w(function(){R(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,qi(b))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var W=d;d=H;try{return R()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=d;d=R;try{return H()}finally{d=W}},t.unstable_scheduleCallback=function(R,H,W){var Pe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Pe+W:Pe):W=Pe,R){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=W+ze,R={id:c++,callback:H,priorityLevel:R,startTime:W,expirationTime:ze,sortIndex:-1},W>Pe?(R.sortIndex=W,e(u,R),n(l)===null&&R===n(u)&&(y?(g(T),T=-1):y=!0,Rh(_,W-Pe))):(R.sortIndex=ze,e(l,R),p||f||(p=!0,qi(b))),R},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(R){var H=d;return function(){var W=d;d=H;try{return R.apply(this,arguments)}finally{d=W}}}})(u0);(function(t){t.exports=u0})(l0);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=N.exports,Vt=l0.exports;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,da={};function zr(t,e){xs(t,e),xs(t+"Capture",e)}function xs(t,e){for(da[t]=e,t=0;t<e.length;t++)h0.add(e[t])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fd=Object.prototype.hasOwnProperty,I1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$g={},Hg={};function x1(t){return Fd.call(Hg,t)?!0:Fd.call($g,t)?!1:I1.test(t)?Hg[t]=!0:($g[t]=!0,!1)}function R1(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O1(t,e,n,i){if(e===null||typeof e>"u"||R1(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cp=/[\-:]([a-z])/g;function Ap(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cp,Ap);Je[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cp,Ap);Je[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cp,Ap);Je[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,i){var r=Je.hasOwnProperty(e)?Je[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(O1(e,n,r,i)&&(n=null),i||r===null?x1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ri=c0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),Bd=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),jd=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),p0=Symbol.for("react.offscreen"),Wg=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=Wg&&t[Wg]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Dh;function Ao(t){if(Dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dh=e&&e[1]||""}return`
`+Dh+t}var Lh=!1;function Nh(t,e){if(!t||Lh)return"";Lh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function M1(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=Nh(t.type,!1),t;case 11:return t=Nh(t.type.render,!1),t;case 1:return t=Nh(t.type,!0),t;default:return""}}function Hd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case rs:return"Portal";case Bd:return"Profiler";case Ip:return"StrictMode";case jd:return"Suspense";case $d:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f0:return(t.displayName||"Context")+".Consumer";case d0:return(t._context.displayName||"Context")+".Provider";case xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rp:return e=t.displayName||null,e!==null?e:Hd(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return Hd(t(e))}catch{}}return null}function D1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hd(e);case 8:return e===Ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L1(t){var e=m0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kl(t){t._valueTracker||(t._valueTracker=L1(t))}function g0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=m0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wd(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function qg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y0(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function qd(t,e){y0(t,e);var n=Di(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qd(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qd(t,e,n){(e!=="number"||Mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ko=Array.isArray;function _s(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(ko(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function v0(t,e){var n=Di(e.value),i=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Yg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Il,_0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Il.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N1=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){N1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function S0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function b0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=S0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var V1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xd(t,e){if(e){if(V1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Jd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ef=null,Ss=null,bs=null;function Xg(t){if(t=qa(t)){if(typeof ef!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Mc(e),ef(t.stateNode,t.type,e))}}function E0(t){Ss?bs?bs.push(t):bs=[t]:Ss=t}function P0(){if(Ss){var t=Ss,e=bs;if(bs=Ss=null,Xg(t),e)for(t=0;t<e.length;t++)Xg(e[t])}}function T0(t,e){return t(e)}function C0(){}var Vh=!1;function A0(t,e,n){if(Vh)return t(e,n);Vh=!0;try{return T0(t,e,n)}finally{Vh=!1,(Ss!==null||bs!==null)&&(C0(),P0())}}function pa(t,e){var n=t.stateNode;if(n===null)return null;var i=Mc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var tf=!1;if(Qn)try{var po={};Object.defineProperty(po,"passive",{get:function(){tf=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{tf=!1}function z1(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Qo=!1,Du=null,Lu=!1,nf=null,G1={onError:function(t){Qo=!0,Du=t}};function U1(t,e,n,i,r,s,o,a,l){Qo=!1,Du=null,z1.apply(G1,arguments)}function F1(t,e,n,i,r,s,o,a,l){if(U1.apply(this,arguments),Qo){if(Qo){var u=Du;Qo=!1,Du=null}else throw Error(C(198));Lu||(Lu=!0,nf=u)}}function Gr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jg(t){if(Gr(t)!==t)throw Error(C(188))}function B1(t){var e=t.alternate;if(!e){if(e=Gr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Jg(r),t;if(s===i)return Jg(r),e;s=s.sibling}throw Error(C(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==i)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function I0(t){return t=B1(t),t!==null?x0(t):null}function x0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=x0(t);if(e!==null)return e;t=t.sibling}return null}var R0=Vt.unstable_scheduleCallback,Zg=Vt.unstable_cancelCallback,j1=Vt.unstable_shouldYield,$1=Vt.unstable_requestPaint,Te=Vt.unstable_now,H1=Vt.unstable_getCurrentPriorityLevel,Mp=Vt.unstable_ImmediatePriority,O0=Vt.unstable_UserBlockingPriority,Nu=Vt.unstable_NormalPriority,W1=Vt.unstable_LowPriority,M0=Vt.unstable_IdlePriority,Ic=null,Tn=null;function q1(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Ic,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Y1,Q1=Math.log,K1=Math.LN2;function Y1(t){return t>>>=0,t===0?32:31-(Q1(t)/K1|0)|0}var xl=64,Rl=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Io(a):(s&=o,s!==0&&(i=Io(s)))}else o=n&~r,o!==0?i=Io(o):s!==0&&(i=Io(s));if(i===0)return 0;if(e!==0&&e!==i&&(e&r)===0&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if((i&4)!==0&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-un(e),r=1<<n,i|=t[n],e&=~r;return i}function X1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-un(s),a=1<<o,l=r[o];l===-1?((a&n)===0||(a&i)!==0)&&(r[o]=X1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D0(){var t=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),t}function zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function Z1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-un(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-un(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ne=0;function L0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var N0,Lp,V0,z0,G0,sf=!1,Ol=[],Ei=null,Pi=null,Ti=null,ma=new Map,ga=new Map,pi=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ey(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":ma.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(e.pointerId)}}function mo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=qa(e),e!==null&&Lp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function tT(t,e,n,i,r){switch(e){case"focusin":return Ei=mo(Ei,t,e,n,i,r),!0;case"dragenter":return Pi=mo(Pi,t,e,n,i,r),!0;case"mouseover":return Ti=mo(Ti,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ma.set(s,mo(ma.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ga.set(s,mo(ga.get(s)||null,t,e,n,i,r)),!0}return!1}function U0(t){var e=ar(t.target);if(e!==null){var n=Gr(e);if(n!==null){if(e=n.tag,e===13){if(e=k0(n),e!==null){t.blockedOn=e,G0(t.priority,function(){V0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=of(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Zd=i,n.target.dispatchEvent(i),Zd=null}else return e=qa(n),e!==null&&Lp(e),t.blockedOn=n,!1;e.shift()}return!0}function ty(t,e,n){nu(t)&&n.delete(e)}function nT(){sf=!1,Ei!==null&&nu(Ei)&&(Ei=null),Pi!==null&&nu(Pi)&&(Pi=null),Ti!==null&&nu(Ti)&&(Ti=null),ma.forEach(ty),ga.forEach(ty)}function go(t,e){t.blockedOn===e&&(t.blockedOn=null,sf||(sf=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,nT)))}function ya(t){function e(r){return go(r,t)}if(0<Ol.length){go(Ol[0],t);for(var n=1;n<Ol.length;n++){var i=Ol[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ei!==null&&go(Ei,t),Pi!==null&&go(Pi,t),Ti!==null&&go(Ti,t),ma.forEach(e),ga.forEach(e),n=0;n<pi.length;n++)i=pi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)U0(n),n.blockedOn===null&&pi.shift()}var Es=ri.ReactCurrentBatchConfig,zu=!0;function iT(t,e,n,i){var r=ne,s=Es.transition;Es.transition=null;try{ne=1,Np(t,e,n,i)}finally{ne=r,Es.transition=s}}function rT(t,e,n,i){var r=ne,s=Es.transition;Es.transition=null;try{ne=4,Np(t,e,n,i)}finally{ne=r,Es.transition=s}}function Np(t,e,n,i){if(zu){var r=of(t,e,n,i);if(r===null)Qh(t,e,i,Gu,n),ey(t,i);else if(tT(r,t,e,n,i))i.stopPropagation();else if(ey(t,i),e&4&&-1<eT.indexOf(t)){for(;r!==null;){var s=qa(r);if(s!==null&&N0(s),s=of(t,e,n,i),s===null&&Qh(t,e,i,Gu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Qh(t,e,i,null,n)}}var Gu=null;function of(t,e,n,i){if(Gu=null,t=Op(i),t=ar(t),t!==null)if(e=Gr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gu=t,null}function F0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H1()){case Mp:return 1;case O0:return 4;case Nu:case W1:return 16;case M0:return 536870912;default:return 16}default:return 16}}var Si=null,Vp=null,iu=null;function B0(){if(iu)return iu;var t,e=Vp,n=e.length,i,r="value"in Si?Si.value:Si.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return iu=r.slice(t,1<i?1-i:void 0)}function ru(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function ny(){return!1}function Ut(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:ny,this.isPropagationStopped=ny,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=Ut(Xs),Wa=we({},Xs,{view:0,detail:0}),sT=Ut(Wa),Gh,Uh,yo,xc=we({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(Gh=t.screenX-yo.screenX,Uh=t.screenY-yo.screenY):Uh=Gh=0,yo=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),iy=Ut(xc),oT=we({},xc,{dataTransfer:0}),aT=Ut(oT),lT=we({},Wa,{relatedTarget:0}),Fh=Ut(lT),uT=we({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),cT=Ut(uT),hT=we({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dT=Ut(hT),fT=we({},Xs,{data:0}),ry=Ut(fT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gT[t])?!!e[t]:!1}function Gp(){return yT}var vT=we({},Wa,{key:function(t){if(t.key){var e=pT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ru(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gp,charCode:function(t){return t.type==="keypress"?ru(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ru(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wT=Ut(vT),_T=we({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=Ut(_T),ST=we({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gp}),bT=Ut(ST),ET=we({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=Ut(ET),TT=we({},xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=Ut(TT),AT=[9,13,27,32],Up=Qn&&"CompositionEvent"in window,Ko=null;Qn&&"documentMode"in document&&(Ko=document.documentMode);var kT=Qn&&"TextEvent"in window&&!Ko,j0=Qn&&(!Up||Ko&&8<Ko&&11>=Ko),oy=String.fromCharCode(32),ay=!1;function $0(t,e){switch(t){case"keyup":return AT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function IT(t,e){switch(t){case"compositionend":return H0(e);case"keypress":return e.which!==32?null:(ay=!0,oy);case"textInput":return t=e.data,t===oy&&ay?null:t;default:return null}}function xT(t,e){if(os)return t==="compositionend"||!Up&&$0(t,e)?(t=B0(),iu=Vp=Si=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j0&&e.locale!=="ko"?null:e.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RT[t.type]:e==="textarea"}function W0(t,e,n,i){E0(i),e=Uu(e,"onChange"),0<e.length&&(n=new zp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Yo=null,va=null;function OT(t){i_(t,0)}function Rc(t){var e=us(t);if(g0(e))return t}function MT(t,e){if(t==="change")return e}var q0=!1;if(Qn){var Bh;if(Qn){var jh="oninput"in document;if(!jh){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),jh=typeof uy.oninput=="function"}Bh=jh}else Bh=!1;q0=Bh&&(!document.documentMode||9<document.documentMode)}function cy(){Yo&&(Yo.detachEvent("onpropertychange",Q0),va=Yo=null)}function Q0(t){if(t.propertyName==="value"&&Rc(va)){var e=[];W0(e,va,t,Op(t)),A0(OT,e)}}function DT(t,e,n){t==="focusin"?(cy(),Yo=e,va=n,Yo.attachEvent("onpropertychange",Q0)):t==="focusout"&&cy()}function LT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rc(va)}function NT(t,e){if(t==="click")return Rc(e)}function VT(t,e){if(t==="input"||t==="change")return Rc(e)}function zT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:zT;function wa(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Fd.call(e,r)||!dn(t[r],e[r]))return!1}return!0}function hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dy(t,e){var n=hy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hy(n)}}function K0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y0(){for(var t=window,e=Mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mu(t.document)}return e}function Fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GT(t){var e=Y0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K0(n.ownerDocument.documentElement,n)){if(i!==null&&Fp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=dy(n,s);var o=dy(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UT=Qn&&"documentMode"in document&&11>=document.documentMode,as=null,af=null,Xo=null,lf=!1;function fy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lf||as==null||as!==Mu(i)||(i=as,"selectionStart"in i&&Fp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Xo&&wa(Xo,i)||(Xo=i,i=Uu(af,"onSelect"),0<i.length&&(e=new zp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=as)))}function Dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ls={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},$h={},X0={};Qn&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Oc(t){if($h[t])return $h[t];if(!ls[t])return t;var e=ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X0)return $h[t]=e[n];return t}var J0=Oc("animationend"),Z0=Oc("animationiteration"),e_=Oc("animationstart"),t_=Oc("transitionend"),n_=new Map,py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,e){n_.set(t,e),zr(e,[t])}for(var Hh=0;Hh<py.length;Hh++){var Wh=py[Hh],FT=Wh.toLowerCase(),BT=Wh[0].toUpperCase()+Wh.slice(1);Fi(FT,"on"+BT)}Fi(J0,"onAnimationEnd");Fi(Z0,"onAnimationIteration");Fi(e_,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi(t_,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function my(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,F1(i,e,void 0,t),t.currentTarget=null}function i_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;my(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;my(r,a,u),s=l}}}if(Lu)throw t=nf,Lu=!1,nf=null,t}function ce(t,e){var n=e[ff];n===void 0&&(n=e[ff]=new Set);var i=t+"__bubble";n.has(i)||(r_(e,t,2,!1),n.add(i))}function qh(t,e,n){var i=0;e&&(i|=4),r_(n,t,i,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function _a(t){if(!t[Ll]){t[Ll]=!0,h0.forEach(function(n){n!=="selectionchange"&&(jT.has(n)||qh(n,!1,t),qh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,qh("selectionchange",!1,e))}}function r_(t,e,n,i){switch(F0(e)){case 1:var r=iT;break;case 4:r=rT;break;default:r=Np}n=r.bind(null,e,n,t),r=void 0,!tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Qh(t,e,n,i,r){var s=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ar(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}A0(function(){var u=s,c=Op(n),h=[];e:{var d=n_.get(t);if(d!==void 0){var f=zp,p=t;switch(t){case"keypress":if(ru(n)===0)break e;case"keydown":case"keyup":f=wT;break;case"focusin":p="focus",f=Fh;break;case"focusout":p="blur",f=Fh;break;case"beforeblur":case"afterblur":f=Fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=bT;break;case J0:case Z0:case e_:f=cT;break;case t_:f=PT;break;case"scroll":f=sT;break;case"wheel":f=CT;break;case"copy":case"cut":case"paste":f=dT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sy}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=pa(m,g),_!=null&&y.push(Sa(m,_,v)))),w)break;m=m.return}0<y.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Zd&&(p=n.relatedTarget||n.fromElement)&&(ar(p)||p[Kn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ar(p):null,p!==null&&(w=Gr(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(y=iy,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=sy,_="onPointerLeave",g="onPointerEnter",m="pointer"),w=f==null?d:us(f),v=p==null?d:us(p),d=new y(_,m+"leave",f,n,c),d.target=w,d.relatedTarget=v,_=null,ar(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=w,_=y),w=_,f&&p)t:{for(y=f,g=p,m=0,v=y;v;v=Hr(v))m++;for(v=0,_=g;_;_=Hr(_))v++;for(;0<m-v;)y=Hr(y),m--;for(;0<v-m;)g=Hr(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Hr(y),g=Hr(g)}y=null}else y=null;f!==null&&gy(h,d,f,y,!1),p!==null&&w!==null&&gy(h,w,p,y,!0)}}e:{if(d=u?us(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=MT;else if(ly(d))if(q0)b=VT;else{b=LT;var P=DT}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=NT);if(b&&(b=b(t,u))){W0(h,b,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Qd(d,"number",d.value)}switch(P=u?us(u):window,t){case"focusin":(ly(P)||P.contentEditable==="true")&&(as=P,af=u,Xo=null);break;case"focusout":Xo=af=as=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,fy(h,n,c);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":fy(h,n,c)}var S;if(Up)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else os?$0(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(j0&&n.locale!=="ko"&&(os||T!=="onCompositionStart"?T==="onCompositionEnd"&&os&&(S=B0()):(Si=c,Vp="value"in Si?Si.value:Si.textContent,os=!0)),P=Uu(u,T),0<P.length&&(T=new ry(T,t,null,n,c),h.push({event:T,listeners:P}),S?T.data=S:(S=H0(n),S!==null&&(T.data=S)))),(S=kT?IT(t,n):xT(t,n))&&(u=Uu(u,"onBeforeInput"),0<u.length&&(c=new ry("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}i_(h,e)})}function Sa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=pa(t,n),s!=null&&i.unshift(Sa(t,s,r)),s=pa(t,e),s!=null&&i.push(Sa(t,s,r))),t=t.return}return i}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gy(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=pa(n,s),l!=null&&o.unshift(Sa(n,l,a))):r||(l=pa(n,s),l!=null&&o.push(Sa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $T=/\r\n?/g,HT=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(HT,"")}function Nl(t,e,n){if(e=yy(e),yy(t)!==e&&n)throw Error(C(425))}function Fu(){}var uf=null,cf=null;function hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(t){return vy.resolve(null).then(t).catch(QT)}:df;function QT(t){setTimeout(function(){throw t})}function Kh(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),ya(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ya(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Js=Math.random().toString(36).slice(2),bn="__reactFiber$"+Js,ba="__reactProps$"+Js,Kn="__reactContainer$"+Js,ff="__reactEvents$"+Js,KT="__reactListeners$"+Js,YT="__reactHandles$"+Js;function ar(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wy(t);t!==null;){if(n=t[bn])return n;t=wy(t)}return e}t=n,n=t.parentNode}return null}function qa(t){return t=t[bn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Mc(t){return t[ba]||null}var pf=[],cs=-1;function Bi(t){return{current:t}}function de(t){0>cs||(t.current=pf[cs],pf[cs]=null,cs--)}function le(t,e){cs++,pf[cs]=t.current,t.current=e}var Li={},at=Bi(Li),Tt=Bi(!1),_r=Li;function Rs(t,e){var n=t.type.contextTypes;if(!n)return Li;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ct(t){return t=t.childContextTypes,t!=null}function Bu(){de(Tt),de(at)}function _y(t,e,n){if(at.current!==Li)throw Error(C(168));le(at,e),le(Tt,n)}function s_(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(C(108,D1(t)||"Unknown",r));return we({},n,i)}function ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,_r=at.current,le(at,t),le(Tt,Tt.current),!0}function Sy(t,e,n){var i=t.stateNode;if(!i)throw Error(C(169));n?(t=s_(t,e,_r),i.__reactInternalMemoizedMergedChildContext=t,de(Tt),de(at),le(at,t)):de(Tt),le(Tt,n)}var zn=null,Dc=!1,Yh=!1;function o_(t){zn===null?zn=[t]:zn.push(t)}function XT(t){Dc=!0,o_(t)}function ji(){if(!Yh&&zn!==null){Yh=!0;var t=0,e=ne;try{var n=zn;for(ne=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}zn=null,Dc=!1}catch(r){throw zn!==null&&(zn=zn.slice(t+1)),R0(Mp,ji),r}finally{ne=e,Yh=!1}}return null}var hs=[],ds=0,$u=null,Hu=0,jt=[],$t=0,Sr=null,Gn=1,Un="";function Ji(t,e){hs[ds++]=Hu,hs[ds++]=$u,$u=t,Hu=e}function a_(t,e,n){jt[$t++]=Gn,jt[$t++]=Un,jt[$t++]=Sr,Sr=t;var i=Gn;t=Un;var r=32-un(i)-1;i&=~(1<<r),n+=1;var s=32-un(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Gn=1<<32-un(e)+r|n<<r|i,Un=s+t}else Gn=1<<s|n<<r|i,Un=t}function Bp(t){t.return!==null&&(Ji(t,1),a_(t,1,0))}function jp(t){for(;t===$u;)$u=hs[--ds],hs[ds]=null,Hu=hs[--ds],hs[ds]=null;for(;t===Sr;)Sr=jt[--$t],jt[$t]=null,Un=jt[--$t],jt[$t]=null,Gn=jt[--$t],jt[$t]=null}var Lt=null,Mt=null,pe=!1,an=null;function l_(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function by(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lt=t,Mt=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lt=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sr!==null?{id:Gn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lt=t,Mt=null,!0):!1;default:return!1}}function mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gf(t){if(pe){var e=Mt;if(e){var n=e;if(!by(t,e)){if(mf(t))throw Error(C(418));e=Ci(n.nextSibling);var i=Lt;e&&by(t,e)?l_(i,n):(t.flags=t.flags&-4097|2,pe=!1,Lt=t)}}else{if(mf(t))throw Error(C(418));t.flags=t.flags&-4097|2,pe=!1,Lt=t}}}function Ey(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function Vl(t){if(t!==Lt)return!1;if(!pe)return Ey(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hf(t.type,t.memoizedProps)),e&&(e=Mt)){if(mf(t))throw u_(),Error(C(418));for(;e;)l_(t,e),e=Ci(e.nextSibling)}if(Ey(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mt=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=Lt?Ci(t.stateNode.nextSibling):null;return!0}function u_(){for(var t=Mt;t;)t=Ci(t.nextSibling)}function Os(){Mt=Lt=null,pe=!1}function $p(t){an===null?an=[t]:an.push(t)}var JT=ri.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wu=Bi(null),qu=null,fs=null,Hp=null;function Wp(){Hp=fs=qu=null}function qp(t){var e=Wu.current;de(Wu),t._currentValue=e}function yf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){qu=t,Hp=fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Pt=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(Hp!==t)if(t={context:t,memoizedValue:e,next:null},fs===null){if(qu===null)throw Error(C(308));fs=t,qu.dependencies={lanes:0,firstContext:t}}else fs=fs.next=t;return e}var lr=null;function Qp(t){lr===null?lr=[t]:lr.push(t)}function c_(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Qp(e)):(n.next=r.next,r.next=n),e.interleaved=n,Yn(t,i)}function Yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(J&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Yn(t,n)}return r=i.interleaved,r===null?(e.next=e,Qp(i)):(e.next=r.next,r.next=e),i.interleaved=e,Yn(t,n)}function su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dp(t,n)}}function Py(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qu(t,e,n,i){var r=t.updateQueue;fi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(d=e,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=we({},h,d);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Er|=o,t.lanes=o,t.memoizedState=h}}function Ty(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(C(191,r));r.call(i)}}}var d_=new c0.Component().refs;function vf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lc={isMounted:function(t){return(t=t._reactInternals)?Gr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=gt(),r=Ii(t),s=$n(i,r);s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,r),e!==null&&(cn(e,t,r,i),su(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=gt(),r=Ii(t),s=$n(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ai(t,s,r),e!==null&&(cn(e,t,r,i),su(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),i=Ii(t),r=$n(n,i);r.tag=2,e!=null&&(r.callback=e),e=Ai(t,r,i),e!==null&&(cn(e,t,i,n),su(e,t,i))}};function Cy(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!wa(n,i)||!wa(r,s):!0}function f_(t,e,n){var i=!1,r=Li,s=e.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(r=Ct(e)?_r:at.current,i=e.contextTypes,s=(i=i!=null)?Rs(t,r):Li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ay(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function wf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=d_,Kp(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Xt(s):(s=Ct(e)?_r:at.current,r.context=Rs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Lc.enqueueReplaceState(r,r.state,null),Qu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var i=n.stateNode}if(!i)throw Error(C(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===d_&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function zl(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ky(t){var e=t._init;return e(t._payload)}function p_(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function r(g,m){return g=xi(g,m),g.index=0,g.sibling=null,g}function s(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,_){return m===null||m.tag!==6?(m=id(v,g.mode,_),m.return=g,m):(m=r(m,v),m.return=g,m)}function l(g,m,v,_){var b=v.type;return b===ss?c(g,m,v.props.children,_,v.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===di&&ky(b)===m.type)?(_=r(m,v.props),_.ref=vo(g,m,v),_.return=g,_):(_=hu(v.type,v.key,v.props,null,g.mode,_),_.ref=vo(g,m,v),_.return=g,_)}function u(g,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=rd(v,g.mode,_),m.return=g,m):(m=r(m,v.children||[]),m.return=g,m)}function c(g,m,v,_,b){return m===null||m.tag!==7?(m=gr(v,g.mode,_,b),m.return=g,m):(m=r(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=id(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Al:return v=hu(m.type,m.key,m.props,null,g.mode,v),v.ref=vo(g,null,m),v.return=g,v;case rs:return m=rd(m,g.mode,v),m.return=g,m;case di:var _=m._init;return h(g,_(m._payload),v)}if(ko(m)||fo(m))return m=gr(m,g.mode,v,null),m.return=g,m;zl(g,m)}return null}function d(g,m,v,_){var b=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:a(g,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Al:return v.key===b?l(g,m,v,_):null;case rs:return v.key===b?u(g,m,v,_):null;case di:return b=v._init,d(g,m,b(v._payload),_)}if(ko(v)||fo(v))return b!==null?null:c(g,m,v,_,null);zl(g,v)}return null}function f(g,m,v,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(m,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Al:return g=g.get(_.key===null?v:_.key)||null,l(m,g,_,b);case rs:return g=g.get(_.key===null?v:_.key)||null,u(m,g,_,b);case di:var P=_._init;return f(g,m,v,P(_._payload),b)}if(ko(_)||fo(_))return g=g.get(v)||null,c(m,g,_,b,null);zl(m,_)}return null}function p(g,m,v,_){for(var b=null,P=null,S=m,T=m=0,D=null;S!==null&&T<v.length;T++){S.index>T?(D=S,S=null):D=S.sibling;var z=d(g,S,v[T],_);if(z===null){S===null&&(S=D);break}t&&S&&z.alternate===null&&e(g,S),m=s(z,m,T),P===null?b=z:P.sibling=z,P=z,S=D}if(T===v.length)return n(g,S),pe&&Ji(g,T),b;if(S===null){for(;T<v.length;T++)S=h(g,v[T],_),S!==null&&(m=s(S,m,T),P===null?b=S:P.sibling=S,P=S);return pe&&Ji(g,T),b}for(S=i(g,S);T<v.length;T++)D=f(S,g,T,v[T],_),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?T:D.key),m=s(D,m,T),P===null?b=D:P.sibling=D,P=D);return t&&S.forEach(function(ae){return e(g,ae)}),pe&&Ji(g,T),b}function y(g,m,v,_){var b=fo(v);if(typeof b!="function")throw Error(C(150));if(v=b.call(v),v==null)throw Error(C(151));for(var P=b=null,S=m,T=m=0,D=null,z=v.next();S!==null&&!z.done;T++,z=v.next()){S.index>T?(D=S,S=null):D=S.sibling;var ae=d(g,S,z.value,_);if(ae===null){S===null&&(S=D);break}t&&S&&ae.alternate===null&&e(g,S),m=s(ae,m,T),P===null?b=ae:P.sibling=ae,P=ae,S=D}if(z.done)return n(g,S),pe&&Ji(g,T),b;if(S===null){for(;!z.done;T++,z=v.next())z=h(g,z.value,_),z!==null&&(m=s(z,m,T),P===null?b=z:P.sibling=z,P=z);return pe&&Ji(g,T),b}for(S=i(g,S);!z.done;T++,z=v.next())z=f(S,g,T,z.value,_),z!==null&&(t&&z.alternate!==null&&S.delete(z.key===null?T:z.key),m=s(z,m,T),P===null?b=z:P.sibling=z,P=z);return t&&S.forEach(function(He){return e(g,He)}),pe&&Ji(g,T),b}function w(g,m,v,_){if(typeof v=="object"&&v!==null&&v.type===ss&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Al:e:{for(var b=v.key,P=m;P!==null;){if(P.key===b){if(b=v.type,b===ss){if(P.tag===7){n(g,P.sibling),m=r(P,v.props.children),m.return=g,g=m;break e}}else if(P.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===di&&ky(b)===P.type){n(g,P.sibling),m=r(P,v.props),m.ref=vo(g,P,v),m.return=g,g=m;break e}n(g,P);break}else e(g,P);P=P.sibling}v.type===ss?(m=gr(v.props.children,g.mode,_,v.key),m.return=g,g=m):(_=hu(v.type,v.key,v.props,null,g.mode,_),_.ref=vo(g,m,v),_.return=g,g=_)}return o(g);case rs:e:{for(P=v.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=r(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=rd(v,g.mode,_),m.return=g,g=m}return o(g);case di:return P=v._init,w(g,m,P(v._payload),_)}if(ko(v))return p(g,m,v,_);if(fo(v))return y(g,m,v,_);zl(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=r(m,v),m.return=g,g=m):(n(g,m),m=id(v,g.mode,_),m.return=g,g=m),o(g)):n(g,m)}return w}var Ms=p_(!0),m_=p_(!1),Qa={},Cn=Bi(Qa),Ea=Bi(Qa),Pa=Bi(Qa);function ur(t){if(t===Qa)throw Error(C(174));return t}function Yp(t,e){switch(le(Pa,e),le(Ea,t),le(Cn,Qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yd(e,t)}de(Cn),le(Cn,e)}function Ds(){de(Cn),de(Ea),de(Pa)}function g_(t){ur(Pa.current);var e=ur(Cn.current),n=Yd(e,t.type);e!==n&&(le(Ea,t),le(Cn,n))}function Xp(t){Ea.current===t&&(de(Cn),de(Ea))}var ye=Bi(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function Jp(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var ou=ri.ReactCurrentDispatcher,Jh=ri.ReactCurrentBatchConfig,br=0,ve=null,Oe=null,Ue=null,Yu=!1,Jo=!1,Ta=0,ZT=0;function tt(){throw Error(C(321))}function Zp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function em(t,e,n,i,r,s){if(br=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?iC:rC,t=n(i,r),Jo){s=0;do{if(Jo=!1,Ta=0,25<=s)throw Error(C(301));s+=1,Ue=Oe=null,e.updateQueue=null,ou.current=sC,t=n(i,r)}while(Jo)}if(ou.current=Xu,e=Oe!==null&&Oe.next!==null,br=0,Ue=Oe=ve=null,Yu=!1,e)throw Error(C(300));return t}function tm(){var t=Ta!==0;return Ta=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ve.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Jt(){if(Oe===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Ue===null?ve.memoizedState:Ue.next;if(e!==null)Ue=e,Oe=t;else{if(t===null)throw Error(C(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ue===null?ve.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Ca(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=Jt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var i=Oe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((br&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ve.lanes|=c,Er|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,dn(i,e.memoizedState)||(Pt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,ve.lanes|=s,Er|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ed(t){var e=Jt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);dn(s,e.memoizedState)||(Pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function y_(){}function v_(t,e){var n=ve,i=Jt(),r=e(),s=!dn(i.memoizedState,r);if(s&&(i.memoizedState=r,Pt=!0),i=i.queue,nm(S_.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Aa(9,__.bind(null,n,i,r,e),void 0,null),Be===null)throw Error(C(349));(br&30)!==0||w_(n,e,r)}return r}function w_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function __(t,e,n,i){e.value=n,e.getSnapshot=i,b_(e)&&E_(t)}function S_(t,e,n){return n(function(){b_(e)&&E_(t)})}function b_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function E_(t){var e=Yn(t,1);e!==null&&cn(e,t,1,-1)}function Iy(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=nC.bind(null,ve,t),[e.memoizedState,t]}function Aa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function P_(){return Jt().memoizedState}function au(t,e,n,i){var r=Sn();ve.flags|=t,r.memoizedState=Aa(1|e,n,void 0,i===void 0?null:i)}function Nc(t,e,n,i){var r=Jt();i=i===void 0?null:i;var s=void 0;if(Oe!==null){var o=Oe.memoizedState;if(s=o.destroy,i!==null&&Zp(i,o.deps)){r.memoizedState=Aa(e,n,s,i);return}}ve.flags|=t,r.memoizedState=Aa(1|e,n,s,i)}function xy(t,e){return au(8390656,8,t,e)}function nm(t,e){return Nc(2048,8,t,e)}function T_(t,e){return Nc(4,2,t,e)}function C_(t,e){return Nc(4,4,t,e)}function A_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k_(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,A_.bind(null,e,t),n)}function im(){}function I_(t,e){var n=Jt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Zp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function x_(t,e){var n=Jt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Zp(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function R_(t,e,n){return(br&21)===0?(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n):(dn(n,e)||(n=D0(),ve.lanes|=n,Er|=n,t.baseState=!0),e)}function eC(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var i=Jh.transition;Jh.transition={};try{t(!1),e()}finally{ne=n,Jh.transition=i}}function O_(){return Jt().memoizedState}function tC(t,e,n){var i=Ii(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},M_(t))D_(e,n);else if(n=c_(t,e,n,i),n!==null){var r=gt();cn(n,t,i,r),L_(n,e,i)}}function nC(t,e,n){var i=Ii(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(M_(t))D_(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,dn(a,o)){var l=e.interleaved;l===null?(r.next=r,Qp(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=c_(t,e,r,i),n!==null&&(r=gt(),cn(n,t,i,r),L_(n,e,i))}}function M_(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function D_(t,e){Jo=Yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L_(t,e,n){if((n&4194240)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dp(t,n)}}var Xu={readContext:Xt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},iC={readContext:Xt,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:xy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,au(4194308,4,A_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return au(4194308,4,t,e)},useInsertionEffect:function(t,e){return au(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Sn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=tC.bind(null,ve,t),[i.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Iy,useDebugValue:im,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Iy(!1),e=t[0];return t=eC.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ve,r=Sn();if(pe){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Be===null)throw Error(C(349));(br&30)!==0||w_(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,xy(S_.bind(null,i,s,t),[t]),i.flags|=2048,Aa(9,__.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Sn(),e=Be.identifierPrefix;if(pe){var n=Un,i=Gn;n=(i&~(1<<32-un(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rC={readContext:Xt,useCallback:I_,useContext:Xt,useEffect:nm,useImperativeHandle:k_,useInsertionEffect:T_,useLayoutEffect:C_,useMemo:x_,useReducer:Zh,useRef:P_,useState:function(){return Zh(Ca)},useDebugValue:im,useDeferredValue:function(t){var e=Jt();return R_(e,Oe.memoizedState,t)},useTransition:function(){var t=Zh(Ca)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:y_,useSyncExternalStore:v_,useId:O_,unstable_isNewReconciler:!1},sC={readContext:Xt,useCallback:I_,useContext:Xt,useEffect:nm,useImperativeHandle:k_,useInsertionEffect:T_,useLayoutEffect:C_,useMemo:x_,useReducer:ed,useRef:P_,useState:function(){return ed(Ca)},useDebugValue:im,useDeferredValue:function(t){var e=Jt();return Oe===null?e.memoizedState=t:R_(e,Oe.memoizedState,t)},useTransition:function(){var t=ed(Ca)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:y_,useSyncExternalStore:v_,useId:O_,unstable_isNewReconciler:!1};function Ls(t,e){try{var n="",i=e;do n+=M1(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function td(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function _f(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oC=typeof WeakMap=="function"?WeakMap:Map;function N_(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Zu||(Zu=!0,xf=i),_f(t,e)},n}function V_(t,e,n){n=$n(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){_f(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_f(t,e),typeof i!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ry(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new oC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=_C.bind(null,t,e,n),e.then(t,t))}function Oy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function My(t,e,n,i,r){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var aC=ri.ReactCurrentOwner,Pt=!1;function ct(t,e,n,i){e.child=t===null?m_(e,null,n,i):Ms(e,t.child,n,i)}function Dy(t,e,n,i,r){n=n.render;var s=e.ref;return Ps(e,r),i=em(t,e,n,i,s,r),n=tm(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Xn(t,e,r)):(pe&&n&&Bp(e),e.flags|=1,ct(t,e,i,r),e.child)}function Ly(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!hm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,z_(t,e,s,i,r)):(t=hu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&r)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(o,i)&&t.ref===e.ref)return Xn(t,e,r)}return e.flags|=1,t=xi(s,i),t.ref=e.ref,t.return=e,e.child=t}function z_(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(wa(s,i)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)(t.flags&131072)!==0&&(Pt=!0);else return e.lanes=t.lanes,Xn(t,e,r)}return Sf(t,e,n,i,r)}function G_(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(ms,Rt),Rt|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(ms,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,le(ms,Rt),Rt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,le(ms,Rt),Rt|=i;return ct(t,e,r,n),e.child}function U_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sf(t,e,n,i,r){var s=Ct(n)?_r:at.current;return s=Rs(e,s),Ps(e,r),n=em(t,e,n,i,s,r),i=tm(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Xn(t,e,r)):(pe&&i&&Bp(e),e.flags|=1,ct(t,e,n,r),e.child)}function Ny(t,e,n,i,r){if(Ct(n)){var s=!0;ju(e)}else s=!1;if(Ps(e,r),e.stateNode===null)lu(t,e),f_(e,n,i),wf(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=Ct(n)?_r:at.current,u=Rs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Ay(e,o,i,u),fi=!1;var d=e.memoizedState;o.state=d,Qu(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Tt.current||fi?(typeof c=="function"&&(vf(e,n,c,i),l=e.memoizedState),(a=fi||Cy(e,n,a,i,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,h_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Ct(n)?_r:at.current,l=Rs(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Ay(e,o,i,l),fi=!1,d=e.memoizedState,o.state=d,Qu(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Tt.current||fi?(typeof f=="function"&&(vf(e,n,f,i),p=e.memoizedState),(u=fi||Cy(e,n,u,i,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return bf(t,e,n,i,s,r)}function bf(t,e,n,i,r,s){U_(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Sy(e,n,!1),Xn(t,e,s);i=e.stateNode,aC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ms(e,t.child,null,s),e.child=Ms(e,null,a,s)):ct(t,e,a,s),e.memoizedState=i.state,r&&Sy(e,n,!0),e.child}function F_(t){var e=t.stateNode;e.pendingContext?_y(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_y(t,e.context,!1),Yp(t,e.containerInfo)}function Vy(t,e,n,i,r){return Os(),$p(r),e.flags|=256,ct(t,e,n,i),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function B_(t,e,n){var i=e.pendingProps,r=ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),le(ye,r&1),t===null)return gf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},(i&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gc(o,i,0,null),t=gr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pf(n),e.memoizedState=Ef,t):rm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return lC(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return(o&1)===0&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=xi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=gr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Pf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ef,i}return s=t.child,t=s.sibling,i=xi(s,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function rm(t,e){return e=Gc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gl(t,e,n,i){return i!==null&&$p(i),Ms(e,t.child,null,n),t=rm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lC(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=td(Error(C(422))),Gl(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Gc({mode:"visible",children:i.children},r,0,null),s=gr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,(e.mode&1)!==0&&Ms(e,t.child,null,o),e.child.memoizedState=Pf(o),e.memoizedState=Ef,s);if((e.mode&1)===0)return Gl(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(C(419)),i=td(s,i,void 0),Gl(t,e,o,i)}if(a=(o&t.childLanes)!==0,Pt||a){if(i=Be,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(i.suspendedLanes|o))!==0?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Yn(t,r),cn(i,t,r,-1))}return cm(),i=td(Error(C(421))),Gl(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=SC.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Mt=Ci(r.nextSibling),Lt=e,pe=!0,an=null,t!==null&&(jt[$t++]=Gn,jt[$t++]=Un,jt[$t++]=Sr,Gn=t.id,Un=t.overflow,Sr=e),e=rm(e,i.children),e.flags|=4096,e)}function zy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),yf(t.return,e,n)}function nd(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function j_(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ct(t,e,i.children,n),i=ye.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,n,e);else if(t.tag===19)zy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(le(ye,i),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),nd(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ku(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}nd(e,!0,n,null,s);break;case"together":nd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Er|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uC(t,e,n){switch(e.tag){case 3:F_(e),Os();break;case 5:g_(e);break;case 1:Ct(e.type)&&ju(e);break;case 4:Yp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;le(Wu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(le(ye,ye.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?B_(t,e,n):(le(ye,ye.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);le(ye,ye.current&1);break;case 19:if(i=(n&e.childLanes)!==0,(t.flags&128)!==0){if(i)return j_(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(ye,ye.current),i)break;return null;case 22:case 23:return e.lanes=0,G_(t,e,n)}return Xn(t,e,n)}var $_,Tf,H_,W_;$_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tf=function(){};H_=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ur(Cn.current);var s=null;switch(n){case"input":r=Wd(t,r),i=Wd(t,i),s=[];break;case"select":r=we({},r,{value:void 0}),i=we({},i,{value:void 0}),s=[];break;case"textarea":r=Kd(t,r),i=Kd(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Fu)}Xd(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(da.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(da.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};W_=function(t,e,n,i){n!==i&&(e.flags|=4)};function wo(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function cC(t,e,n){var i=e.pendingProps;switch(jp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return Ct(e.type)&&Bu(),nt(e),null;case 3:return i=e.stateNode,Ds(),de(Tt),de(at),Jp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,an!==null&&(Mf(an),an=null))),Tf(t,e),nt(e),null;case 5:Xp(e);var r=ur(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)H_(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(C(166));return nt(e),null}if(t=ur(Cn.current),Vl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[bn]=e,i[ba]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",i),ce("close",i);break;case"iframe":case"object":case"embed":ce("load",i);break;case"video":case"audio":for(r=0;r<xo.length;r++)ce(xo[r],i);break;case"source":ce("error",i);break;case"img":case"image":case"link":ce("error",i),ce("load",i);break;case"details":ce("toggle",i);break;case"input":qg(i,s),ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ce("invalid",i);break;case"textarea":Kg(i,s),ce("invalid",i)}Xd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nl(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nl(i.textContent,a,t),r=["children",""+a]):da.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",i)}switch(n){case"input":kl(i),Qg(i,s,!0);break;case"textarea":kl(i),Yg(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Fu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[bn]=e,t[ba]=i,$_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jd(n,i),n){case"dialog":ce("cancel",t),ce("close",t),r=i;break;case"iframe":case"object":case"embed":ce("load",t),r=i;break;case"video":case"audio":for(r=0;r<xo.length;r++)ce(xo[r],t);r=i;break;case"source":ce("error",t),r=i;break;case"img":case"image":case"link":ce("error",t),ce("load",t),r=i;break;case"details":ce("toggle",t),r=i;break;case"input":qg(t,i),r=Wd(t,i),ce("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=we({},i,{value:void 0}),ce("invalid",t);break;case"textarea":Kg(t,i),r=Kd(t,i),ce("invalid",t);break;default:r=i}Xd(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?b0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fa(t,l):typeof l=="number"&&fa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(da.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ce("scroll",t):l!=null&&kp(t,s,l,o))}switch(n){case"input":kl(t),Qg(t,i,!1);break;case"textarea":kl(t),Yg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Di(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?_s(t,!!i.multiple,s,!1):i.defaultValue!=null&&_s(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)W_(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(C(166));if(n=ur(Pa.current),ur(Cn.current),Vl(e)){if(i=e.stateNode,n=e.memoizedProps,i[bn]=e,(s=i.nodeValue!==n)&&(t=Lt,t!==null))switch(t.tag){case 3:Nl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[bn]=e,e.stateNode=i}return nt(e),null;case 13:if(de(ye),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&Mt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)u_(),Os(),e.flags|=98560,s=!1;else if(s=Vl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[bn]=e}else Os(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;nt(e),s=!1}else an!==null&&(Mf(an),an=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ye.current&1)!==0?Me===0&&(Me=3):cm())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return Ds(),Tf(t,e),t===null&&_a(e.stateNode.containerInfo),nt(e),null;case 10:return qp(e.type._context),nt(e),null;case 17:return Ct(e.type)&&Bu(),nt(e),null;case 19:if(de(ye),s=e.memoizedState,s===null)return nt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)wo(s,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Ku(t),o!==null){for(e.flags|=128,wo(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&Te()>Ns&&(e.flags|=128,i=!0,wo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Ku(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return nt(e),null}else 2*Te()-s.renderingStartTime>Ns&&n!==1073741824&&(e.flags|=128,i=!0,wo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Te(),e.sibling=null,n=ye.current,le(ye,i?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return um(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(Rt&1073741824)!==0&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function hC(t,e){switch(jp(e),e.tag){case 1:return Ct(e.type)&&Bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),de(Tt),de(at),Jp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Xp(e),null;case 13:if(de(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ye),null;case 4:return Ds(),null;case 10:return qp(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Ul=!1,it=!1,dC=typeof WeakSet=="function"?WeakSet:Set,I=null;function ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Se(t,e,i)}else n.current=null}function Cf(t,e,n){try{n()}catch(i){Se(t,e,i)}}var Gy=!1;function fC(t,e){if(uf=zu,t=Y0(),Fp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===s&&++c===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:t,selectionRange:n},zu=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:sn(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){Se(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return p=Gy,Gy=!1,p}function Zo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Cf(e,n,s)}r=r.next}while(r!==i)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Af(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q_(t){var e=t.alternate;e!==null&&(t.alternate=null,q_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bn],delete e[ba],delete e[ff],delete e[KT],delete e[YT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q_(t){return t.tag===5||t.tag===3||t.tag===4}function Uy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fu));else if(i!==4&&(t=t.child,t!==null))for(kf(t,e,n),t=t.sibling;t!==null;)kf(t,e,n),t=t.sibling}function If(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(If(t,e,n),t=t.sibling;t!==null;)If(t,e,n),t=t.sibling}var We=null,on=!1;function si(t,e,n){for(n=n.child;n!==null;)K_(t,e,n),n=n.sibling}function K_(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Ic,n)}catch{}switch(n.tag){case 5:it||ps(n,e);case 6:var i=We,r=on;We=null,si(t,e,n),We=i,on=r,We!==null&&(on?(t=We,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(on?(t=We,n=n.stateNode,t.nodeType===8?Kh(t.parentNode,n):t.nodeType===1&&Kh(t,n),ya(t)):Kh(We,n.stateNode));break;case 4:i=We,r=on,We=n.stateNode.containerInfo,on=!0,si(t,e,n),We=i,on=r;break;case 0:case 11:case 14:case 15:if(!it&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Cf(n,e,o),r=r.next}while(r!==i)}si(t,e,n);break;case 1:if(!it&&(ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Se(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(it=(i=it)||n.memoizedState!==null,si(t,e,n),it=i):si(t,e,n);break;default:si(t,e,n)}}function Fy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dC),e.forEach(function(i){var r=bC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,on=!1;break e;case 3:We=a.stateNode.containerInfo,on=!0;break e;case 4:We=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(We===null)throw Error(C(160));K_(s,o,r),We=null,on=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Se(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y_(e,t),e=e.sibling}function Y_(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),gn(t),i&4){try{Zo(3,t,t.return),Vc(3,t)}catch(y){Se(t,t.return,y)}try{Zo(5,t,t.return)}catch(y){Se(t,t.return,y)}}break;case 1:tn(e,t),gn(t),i&512&&n!==null&&ps(n,n.return);break;case 5:if(tn(e,t),gn(t),i&512&&n!==null&&ps(n,n.return),t.flags&32){var r=t.stateNode;try{fa(r,"")}catch(y){Se(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&y0(r,s),Jd(a,o);var u=Jd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?b0(r,h):c==="dangerouslySetInnerHTML"?_0(r,h):c==="children"?fa(r,h):kp(r,c,h,u)}switch(a){case"input":qd(r,s);break;case"textarea":v0(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?_s(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?_s(r,!!s.multiple,s.defaultValue,!0):_s(r,!!s.multiple,s.multiple?[]:"",!1))}r[ba]=s}catch(y){Se(t,t.return,y)}}break;case 6:if(tn(e,t),gn(t),i&4){if(t.stateNode===null)throw Error(C(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Se(t,t.return,y)}}break;case 3:if(tn(e,t),gn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(e.containerInfo)}catch(y){Se(t,t.return,y)}break;case 4:tn(e,t),gn(t);break;case 13:tn(e,t),gn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(am=Te())),i&4&&Fy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||c,tn(e,t),it=u):tn(e,t),gn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(I=t,c=t.child;c!==null;){for(h=I=c;I!==null;){switch(d=I,f=d.child,d.tag){case 0:case 11:case 14:case 15:Zo(4,d,d.return);break;case 1:ps(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Se(i,n,y)}}break;case 5:ps(d,d.return);break;case 22:if(d.memoizedState!==null){jy(h);continue}}f!==null?(f.return=d,I=f):jy(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S0("display",o))}catch(y){Se(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Se(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tn(e,t),gn(t),i&4&&Fy(t);break;case 21:break;default:tn(e,t),gn(t)}}function gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q_(n)){var i=n;break e}n=n.return}throw Error(C(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fa(r,""),i.flags&=-33);var s=Uy(t);If(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Uy(t);kf(t,a,o);break;default:throw Error(C(161))}}catch(l){Se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pC(t,e,n){I=t,X_(t)}function X_(t,e,n){for(var i=(t.mode&1)!==0;I!==null;){var r=I,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ul;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||it;a=Ul;var u=it;if(Ul=o,(it=l)&&!u)for(I=r;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?$y(r):l!==null?(l.return=o,I=l):$y(r);for(;s!==null;)I=s,X_(s),s=s.sibling;I=r,Ul=a,it=u}By(t)}else(r.subtreeFlags&8772)!==0&&s!==null?(s.return=r,I=s):By(t)}}function By(t){for(;I!==null;){var e=I;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:it||Vc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!it)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ty(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ty(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}it||e.flags&512&&Af(e)}catch(d){Se(e,e.return,d)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function jy(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function $y(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(l){Se(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Se(e,r,l)}}var s=e.return;try{Af(e)}catch(l){Se(e,s,l)}break;case 5:var o=e.return;try{Af(e)}catch(l){Se(e,o,l)}}}catch(l){Se(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var mC=Math.ceil,Ju=ri.ReactCurrentDispatcher,sm=ri.ReactCurrentOwner,Qt=ri.ReactCurrentBatchConfig,J=0,Be=null,Ie=null,Ke=0,Rt=0,ms=Bi(0),Me=0,ka=null,Er=0,zc=0,om=0,ea=null,bt=null,am=0,Ns=1/0,Vn=null,Zu=!1,xf=null,ki=null,Fl=!1,bi=null,ec=0,ta=0,Rf=null,uu=-1,cu=0;function gt(){return(J&6)!==0?Te():uu!==-1?uu:uu=Te()}function Ii(t){return(t.mode&1)===0?1:(J&2)!==0&&Ke!==0?Ke&-Ke:JT.transition!==null?(cu===0&&(cu=D0()),cu):(t=ne,t!==0||(t=window.event,t=t===void 0?16:F0(t.type)),t)}function cn(t,e,n,i){if(50<ta)throw ta=0,Rf=null,Error(C(185));Ha(t,n,i),((J&2)===0||t!==Be)&&(t===Be&&((J&2)===0&&(zc|=n),Me===4&&mi(t,Ke)),At(t,i),n===1&&J===0&&(e.mode&1)===0&&(Ns=Te()+500,Dc&&ji()))}function At(t,e){var n=t.callbackNode;J1(t,e);var i=Vu(t,t===Be?Ke:0);if(i===0)n!==null&&Zg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Zg(n),e===1)t.tag===0?XT(Hy.bind(null,t)):o_(Hy.bind(null,t)),qT(function(){(J&6)===0&&ji()}),n=null;else{switch(L0(i)){case 1:n=Mp;break;case 4:n=O0;break;case 16:n=Nu;break;case 536870912:n=M0;break;default:n=Nu}n=sS(n,J_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function J_(t,e){if(uu=-1,cu=0,(J&6)!==0)throw Error(C(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var i=Vu(t,t===Be?Ke:0);if(i===0)return null;if((i&30)!==0||(i&t.expiredLanes)!==0||e)e=tc(t,i);else{e=i;var r=J;J|=2;var s=eS();(Be!==t||Ke!==e)&&(Vn=null,Ns=Te()+500,mr(t,e));do try{vC();break}catch(a){Z_(t,a)}while(1);Wp(),Ju.current=s,J=r,Ie!==null?e=0:(Be=null,Ke=0,e=Me)}if(e!==0){if(e===2&&(r=rf(t),r!==0&&(i=r,e=Of(t,r))),e===1)throw n=ka,mr(t,0),mi(t,i),At(t,Te()),n;if(e===6)mi(t,i);else{if(r=t.current.alternate,(i&30)===0&&!gC(r)&&(e=tc(t,i),e===2&&(s=rf(t),s!==0&&(i=s,e=Of(t,s))),e===1))throw n=ka,mr(t,0),mi(t,i),At(t,Te()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(C(345));case 2:Zi(t,bt,Vn);break;case 3:if(mi(t,i),(i&130023424)===i&&(e=am+500-Te(),10<e)){if(Vu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){gt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=df(Zi.bind(null,t,bt,Vn),e);break}Zi(t,bt,Vn);break;case 4:if(mi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-un(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Te()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mC(i/1960))-i,10<i){t.timeoutHandle=df(Zi.bind(null,t,bt,Vn),i);break}Zi(t,bt,Vn);break;case 5:Zi(t,bt,Vn);break;default:throw Error(C(329))}}}return At(t,Te()),t.callbackNode===n?J_.bind(null,t):null}function Of(t,e){var n=ea;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=tc(t,e),t!==2&&(e=bt,bt=n,e!==null&&Mf(e)),t}function Mf(t){bt===null?bt=t:bt.push.apply(bt,t)}function gC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!dn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~om,e&=~zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),i=1<<n;t[n]=-1,e&=~i}}function Hy(t){if((J&6)!==0)throw Error(C(327));Ts();var e=Vu(t,0);if((e&1)===0)return At(t,Te()),null;var n=tc(t,e);if(t.tag!==0&&n===2){var i=rf(t);i!==0&&(e=i,n=Of(t,i))}if(n===1)throw n=ka,mr(t,0),mi(t,e),At(t,Te()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zi(t,bt,Vn),At(t,Te()),null}function lm(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Ns=Te()+500,Dc&&ji())}}function Pr(t){bi!==null&&bi.tag===0&&(J&6)===0&&Ts();var e=J;J|=1;var n=Qt.transition,i=ne;try{if(Qt.transition=null,ne=1,t)return t()}finally{ne=i,Qt.transition=n,J=e,(J&6)===0&&ji()}}function um(){Rt=ms.current,de(ms)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WT(n)),Ie!==null)for(n=Ie.return;n!==null;){var i=n;switch(jp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bu();break;case 3:Ds(),de(Tt),de(at),Jp();break;case 5:Xp(i);break;case 4:Ds();break;case 13:de(ye);break;case 19:de(ye);break;case 10:qp(i.type._context);break;case 22:case 23:um()}n=n.return}if(Be=t,Ie=t=xi(t.current,null),Ke=Rt=e,Me=0,ka=null,om=zc=Er=0,bt=ea=null,lr!==null){for(e=0;e<lr.length;e++)if(n=lr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}lr=null}return t}function Z_(t,e){do{var n=Ie;try{if(Wp(),ou.current=Xu,Yu){for(var i=ve.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Yu=!1}if(br=0,Ue=Oe=ve=null,Jo=!1,Ta=0,sm.current=null,n===null||n.return===null){Me=1,ka=e,Ie=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Oy(o);if(f!==null){f.flags&=-257,My(f,o,a,s,e),f.mode&1&&Ry(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if((e&1)===0){Ry(s,u,e),cm();break e}l=Error(C(426))}}else if(pe&&a.mode&1){var w=Oy(o);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),My(w,o,a,s,e),$p(Ls(l,a));break e}}s=l=Ls(l,a),Me!==4&&(Me=2),ea===null?ea=[s]:ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=N_(s,l,e);Py(s,g);break e;case 1:a=l;var m=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ki===null||!ki.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=V_(s,a,e);Py(s,_);break e}}s=s.return}while(s!==null)}nS(n)}catch(b){e=b,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(1)}function eS(){var t=Ju.current;return Ju.current=Xu,t===null?Xu:t}function cm(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||(Er&268435455)===0&&(zc&268435455)===0||mi(Be,Ke)}function tc(t,e){var n=J;J|=2;var i=eS();(Be!==t||Ke!==e)&&(Vn=null,mr(t,e));do try{yC();break}catch(r){Z_(t,r)}while(1);if(Wp(),J=n,Ju.current=i,Ie!==null)throw Error(C(261));return Be=null,Ke=0,Me}function yC(){for(;Ie!==null;)tS(Ie)}function vC(){for(;Ie!==null&&!j1();)tS(Ie)}function tS(t){var e=rS(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?nS(t):Ie=e,sm.current=null}function nS(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=cC(n,e,Rt),n!==null){Ie=n;return}}else{if(n=hC(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Ie=null;return}}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Me===0&&(Me=5)}function Zi(t,e,n){var i=ne,r=Qt.transition;try{Qt.transition=null,ne=1,wC(t,e,n,i)}finally{Qt.transition=r,ne=i}return null}function wC(t,e,n,i){do Ts();while(bi!==null);if((J&6)!==0)throw Error(C(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Z1(t,s),t===Be&&(Ie=Be=null,Ke=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Fl||(Fl=!0,sS(Nu,function(){return Ts(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Qt.transition,Qt.transition=null;var o=ne;ne=1;var a=J;J|=4,sm.current=null,fC(t,n),Y_(n,t),GT(cf),zu=!!uf,cf=uf=null,t.current=n,pC(n),$1(),J=a,ne=o,Qt.transition=s}else t.current=n;if(Fl&&(Fl=!1,bi=t,ec=r),s=t.pendingLanes,s===0&&(ki=null),q1(n.stateNode),At(t,Te()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Zu)throw Zu=!1,t=xf,xf=null,t;return(ec&1)!==0&&t.tag!==0&&Ts(),s=t.pendingLanes,(s&1)!==0?t===Rf?ta++:(ta=0,Rf=t):ta=0,ji(),null}function Ts(){if(bi!==null){var t=L0(ec),e=Qt.transition,n=ne;try{if(Qt.transition=null,ne=16>t?16:t,bi===null)var i=!1;else{if(t=bi,bi=null,ec=0,(J&6)!==0)throw Error(C(331));var r=J;for(J|=4,I=t.current;I!==null;){var s=I,o=s.child;if((I.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Zo(8,c,s)}var h=c.child;if(h!==null)h.return=c,I=h;else for(;I!==null;){c=I;var d=c.sibling,f=c.return;if(q_(c),c===u){I=null;break}if(d!==null){d.return=f,I=d;break}I=f}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}I=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Zo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,I=g;break e}I=s.return}}var m=t.current;for(I=m;I!==null;){o=I;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,I=v;else e:for(o=m;I!==null;){if(a=I,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Vc(9,a)}}catch(b){Se(a,a.return,b)}if(a===o){I=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,I=_;break e}I=a.return}}if(J=r,ji(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Ic,t)}catch{}i=!0}return i}finally{ne=n,Qt.transition=e}}return!1}function Wy(t,e,n){e=Ls(n,e),e=N_(t,e,1),t=Ai(t,e,1),e=gt(),t!==null&&(Ha(t,1,e),At(t,e))}function Se(t,e,n){if(t.tag===3)Wy(t,t,n);else for(;e!==null;){if(e.tag===3){Wy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ki===null||!ki.has(i))){t=Ls(n,t),t=V_(e,t,1),e=Ai(e,t,1),t=gt(),e!==null&&(Ha(e,1,t),At(e,t));break}}e=e.return}}function _C(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ke&n)===n&&(Me===4||Me===3&&(Ke&130023424)===Ke&&500>Te()-am?mr(t,0):om|=n),At(t,e)}function iS(t,e){e===0&&((t.mode&1)===0?e=1:(e=Rl,Rl<<=1,(Rl&130023424)===0&&(Rl=4194304)));var n=gt();t=Yn(t,e),t!==null&&(Ha(t,e,n),At(t,n))}function SC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iS(t,n)}function bC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(C(314))}i!==null&&i.delete(e),iS(t,n)}var rS;rS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Pt=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Pt=!1,uC(t,e,n);Pt=(t.flags&131072)!==0}else Pt=!1,pe&&(e.flags&1048576)!==0&&a_(e,Hu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;lu(t,e),t=e.pendingProps;var r=Rs(e,at.current);Ps(e,n),r=em(null,e,i,t,r,n);var s=tm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(i)?(s=!0,ju(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Kp(e),r.updater=Lc,e.stateNode=r,r._reactInternals=e,wf(e,i,t,n),e=bf(null,e,i,!0,s,n)):(e.tag=0,pe&&s&&Bp(e),ct(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(lu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=PC(i),t=sn(i,t),r){case 0:e=Sf(null,e,i,t,n);break e;case 1:e=Ny(null,e,i,t,n);break e;case 11:e=Dy(null,e,i,t,n);break e;case 14:e=Ly(null,e,i,sn(i.type,t),n);break e}throw Error(C(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:sn(i,r),Sf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:sn(i,r),Ny(t,e,i,r,n);case 3:e:{if(F_(e),t===null)throw Error(C(387));i=e.pendingProps,s=e.memoizedState,r=s.element,h_(t,e),Qu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ls(Error(C(423)),e),e=Vy(t,e,i,n,r);break e}else if(i!==r){r=Ls(Error(C(424)),e),e=Vy(t,e,i,n,r);break e}else for(Mt=Ci(e.stateNode.containerInfo.firstChild),Lt=e,pe=!0,an=null,n=m_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Os(),i===r){e=Xn(t,e,n);break e}ct(t,e,i,n)}e=e.child}return e;case 5:return g_(e),t===null&&gf(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,hf(i,r)?o=null:s!==null&&hf(i,s)&&(e.flags|=32),U_(t,e),ct(t,e,o,n),e.child;case 6:return t===null&&gf(e),null;case 13:return B_(t,e,n);case 4:return Yp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ms(e,null,i,n):ct(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:sn(i,r),Dy(t,e,i,r,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,le(Wu,i._currentValue),i._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===r.children&&!Tt.current){e=Xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=$n(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ct(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ps(e,n),r=Xt(r),i=i(r),e.flags|=1,ct(t,e,i,n),e.child;case 14:return i=e.type,r=sn(i,e.pendingProps),r=sn(i.type,r),Ly(t,e,i,r,n);case 15:return z_(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:sn(i,r),lu(t,e),e.tag=1,Ct(i)?(t=!0,ju(e)):t=!1,Ps(e,n),f_(e,i,r),wf(e,i,r,n),bf(null,e,i,!0,t,n);case 19:return j_(t,e,n);case 22:return G_(t,e,n)}throw Error(C(156,e.tag))};function sS(t,e){return R0(t,e)}function EC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,i){return new EC(t,e,n,i)}function hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PC(t){if(typeof t=="function")return hm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xp)return 11;if(t===Rp)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")hm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ss:return gr(n.children,r,s,e);case Ip:o=8,r|=8;break;case Bd:return t=Wt(12,n,e,r|2),t.elementType=Bd,t.lanes=s,t;case jd:return t=Wt(13,n,e,r),t.elementType=jd,t.lanes=s,t;case $d:return t=Wt(19,n,e,r),t.elementType=$d,t.lanes=s,t;case p0:return Gc(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d0:o=10;break e;case f0:o=9;break e;case xp:o=11;break e;case Rp:o=14;break e;case di:o=16,i=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function gr(t,e,n,i){return t=Wt(7,t,i,e),t.lanes=n,t}function Gc(t,e,n,i){return t=Wt(22,t,i,e),t.elementType=p0,t.lanes=n,t.stateNode={isHidden:!1},t}function id(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function rd(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function dm(t,e,n,i,r,s,o,a,l){return t=new TC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(s),t}function CC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function oS(t){if(!t)return Li;t=t._reactInternals;e:{if(Gr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Ct(n))return s_(t,n,e)}return e}function aS(t,e,n,i,r,s,o,a,l){return t=dm(n,i,!0,t,r,s,o,a,l),t.context=oS(null),n=t.current,i=gt(),r=Ii(n),s=$n(i,r),s.callback=e!=null?e:null,Ai(n,s,r),t.current.lanes=r,Ha(t,r,i),At(t,i),t}function Uc(t,e,n,i){var r=e.current,s=gt(),o=Ii(r);return n=oS(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ai(r,e,o),t!==null&&(cn(t,r,o,s),su(t,r,o)),o}function nc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fm(t,e){qy(t,e),(t=t.alternate)&&qy(t,e)}function AC(){return null}var lS=typeof reportError=="function"?reportError:function(t){console.error(t)};function pm(t){this._internalRoot=t}Fc.prototype.render=pm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Uc(t,e,null,null)};Fc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pr(function(){Uc(null,t,null,null)}),e[Kn]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=z0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pi.length&&e!==0&&e<pi[n].priority;n++);pi.splice(n,0,t),n===0&&U0(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function kC(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=nc(o);s.call(u)}}var o=aS(e,i,t,0,null,!1,!1,"",Qy);return t._reactRootContainer=o,t[Kn]=o.current,_a(t.nodeType===8?t.parentNode:t),Pr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=nc(l);a.call(u)}}var l=dm(t,0,!1,null,null,!1,!1,"",Qy);return t._reactRootContainer=l,t[Kn]=l.current,_a(t.nodeType===8?t.parentNode:t),Pr(function(){Uc(e,l,n,i)}),l}function jc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=nc(o);a.call(l)}}Uc(e,o,t,r)}else o=kC(n,e,t,r,i);return nc(o)}N0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Io(e.pendingLanes);n!==0&&(Dp(e,n|1),At(e,Te()),(J&6)===0&&(Ns=Te()+500,ji()))}break;case 13:Pr(function(){var i=Yn(t,1);if(i!==null){var r=gt();cn(i,t,1,r)}}),fm(t,1)}};Lp=function(t){if(t.tag===13){var e=Yn(t,134217728);if(e!==null){var n=gt();cn(e,t,134217728,n)}fm(t,134217728)}};V0=function(t){if(t.tag===13){var e=Ii(t),n=Yn(t,e);if(n!==null){var i=gt();cn(n,t,e,i)}fm(t,e)}};z0=function(){return ne};G0=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};ef=function(t,e,n){switch(e){case"input":if(qd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Mc(i);if(!r)throw Error(C(90));g0(i),qd(i,r)}}}break;case"textarea":v0(t,n);break;case"select":e=n.value,e!=null&&_s(t,!!n.multiple,e,!1)}};T0=lm;C0=Pr;var IC={usingClientEntryPoint:!1,Events:[qa,us,Mc,E0,P0,lm]},_o={findFiberByHostInstance:ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xC={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I0(t),t===null?null:t.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||AC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Ic=Bl.inject(xC),Tn=Bl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(e))throw Error(C(200));return CC(t,e,null,n)};Gt.createRoot=function(t,e){if(!mm(t))throw Error(C(299));var n=!1,i="",r=lS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=dm(t,1,!1,null,null,n,!1,i,r),t[Kn]=e.current,_a(t.nodeType===8?t.parentNode:t),new pm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=I0(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Pr(t)};Gt.hydrate=function(t,e,n){if(!Bc(e))throw Error(C(200));return jc(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!mm(t))throw Error(C(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=lS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aS(e,null,t,1,n!=null?n:null,r,!1,s,o),t[Kn]=e.current,_a(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Fc(e)};Gt.render=function(t,e,n){if(!Bc(e))throw Error(C(200));return jc(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!Bc(t))throw Error(C(40));return t._reactRootContainer?(Pr(function(){jc(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};Gt.unstable_batchedUpdates=lm;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Bc(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return jc(t,e,n,!1,i)};Gt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Gt})(a0);var Ky=a0.exports;Ud.createRoot=Ky.createRoot,Ud.hydrateRoot=Ky.hydrateRoot;const RC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmRjMjBmNTM2LTJhZjUtNGM3My05ZjZjLTAzMzkwY2JlN2VjMDwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PvItxZYAAAKwSURBVFiF7Ze9bhNBFIW/M2s7JqJAUKdKpJS8AwXpkRANzxAJ0cIbREi8AAUSSqBFUNDxBrQoilLTUeQPxzuHYmYdx3Y2tpdYSPGRVusdz5355ufeuQNLLbXUUrdbGi04ODgd+isSggR4Ut0pZRvZOASQoN+HjY07swPaZn//BElIKAQszcs13G5q264GKyRPxFhf716ybY0RKz2AJboS3dTofJLARmXJEagPxh70gR2RiivtxwBDCAGIwOMYvQu0mwBm2xVbP4Et0C/JGU+2jaS7wNFUgDE6ADEEPbJ1HxyB0AAwz5YegreA90ArRp+HACEUOxA/A99zP3HYtq7jMzCS+pI87wOK1dKC2/ltSdi8Ab8En+byMYixGZwAr5H3jHK21aANyX3wjs2LBH+16gCH1cCVL5nG7CRvJbbTN6Gu/UZ7a1bZ/JF4BdpOMydxzeCnncGmKkhh6zWwmYqcw7azU0zmvHFAKcUSCYE2bZy9ugo11EWxG1/iBCTZsk3M3luF6WvtF7UHDdalT2Aa31vAElvpaFMEh6HfmgZwAUucArbtYOurpGPbIQXw/2eJI4DNO+BJ2ocuMmTtTC4IMKWTkh/Y/gY8T2mcA6i8OObGZ3QqQNsNspkq1zU5OGP7A/AsQ7byeT3Rus5JKqhSDbLWbFqCCqDIza7Y/iQpgHZTEgGTIOsAOwC2uzV1plXVz+8M0odY2OxdDCD1di2glCrb/ihpg3+TsHaAwxD0JSG4bLdXOTs7FoS9VqujTqeg1yvrAfNWqzbNjxjj00bbb0ijuyTGSKfT9fl5T1A6xsBgIq8CzMcQpINd6TYW48W5ObcsKdgMEoOyTGlgCIVjNL1eb/LARgsOD09ptUS7DScnxh69gc0qke8d9Ptn2GZ19R5ra81vi0sttdRSt0F/AbV4QUoZ1kOTAAAAAElFTkSuQmCC",OC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmQyOGI5NDkyLTJiMDAtNDVjZC1iNDc4LTNjODM4YzMxZTZhMzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PgpJjy4AAAWJSURBVFiF7ZdNiGRXGYaf95xb3V01o+MYEzLOCNP2xDDgD+ImgRDQpSIuXKigmEBQSBaCC7Nyo5v8ICSrkIWB4EZ3BsVEQVEMBqIbYWAw00WRLDQOkwRnpqd+7j3ndXFuVZeZrs7tHhMXzge96Fvfud97vp/3ey/ctJv2vzUd9MBwOCYEI0HTCAmV98hgQ8I2UmRra/DeAhwOx4ABsBWBpMUbhG2AIOVcfCDGAZubB87DwqqujtvbY0r8RbBk05P4KNAHZhIjm/FgcJGdndsEOKVrhwYHELo4DYczIBZUKSCB5G+FwCvAOeBl8F9tX5D83atXT2A3nt+mZP5dBFhVvRZUUlUlbB61eRp82nZlu2e7knQS+JGUn4mxx/p6YwiUgr+LAO2M3QQ72NaXge9JJFtJkud/thOoBu7PmYdmsx7gqMO3YLch2d4ec+LEm1y6dIy6ji9JvstWI7kq04vKSEi2k6RoexvyWVCj/0Ao5SyDkDJnzvT3jd0pg5L1+uvHaZpwCvwpW4CjrUWfteAsKRSa0WmpulMKQFCZ6ADg0iZrSGI02r8/OwKUJCHpuKQKTPn/Or82j9imsn3SBjuHcoYIfMSGfv88Bfz+1rEHC8XZugieSMw57+1+lN+QRBMCr5XhUlxfH1DX+cfAaznrm9PpJjmnHgRGo3rlpHcCmHP22lpFjPqnzV/aqia3tabgtWTZC/I+D9UrkrE9u3bNAF8ql9A97QXr2WzK5csXV2azE1H3egOm00kAMuiHNp+VqGyathcpQGhakACP2HUOwe8DfT7G6a1leAC8JXEf8A9Jv+73j67MVacpHo3eIIQPUtfjOcjvSH5ivt5KWTUvL8BjMerhlDISP7D5fgllWjraXZDiXuCPQNjaGlzHmJ1KnFKf48dBCjlnC3gS9EXbf5K4Yuuq5Cvgl4GvheCH7Rzb45fagcqAS0fI7dC9BfoXc71xmAwOh9dYvnArFizBeLwT+v2jdwNnJUYp8aLkKYAdBAmpsuSP275T4hnb7wd+BXoc9KqdRmBB8h13HLsu/r49OBxOSakmhAAolu0BwOds3b+xceRu8IeAwoDiisSLNj+VeK7cP1Wgc7B+DiZPtaT9d5vfhyByRjaGvffhyhKPRmPspgVHBBJwEvQL4Lfgr0vasnXM1gdsH5N8Cvgq8HMp/07iYxKN7XWYYvOE7VfBP5NMzrkaDv/sy5cvEcLe2nFliS9cGCN5CZw+A/xS4vYWrG2HIljLa2wblCVkE8E7El+w/QdwkELe2ak1GKx5PjQxwubm6nW3Zwa3t8ctdgVQknQaeB58O3jmohoq7S7Zxbor9OMguZZ0xOYF0KchZJu4thaX1uM7254AQyiyvq7rnItWehZ8q6SZzVoLqw20C7Jkzm5XXg9cgzaAZyXWJKeqCpJsKSF53+ytBBjjUWxir9cjhPAVm3tLL9GT5kpkbxE1f174jp5EDXzC5kE7UKpitraOdPpm2RPgbNbQ78fU6wnwt3f3q99W0pWmuaCwHcqFeCBGB8mpI/2uBhgCmkwaUsonJe5qRUDY1X5dbFd+td1wNmd9sj3eGeEqRwHYnKF8EB3K1NZZUm4H66yLNOo8JHsStb3I0odLIHIroQ4h3gU4l97jlqWHhwe41P7zTF4nTjvDK5zo9vwt7+DeDeCSFtUypbSBOkMtK2wxLAD1fwWgxBzi33azp/qgJW7PeUGZcH6O/YYAgjJkinoOP7H9DeZf7oc0id+sr288lxI0zSzdIMDcyiUsbdxnT16SOEUp0UGyaCDavAXx6clkmguX6sYy2MryohQiuWl4aq+PpINY+6GleV/eEMAYB6Q0ASCl6cLvoNO87G/nZj4rMXbvln3DtaTK8trtmskVq3rl85v2f2v/BnSI93fiTohdAAAAAElFTkSuQmCC",MC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmNhNTE4ODMwLTBmMmYtNGY0NC1iYzQ2LWVlM2JlZmQ4MmIxNjwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PlV4Lz0AAANzSURBVFiF7ZVNixxlFIWfc6u6pyYzi7iImkUWSXqT+Ilg/Fhkl1VcuAn+BUFw7Q/wX7gRQXAl/gIFQQ0EBKMizkdGgpBFxF07091V97iot+ejZ4xuhTrQ0FWc973nPee+t2DAgAEDBgwYMOD/DJ31cnf3L6qqQUq6bkEmIYGkvHx5jUzY25sBpqqEBF1nbEmyAEfgiI62rYiAtoVMqCqQUKltOyyBbSaT5t8F7u7ukwlSX6eqyK6DIhA7Q3LaM+BwwwDS7sVSKj98eD8nk9eYzw8AA2g6XXhzc3ysfBd2lWUVk8n6CT2xKtCmFLGAlKIBXgJekWIT1MvX6Pghs6rqAL0AvAo8BeSlS89rOv0D29i9YxsbNcA1iRvABZvMXCBVbG76lIOnBBbno5fql9u2+0nie+Be17W/2r5p23ZEWW+bK23b3gP/AHwHfiBxR5JHo3Mh9eYDT0v6CvjZ5lvbDyDei6ix29jfh+1tn1JzAjs7+yUOVeAfQdf6SJGEbB5H8JzNY0hltpbWvpH8Zh9z31+SZqAXwVtABe5sPgPe6VPwcj+AN0B3gZjPm7x+/UjWGQ6iovuqxESyj3pLC+BCJrf6jWtLzQsSr9skaNmrc9trkG/bJmLRAc8At0tvlx7XrJS8LRnJoRXL6lPqdGjxCIo6oBfppfjNY9z1k0lIJQFsn+vfrSHlOjByH8XyFqscaukk58+f1HPGJdHy98hm3jvCXGIB1OX5bj8aGiDu2/xeRscMPC/tAfA1QNe1MR4/+s32VilTeJTD8Es5nC9ePNmDZwm0lCH5T+ADG2yv2R73wvkwk/uZCA4C8kDi/eJYY2sMroCPwF9KliRms2eReFdiatPYjG2PJH2+sdF8urGxToS6EthRHqsCt7cPkGCxWFDXNRK3JG4CYXMvIr9o25qIJLNDCtF3/A2Jt3qet2x9EtHRFzSgoB9b14A7wBp4t6rWP27bg1w2x5UrTenPfxC4s3PQWxsiM8vuPqRXVarrwgBXrzZsbU2JiJCURzxYLMRoVOYvuQwrpEj7iFfXDW07Y7l2Mjn35IgnkwbJjMdJXduFU5dftVhUzuyX7e3NmM3MdDrPVd547MOi0hg76T926Div6+blsomqOnVnz/4WQz99V59PWF/+r/JOFTi25klcrc6XAQMGDBgwYMCA/4K/AR9NvILUl7eBAAAAAElFTkSuQmCC";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},DC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),i.push(n[c],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(i.push(d),u!==64){const f=a<<4&240|u>>2;if(i.push(f),h!==64){const p=u<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},LC=function(t){const e=uS(t);return cS.encodeByteArray(e,!0)},hS=function(t){return LC(t).replace(/\./g,"")},NC=function(t){try{return cS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function fS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){return je().indexOf("Electron/")>=0}function mS(){const t=je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GC(){return je().indexOf("MSAppHost/")>=0}function UC(){return typeof indexedDB=="object"}function FC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="FirebaseError";class On extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=BC,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}}class Ka{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?jC(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new On(r,a,i)}}function jC(t,e){return t.replace($C,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const $C=/\{\$([^}]+)}/g;function HC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Yy(s)&&Yy(o)){if(!ic(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Yy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ro(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WC(t,e){const n=new qC(t,e);return n.subscribe.bind(n)}class qC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QC(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=sd),r.error===void 0&&(r.error=sd),r.complete===void 0&&(r.complete=sd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sd(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new VC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YC(t){return t===er?void 0:t}function XC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Z||(Z={}));const ZC={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},eA=Z.INFO,tA={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},nA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=tA[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=eA,this._logHandler=nA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const iA=(t,e)=>e.some(n=>t instanceof n);let Xy,Jy;function rA(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sA(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,Df=new WeakMap,yS=new WeakMap,ad=new WeakMap,ym=new WeakMap;function oA(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ri(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gS.set(n,t)}).catch(()=>{}),ym.set(e,t),e}function aA(t){if(Df.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Df.set(t,e)}let Lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Df.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lA(t){Lf=t(Lf)}function uA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ld(this),e,...n);return yS.set(i,e.sort?e.sort():[e]),Ri(i)}:sA().includes(t)?function(...e){return t.apply(ld(this),e),Ri(gS.get(this))}:function(...e){return Ri(t.apply(ld(this),e))}}function cA(t){return typeof t=="function"?uA(t):(t instanceof IDBTransaction&&aA(t),iA(t,rA())?new Proxy(t,Lf):t)}function Ri(t){if(t instanceof IDBRequest)return oA(t);if(ad.has(t))return ad.get(t);const e=cA(t);return e!==t&&(ad.set(t,e),ym.set(e,t)),e}const ld=t=>ym.get(t);function hA(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Ri(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ri(o.result),l.oldVersion,l.newVersion,Ri(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const dA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],ud=new Map;function Zy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=fA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||dA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return ud.set(e,s),s}lA(t=>({...t,get:(e,n,i)=>Zy(e,n)||t.get(e,n,i),has:(e,n)=>!!Zy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",ev="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new gm("@firebase/app"),gA="@firebase/app-compat",yA="@firebase/analytics-compat",vA="@firebase/analytics",wA="@firebase/app-check-compat",_A="@firebase/app-check",SA="@firebase/auth",bA="@firebase/auth-compat",EA="@firebase/database",PA="@firebase/database-compat",TA="@firebase/functions",CA="@firebase/functions-compat",AA="@firebase/installations",kA="@firebase/installations-compat",IA="@firebase/messaging",xA="@firebase/messaging-compat",RA="@firebase/performance",OA="@firebase/performance-compat",MA="@firebase/remote-config",DA="@firebase/remote-config-compat",LA="@firebase/storage",NA="@firebase/storage-compat",VA="@firebase/firestore",zA="@firebase/firestore-compat",GA="firebase",UA="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="[DEFAULT]",FA={[Nf]:"fire-core",[gA]:"fire-core-compat",[vA]:"fire-analytics",[yA]:"fire-analytics-compat",[_A]:"fire-app-check",[wA]:"fire-app-check-compat",[SA]:"fire-auth",[bA]:"fire-auth-compat",[EA]:"fire-rtdb",[PA]:"fire-rtdb-compat",[TA]:"fire-fn",[CA]:"fire-fn-compat",[AA]:"fire-iid",[kA]:"fire-iid-compat",[IA]:"fire-fcm",[xA]:"fire-fcm-compat",[RA]:"fire-perf",[OA]:"fire-perf-compat",[MA]:"fire-rc",[DA]:"fire-rc-compat",[LA]:"fire-gcs",[NA]:"fire-gcs-compat",[VA]:"fire-fst",[zA]:"fire-fst-compat","fire-js":"fire-js",[GA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,Vf=new Map;function BA(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){const e=t.name;if(Vf.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,t);for(const n of rc.values())BA(n,t);return!0}function $c(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ar=new Ka("app","Firebase",jA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=UA;function HA(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:vS,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});const r=rc.get(i);if(r){if(ic(t,r.options)&&ic(n,r.config))return r;throw Ar.create("duplicate-app",{appName:i})}const s=new JC(i);for(const a of Vf.values())s.addComponent(a);const o=new $A(t,n,s);return rc.set(i,o),o}function vm(t=vS){const e=rc.get(t);if(!e)throw Ar.create("no-app",{appName:t});return e}function An(t,e,n){var i;let r=(i=FA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}Cr(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebase-heartbeat-database",qA=1,Ia="firebase-heartbeat-store";let cd=null;function wS(){return cd||(cd=hA(WA,qA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ia)}}}).catch(t=>{throw Ar.create("idb-open",{originalErrorMessage:t.message})})),cd}async function QA(t){var e;try{return(await wS()).transaction(Ia).objectStore(Ia).get(_S(t))}catch(n){if(n instanceof On)Tr.warn(n.message);else{const i=Ar.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Tr.warn(i.message)}}}async function tv(t,e){var n;try{const r=(await wS()).transaction(Ia,"readwrite");return await r.objectStore(Ia).put(e,_S(t)),r.done}catch(i){if(i instanceof On)Tr.warn(i.message);else{const r=Ar.create("idb-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message});Tr.warn(r.message)}}}function _S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1024,YA=30*24*60*60*1e3;class XA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=YA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nv(),{heartbeatsToSend:n,unsentEntries:i}=JA(this._heartbeatsCache.heartbeats),r=hS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function nv(){return new Date().toISOString().substring(0,10)}function JA(t,e=KA){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),iv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),iv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ZA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UC()?FC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await QA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iv(t){return hS(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){Cr(new Ni("platform-logger",e=>new pA(e),"PRIVATE")),Cr(new Ni("heartbeat",e=>new XA(e),"PRIVATE")),An(Nf,ev,t),An(Nf,ev,"esm2017"),An("fire-js","")}ek("");function wm(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function SS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tk=SS,bS=new Ka("auth","Firebase",SS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new gm("@firebase/auth");function du(t,...e){rv.logLevel<=Z.ERROR&&rv.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw _m(t,...e)}function kn(t,...e){return _m(t,...e)}function nk(t,e,n){const i=Object.assign(Object.assign({},tk()),{[e]:n});return new Ka("auth","Firebase",i).create(e,{appName:t.name})}function _m(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return bS.create(t,...e)}function U(t,e,...n){if(!t)throw _m(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function Jn(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function Bn(t){Jn(t instanceof Function,"Expected a class definition");let e=sv.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sv.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){const n=$c(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ic(s,e!=null?e:{}))return r;fn(r,"already-initialized")}return n.initialize({options:e})}function rk(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sk(){return ov()==="http:"||ov()==="https:"}function ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sk()||fS()||"connection"in navigator)?navigator.onLine:!0}function ak(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=dS()||pS()}get(){return ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Xa(3e4,6e4);function Ja(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function eo(t,e,n,i,r={}){return PS(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Ya(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ES.fetch()(TS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function PS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},lk),e);try{const r=new ck(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jl(t,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nk(t,c,u);fn(t,c)}}catch(r){if(r instanceof On)throw r;fn(t,"network-request-failed")}}async function Za(t,e,n,i,r={}){const s=await eo(t,e,n,i,r);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function TS(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Sm(t.config,r):`${t.config.apiScheme}://${r}`}class ck{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(kn(this.auth,"network-request-failed")),uk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=kn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function dk(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fk(t,e=!1){const n=be(t),i=await n.getIdToken(e),r=bm(i);U(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:na(hd(r.auth_time)),issuedAtTime:na(hd(r.iat)),expirationTime:na(hd(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hd(t){return Number(t)*1e3}function bm(t){var e;const[n,i,r]=t.split(".");if(n===void 0||i===void 0||r===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{const s=NC(i);return s?JSON.parse(s):(du("Failed to decode base64 JWT payload"),null)}catch(s){return du("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function pk(t){const e=bm(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof On&&mk(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function mk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Vs(t,dk(n,{idToken:i}));U(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wk(s.providerUserInfo):[],a=vk(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new CS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function yk(t){const e=be(t);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vk(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function wk(t){return t.map(e=>{var{providerId:n}=e,i=wm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e){const n=await PS(t,{},async()=>{const i=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=TS(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ES.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await _k(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new xa;return i&&(U(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(U(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new CS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vs(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fk(this,e)}reload(){return yk(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vs(this,hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:P,stsTokenManager:S}=n;U(v&&S,e,"internal-error");const T=xa.fromJSON(this.name,S);U(typeof v=="string",e,"internal-error"),oi(h,e.name),oi(d,e.name),U(typeof _=="boolean",e,"internal-error"),U(typeof b=="boolean",e,"internal-error"),oi(f,e.name),oi(p,e.name),oi(y,e.name),oi(w,e.name),oi(g,e.name),oi(m,e.name);const D=new yr({uid:v,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:y,stsTokenManager:T,createdAt:g,lastLoginAt:m});return P&&Array.isArray(P)&&(D.providerData=P.map(z=>Object.assign({},z))),w&&(D._redirectEventId=w),D}static async _fromIdTokenResponse(e,n,i=!1){const r=new xa;r.updateFromServerResponse(n);const s=new yr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await sc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AS.type="NONE";const av=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Cs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=fu(this.userKey,r.apiKey,s),this.fullPersistenceKey=fu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Cs(Bn(av),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Bn(av);const o=fu(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=yr._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cs(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Cs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OS(e))return"Blackberry";if(MS(e))return"Webos";if(Em(e))return"Safari";if((e.includes("chrome/")||IS(e))&&!e.includes("edge/"))return"Chrome";if(RS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function kS(t=je()){return/firefox\//i.test(t)}function Em(t=je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IS(t=je()){return/crios\//i.test(t)}function xS(t=je()){return/iemobile/i.test(t)}function RS(t=je()){return/android/i.test(t)}function OS(t=je()){return/blackberry/i.test(t)}function MS(t=je()){return/webos/i.test(t)}function Hc(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sk(t=je()){var e;return Hc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bk(){return mS()&&document.documentMode===10}function DS(t=je()){return Hc(t)||RS(t)||MS(t)||OS(t)||/windows phone/i.test(t)||xS(t)}function Ek(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e=[]){let n;switch(t){case"Browser":n=lv(je());break;case"Worker":n=`${lv(je())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=r)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new Pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await sc(e)}catch(i){if(((n=i)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ak()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?be(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ka("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return U(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function Wc(t){return be(t)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function Ck(t,e){return eo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){return Za(t,"POST","/v1/accounts:signInWithPassword",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e){return Za(t,"POST","/v1/accounts:signInWithEmailLink",Ja(t,e))}async function Ik(t,e){return Za(t,"POST","/v1/accounts:signInWithEmailLink",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Pm{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ra(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ra(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ak(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return kk(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Ck(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ik(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return Za(t,"POST","/v1/accounts:signInWithIdp",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="http://localhost";class kr extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new kr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=wm(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new kr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,As(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ya(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ok(t){const e=Ro(Oo(t)).link,n=e?Ro(Oo(e)).deep_link_id:null,i=Ro(Oo(t)).deep_link_id;return(i?Ro(Oo(i)).link:null)||i||n||e||t}class Tm{constructor(e){var n,i,r,s,o,a;const l=Ro(Oo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(i=l.oobCode)!==null&&i!==void 0?i:null,h=Rk((r=l.mode)!==null&&r!==void 0?r:null);U(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Ok(e);try{return new Tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Ra._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Tm.parseLink(n);return U(i,"argument-error"),Ra._fromEmailAndCode(e,i.code,i.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends NS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends el{constructor(){super("facebook.com")}static credential(e){return kr._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kr._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends el{constructor(){super("github.com")}static credential(e){return kr._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends el{constructor(){super("twitter.com")}static credential(e,n){return kr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return wi.credential(n,i)}catch{return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com";wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t,e){return Za(t,"POST","/v1/accounts:signUp",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await yr._fromIdTokenResponse(e,i,r),o=cv(i);return new Ir({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=cv(i);return new Ir({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function cv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends On{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new oc(e,n,i,r)}}function VS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(t,s,e,i):s})}async function Dk(t,e,n=!1){const i=await Vs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ir._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e,n=!1){var i;const{auth:r}=t,s="reauthenticate";try{const o=await Vs(t,VS(r,s,e,t),n);U(o.idToken,r,"internal-error");const a=bm(o.idToken);U(a,r,"internal-error");const{sub:l}=a;return U(t.uid===l,r,"user-mismatch"),Ir._forOperation(t,s,o)}catch(o){throw((i=o)===null||i===void 0?void 0:i.code)==="auth/user-not-found"&&fn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t,e,n=!1){const i="signIn",r=await VS(t,i,e),s=await Ir._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Nk(t,e){return zS(Wc(t),e)}async function Vk(t,e,n){const i=Wc(t),r=await Mk(i,{returnSecureToken:!0,email:e,password:n}),s=await Ir._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function zk(t,e,n){return Nk(be(t),to.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return eo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=be(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Vs(i,Gk(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Fk(t,e,n,i){return be(t).onAuthStateChanged(e,n,i)}function Bk(t){return be(t).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){const t=je();return Em(t)||Hc(t)}const $k=1e3,Hk=10;class US extends GS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jk()&&Ek(),this.fallbackToPolling=DS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);bk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Hk):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},$k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}US.type="LOCAL";const Wk=US;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends GS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FS.type="SESSION";const BS=FS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new qc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await qk(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Cm("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function Kk(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function Yk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jk(){return jS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",Zk=1,lc="firebaseLocalStorage",HS="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qc(t,e){return t.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function eI(){const t=indexedDB.deleteDatabase($S);return new tl(t).toPromise()}function Gf(){const t=indexedDB.open($S,Zk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lc,{keyPath:HS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lc)?e(i):(i.close(),await eI(),e(await Gf()))})})}async function hv(t,e,n){const i=Qc(t,!0).put({[HS]:e,value:n});return new tl(i).toPromise()}async function tI(t,e){const n=Qc(t,!1).get(e),i=await new tl(n).toPromise();return i===void 0?null:i.value}function dv(t,e){const n=Qc(t,!0).delete(e);return new tl(n).toPromise()}const nI=800,iI=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>iI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(Jk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Yk(),!this.activeServiceWorker)return;this.sender=new Qk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||((e=i[0])===null||e===void 0?void 0:e.fulfilled)&&((n=i[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await hv(e,ac,"1"),await dv(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>hv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Qc(r,!1).getAll();return new tl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const rI=WS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function oI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",sI().appendChild(i)})}function aI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e){return e?Bn(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uI(t){return zS(t.auth,new Am(t),t.bypassAuthState)}function cI(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),Lk(n,new Am(t),t.bypassAuthState)}async function hI(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),Dk(n,new Am(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uI;case"linkViaPopup":case"linkViaRedirect":return hI;case"reauthViaPopup":case"reauthViaRedirect":return cI;default:fn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Xa(2e3,1e4);class gs extends qS{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,dI.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="pendingRedirect",pu=new Map;class pI extends qS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const i=await mI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mI(t,e){const n=vI(e),i=yI(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function gI(t,e){pu.set(t._key(),e)}function yI(t){return Bn(t._redirectPersistence)}function vI(t){return fu(fI,t.config.apiKey,t.name)}async function wI(t,e,n=!1){const i=Wc(t),r=lI(i,e),o=await new pI(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=10*60*1e3;class SI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!QS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(e))}saveEventToCache(e){this.cachedEventUids.add(fv(e)),this.lastProcessedEventTime=Date.now()}}function fv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TI=/^https?/;async function CI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EI(t);for(const n of e)try{if(AI(n))return}catch{}fn(t,"unauthorized-domain")}function AI(t){const e=zf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!TI.test(n))return!1;if(PI.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Xa(3e4,6e4);function pv(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function II(t){return new Promise((e,n)=>{var i,r,s;function o(){pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pv(),n(kn(t,"network-request-failed"))},timeout:kI.get()})}if(!((r=(i=In().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=In().gapi)===null||s===void 0)&&s.load)o();else{const a=aI("iframefcb");return In()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},oI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mu=null,e})}let mu=null;function xI(t){return mu=mu||II(t),mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Xa(5e3,15e3),OI="__/auth/iframe",MI="emulator/auth/iframe",DI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NI(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sm(e,MI):`https://${t.config.authDomain}/${OI}`,i={apiKey:e.apiKey,appName:t.name,v:Zs},r=LI.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ya(i).slice(1)}`}async function VI(t){const e=await xI(t),n=In().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:NI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DI,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=In().setTimeout(()=>{s(o)},RI.get());function l(){In().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GI=500,UI=600,FI="_blank",BI="http://localhost";class mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jI(t,e,n,i=GI,r=UI){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zI),{width:i.toString(),height:r.toString(),top:s,left:o}),u=je().toLowerCase();n&&(a=IS(u)?FI:n),kS(u)&&(e=e||BI,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(Sk(u)&&a!=="_self")return $I(e||"",a),new mv(null);const h=window.open(e||"",a,c);U(h,t,"popup-blocked");try{h.focus()}catch{}return new mv(h)}function $I(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__/auth/handler",WI="emulator/auth/handler";function gv(t,e,n,i,r,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zs,eventId:r};if(e instanceof NS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof el){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${qI(t)}?${Ya(a).slice(1)}`}function qI({config:t}){return t.emulator?Sm(t,WI):`https://${t.authDomain}/${HI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=wI,this._overrideRedirectResult=gI}async _openPopup(e,n,i,r){var s;Jn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=gv(e,n,i,zf(),r);return jI(e,o,Cm())}async _openRedirect(e,n,i,r){return await this._originValidation(e),Kk(gv(e,n,i,zf(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Jn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await VI(e),i=new SI(e);return n.register("authEvent",r=>(U(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dd,{type:dd},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[dd];o!==void 0&&n(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DS()||Em()||Hc()}}const KI=QI;var yv="@firebase/auth",vv="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{var r;e(((r=i)===null||r===void 0?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function JI(t){Cr(new Ni("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((a,l)=>{U(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),U(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(t)},c=new Tk(a,l,u);return rk(c,n),c})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Cr(new Ni("auth-internal",e=>{const n=Wc(e.getProvider("auth").getImmediate());return(i=>new YI(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(yv,vv,XI(t)),An(yv,vv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t=vm()){const e=$c(t,"auth");return e.isInitialized()?e.getImmediate():ik(t,{popupRedirectResolver:KI,persistence:[rI,Wk,BS]})}JI("Browser");var ex="firebase",tx="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(ex,tx,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebasestorage.googleapis.com",YS="storageBucket",nx=2*60*1e3,ix=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee extends On{constructor(e,n){super(fd(e),`Firebase Storage: ${n} (${fd(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ee.prototype)}_codeEquals(e){return fd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function fd(t){return"storage/"+t}function km(){const t="An unknown error occurred, please check the error payload for server response.";return new Ee("unknown",t)}function rx(t){return new Ee("object-not-found","Object '"+t+"' does not exist.")}function sx(t){return new Ee("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ox(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ee("unauthenticated",t)}function ax(){return new Ee("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function lx(t){return new Ee("unauthorized","User does not have permission to access '"+t+"'.")}function ux(){return new Ee("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function XS(){return new Ee("canceled","User canceled the upload/download.")}function cx(t){return new Ee("invalid-url","Invalid URL '"+t+"'.")}function hx(t){return new Ee("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function dx(){return new Ee("no-default-bucket","No default bucket found. Did you set the '"+YS+"' property when initializing the app?")}function JS(){return new Ee("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function fx(){return new Ee("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function px(){return new Ee("no-download-url","The given file does not have any download URLs.")}function Uf(t){return new Ee("invalid-argument",t)}function ZS(){return new Ee("app-deleted","The Firebase app was deleted.")}function mx(t){return new Ee("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ia(t,e){return new Ee("invalid-format","String does not match format '"+t+"': "+e)}function So(t){throw new Ee("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Dt.makeFromUrl(e,n)}catch{return new Dt(e,"")}if(i.path==="")return i;throw hx(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${r}/o${d}`,"i"),p={bucket:1,path:3},y=n===KS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${y}/${r}/${w}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<v.length;_++){const b=v[_],P=b.regex.exec(e);if(P){const S=P[b.indices.bucket];let T=P[b.indices.path];T||(T=""),i=new Dt(S,T),b.postModify(i);break}}if(i==null)throw cx(e);return i}}class gx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function h(w){r=setTimeout(()=>{r=null,t(f,l())},w)}function d(){s&&clearTimeout(s)}function f(w,...g){if(u){d();return}if(w){d(),c.call(null,w,...g);return}if(l()||o){d(),c.call(null,w,...g);return}i<64&&(i*=2);let v;a===1?(a=2,v=0):v=(i+Math.random())*1e3,h(v)}let p=!1;function y(w){p||(p=!0,d(),!u&&(r!==null?(w||(a=2),clearTimeout(r),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function vx(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){return t!==void 0}function _x(t){return typeof t=="function"}function Sx(t){return typeof t=="object"&&!Array.isArray(t)}function Kc(t){return typeof t=="string"||t instanceof String}function wv(t){return Im()&&t instanceof Blob}function Im(){return typeof Blob<"u"}function _v(t,e,n,i){if(i<e)throw Uf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Uf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function eb(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vr||(vr={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,i,r,s,o,a,l,u,c,h){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,f)=>{this.resolve_=d,this.reject_=f,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new $l(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===vr.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===vr.ABORT;i(!1,new $l(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new $l(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wx(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=km();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?ZS():XS();o(l)}else{const l=ux();o(l)}};this.canceled_?n(!1,new $l(!1,null,!0)):this.backoffId_=yx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||r||s}}class $l{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Ex(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Px(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Tx(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cx(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ax(t,e,n,i,r,s){const o=eb(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return Tx(l,e),Ex(l,n),Px(l,s),Cx(l,i),new bx(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ix(...t){const e=kx();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Im())return new Blob(t);throw new Ee("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function xx(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pd{constructor(e,n){this.data=e,this.contentType=n||null}}function Ox(t,e){switch(t){case En.RAW:return new pd(tb(e));case En.BASE64:case En.BASE64URL:return new pd(nb(t,e));case En.DATA_URL:return new pd(Dx(e),Lx(e))}throw km()}function tb(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Mx(t){let e;try{e=decodeURIComponent(t)}catch{throw ia(En.DATA_URL,"Malformed data URL.")}return tb(e)}function nb(t,e){switch(t){case En.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw ia(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case En.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw ia(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rx(e)}catch{throw ia(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class ib{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ia(En.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Nx(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Dx(t){const e=new ib(t);return e.base64?nb(En.BASE64,e.rest):Mx(e.rest)}function Lx(t){return new ib(t).contentType}function Nx(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){let i=0,r="";wv(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(wv(this.data_)){const i=this.data_,r=xx(i,e,n);return r===null?null:new _i(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new _i(i,!0)}}static getBlob(...e){if(Im()){const n=e.map(i=>i instanceof _i?i.data_:i);return new _i(Ix.apply(null,n))}else{const n=e.map(o=>Kc(o)?Ox(En.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new _i(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){let e;try{e=JSON.parse(t)}catch{return null}return Sx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zx(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function sb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t,e){return e}class lt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||Gx}}let Hl=null;function Ux(t){return!Kc(t)||t.length<2?t:sb(t)}function ob(){if(Hl)return Hl;const t=[];t.push(new lt("bucket")),t.push(new lt("generation")),t.push(new lt("metageneration")),t.push(new lt("name","fullPath",!0));function e(s,o){return Ux(o)}const n=new lt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new lt("size");return r.xform=i,t.push(r),t.push(new lt("timeCreated")),t.push(new lt("updated")),t.push(new lt("md5Hash",null,!0)),t.push(new lt("cacheControl",null,!0)),t.push(new lt("contentDisposition",null,!0)),t.push(new lt("contentEncoding",null,!0)),t.push(new lt("contentLanguage",null,!0)),t.push(new lt("contentType",null,!0)),t.push(new lt("metadata","customMetadata",!0)),Hl=t,Hl}function Fx(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Dt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Bx(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return Fx(i,t),i}function ab(t,e,n){const i=rb(e);return i===null?null:Bx(t,i,n)}function jx(t,e,n,i){const r=rb(e);if(r===null||!Kc(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+o(c)+"/o/"+o(h),f=nl(d,n,i),p=eb({alt:"media",token:u});return f+p})[0]}function lb(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class no{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){if(!t)throw km()}function xm(t,e){function n(i,r){const s=ab(t,r,e);return Hn(s!==null),s}return n}function $x(t,e){function n(i,r){const s=ab(t,r,e);return Hn(s!==null),jx(s,r,t.host,t._protocol)}return n}function il(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=ax():r=ox():n.getStatus()===402?r=sx(t.bucket):n.getStatus()===403?r=lx(t.path):r=i,r.serverResponse=i.serverResponse,r}return e}function ub(t){const e=il(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=rx(t.path)),s.serverResponse=r.serverResponse,s}return n}function Hx(t,e,n){const i=e.fullServerUrl(),r=nl(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new no(r,s,xm(t,n),o);return a.errorHandler=ub(e),a}function Wx(t,e,n){const i=e.fullServerUrl(),r=nl(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new no(r,s,$x(t,n),o);return a.errorHandler=ub(e),a}function qx(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cb(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=qx(null,e)),i}function Qx(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let _=0;_<2;_++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=cb(e,i,r),c=lb(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=_i.getBlob(h,i,d);if(f===null)throw JS();const p={name:u.fullPath},y=nl(s,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,m=new no(y,w,xm(t,n),g);return m.urlParams=p,m.headers=o,m.body=f.uploadData(),m.errorHandler=il(e),m}class uc{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function Rm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Hn(!1)}return Hn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Kx(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=cb(e,i,r),a={name:o.fullPath},l=nl(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=lb(o,n),d=t.maxUploadRetryTime;function f(y){Rm(y);let w;try{w=y.getResponseHeader("X-Goog-Upload-URL")}catch{Hn(!1)}return Hn(Kc(w)),w}const p=new no(l,u,f,d);return p.urlParams=a,p.headers=c,p.body=h,p.errorHandler=il(e),p}function Yx(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(u){const c=Rm(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hn(!1)}h||Hn(!1);const d=Number(h);return Hn(!isNaN(d)),new uc(d,i.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new no(n,o,s,a);return l.headers=r,l.errorHandler=il(e),l}const Sv=256*1024;function Xx(t,e,n,i,r,s,o,a){const l=new uc(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw fx();const u=l.total-l.current;let c=u;r>0&&(c=Math.min(c,r));const h=l.current,d=h+c,p={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},y=i.slice(h,d);if(y===null)throw JS();function w(_,b){const P=Rm(_,["active","final"]),S=l.current+c,T=i.size();let D;return P==="final"?D=xm(e,s)(_,b):D=null,new uc(S,T,P==="final",D)}const g="POST",m=e.maxUploadRetryTime,v=new no(n,g,w,m);return v.headers=p,v.body=y.uploadData(),v.progressCallback=a||null,v.errorHandler=il(t),v}const _t={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function md(t){switch(t){case"running":case"pausing":case"canceling":return _t.RUNNING;case"paused":return _t.PAUSED;case"success":return _t.SUCCESS;case"canceled":return _t.CANCELED;case"error":return _t.ERROR;default:return _t.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,i){if(_x(e)||n!=null||i!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=i!=null?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Zx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw So("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw So("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw So("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw So("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw So("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eR extends Zx{initXhr(){this.xhr_.responseType="text"}}function Kr(){return new eR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=ob(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=Kx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Kr,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=Yx(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Kr,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Sv*this._chunkMultiplier,n=new uc(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=Xx(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Kr,r,s);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Sv*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=Hx(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Kr,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=Qx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Kr,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=XS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=md(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new Jx(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(md(this._state)){case _t.SUCCESS:Wr(this._resolve.bind(null,this.snapshot))();break;case _t.CANCELED:case _t.ERROR:const n=this._reject;Wr(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(md(this._state)){case _t.RUNNING:case _t.PAUSED:e.next&&Wr(e.next.bind(e,this.snapshot))();break;case _t.SUCCESS:e.complete&&Wr(e.complete.bind(e))();break;case _t.CANCELED:case _t.ERROR:e.error&&Wr(e.error.bind(e,this._error))();break;default:e.error&&Wr(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this._service=e,n instanceof Dt?this._location=n:this._location=Dt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xr(e,n)}get root(){const e=new Dt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sb(this._location.path)}get storage(){return this._service}get parent(){const e=Vx(this._location.path);if(e===null)return null;const n=new Dt(this._location.bucket,e);return new xr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mx(e)}}function nR(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new tR(t,new _i(e),n)}function iR(t){t._throwIfRoot("getDownloadURL");const e=Wx(t.storage,t._location,ob());return t.storage.makeRequestWithTokens(e,Kr).then(n=>{if(n===null)throw px();return n})}function rR(t,e){const n=zx(t._location.path,e),i=new Dt(t._location.bucket,n);return new xr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){return/^[A-Za-z]+:\/\//.test(t)}function oR(t,e){return new xr(t,e)}function hb(t,e){if(t instanceof Om){const n=t;if(n._bucket==null)throw dx();const i=new xr(n,n._bucket);return e!=null?hb(i,e):i}else return e!==void 0?rR(t,e):t}function aR(t,e){if(e&&sR(e)){if(t instanceof Om)return oR(t,e);throw Uf("To use ref(service, url), the first argument must be a Storage instance.")}else return hb(t,e)}function bv(t,e){const n=e==null?void 0:e[YS];return n==null?null:Dt.makeFromBucketSpec(n,t)}class Om{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=KS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nx,this._maxUploadRetryTime=ix,this._requests=new Set,r!=null?this._bucket=Dt.makeFromBucketSpec(r,this._host):this._bucket=bv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,e):this._bucket=bv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_v("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_v("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xr(this,e)}_makeRequest(e,n,i,r){if(this._deleted)return new gx(ZS());{const s=Ax(e,this._appId,i,r,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Ev="@firebase/storage",Pv="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="storage";function fb(t,e,n){return t=be(t),nR(t,e,n)}function pb(t){return t=be(t),iR(t)}function mb(t,e){return t=be(t),aR(t,e)}function lR(t=vm(),e){return t=be(t),$c(t,db).getImmediate({identifier:e})}function uR(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Om(n,i,r,e,Zs)}function cR(){Cr(new Ni(db,uR,"PUBLIC").setMultipleInstances(!0)),An(Ev,Pv,""),An(Ev,Pv,"esm2017")}cR();var hR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x,Mm=Mm||{},F=hR||self;function cc(){}function Ff(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function dR(t){return Object.prototype.hasOwnProperty.call(t,gd)&&t[gd]||(t[gd]=++fR)}var gd="closure_uid_"+(1e9*Math.random()>>>0),fR=0;function pR(t,e,n){return t.call.apply(t.bind,arguments)}function mR(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ye(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ye=pR:Ye=mR,Ye.apply(null,arguments)}function Wl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function et(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function $i(){this.s=this.s,this.o=this.o}var gR=0;$i.prototype.s=!1;$i.prototype.na=function(){!this.s&&(this.s=!0,this.M(),gR!=0)&&dR(this)};$i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},yb=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,r=typeof t=="string"?t.split(""):t;for(let s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function yR(t){e:{var e=lO;const n=t.length,i=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Tv(t){return Array.prototype.concat.apply([],arguments)}function Dm(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function hc(t){return/^[\s\xa0]*$/.test(t)}var Cv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dt(t,e){return t.indexOf(e)!=-1}function yd(t,e){return t<e?-1:t>e?1:0}var ft;e:{var Av=F.navigator;if(Av){var kv=Av.userAgent;if(kv){ft=kv;break e}}ft=""}function Lm(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function vb(t){const e={};for(const n in t)e[n]=t[n];return e}var Iv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wb(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<Iv.length;s++)n=Iv[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Nm(t){return Nm[" "](t),t}Nm[" "]=cc;function vR(t){var e=SR;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var wR=dt(ft,"Opera"),zs=dt(ft,"Trident")||dt(ft,"MSIE"),_b=dt(ft,"Edge"),Bf=_b||zs,Sb=dt(ft,"Gecko")&&!(dt(ft.toLowerCase(),"webkit")&&!dt(ft,"Edge"))&&!(dt(ft,"Trident")||dt(ft,"MSIE"))&&!dt(ft,"Edge"),_R=dt(ft.toLowerCase(),"webkit")&&!dt(ft,"Edge");function bb(){var t=F.document;return t?t.documentMode:void 0}var dc;e:{var vd="",wd=function(){var t=ft;if(Sb)return/rv:([^\);]+)(\)|;)/.exec(t);if(_b)return/Edge\/([\d\.]+)/.exec(t);if(zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_R)return/WebKit\/(\S+)/.exec(t);if(wR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wd&&(vd=wd?wd[1]:""),zs){var _d=bb();if(_d!=null&&_d>parseFloat(vd)){dc=String(_d);break e}}dc=vd}var SR={};function bR(){return vR(function(){let t=0;const e=Cv(String(dc)).split("."),n=Cv("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;t=yd(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||yd(r[2].length==0,s[2].length==0)||yd(r[2],s[2]),r=r[3],s=s[3]}while(t==0)}return 0<=t})}var jf;if(F.document&&zs){var xv=bb();jf=xv||parseInt(dc,10)||void 0}else jf=void 0;var ER=jf,PR=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{F.addEventListener("test",cc,e),F.removeEventListener("test",cc,e)}catch{}return t}();function st(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};function Oa(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Sb){e:{try{Nm(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:TR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oa.Z.h.call(this)}}et(Oa,st);var TR={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),CR=0;function AR(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++CR,this.ca=this.fa=!1}function Yc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Xc(t){this.src=t,this.g={},this.h=0}Xc.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Hf(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new AR(e,this.src,s,!!i,r),e.fa=n,t.push(e)),e};function $f(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=gb(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Yc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Hf(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==i)return r}return-1}var Vm="closure_lm_"+(1e6*Math.random()|0),Sd={};function Eb(t,e,n,i,r){if(i&&i.once)return Tb(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Eb(t,e[s],n,i,r);return null}return n=Um(n),t&&t[sl]?t.N(e,n,rl(i)?!!i.capture:!!i,r):Pb(t,e,n,!1,i,r)}function Pb(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=rl(r)?!!r.capture:!!r,a=Gm(t);if(a||(t[Vm]=a=new Xc(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=kR(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)PR||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ab(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kR(){function t(n){return e.call(t.src,t.listener,n)}var e=IR;return t}function Tb(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Tb(t,e[s],n,i,r);return null}return n=Um(n),t&&t[sl]?t.O(e,n,rl(i)?!!i.capture:!!i,r):Pb(t,e,n,!0,i,r)}function Cb(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Cb(t,e[s],n,i,r);else i=rl(i)?!!i.capture:!!i,n=Um(n),t&&t[sl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Hf(s,n,i,r),-1<n&&(Yc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Hf(e,n,i,r)),(n=-1<t?e[t]:null)&&zm(n))}function zm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[sl])$f(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ab(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Gm(e))?($f(n,t),n.h==0&&(n.src=null,e[Vm]=null)):Yc(t)}}}function Ab(t){return t in Sd?Sd[t]:Sd[t]="on"+t}function IR(t,e){if(t.ca)t=!0;else{e=new Oa(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&zm(t),t=n.call(i,e)}return t}function Gm(t){return t=t[Vm],t instanceof Xc?t:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Um(t){return typeof t=="function"?t:(t[bd]||(t[bd]=function(e){return t.handleEvent(e)}),t[bd])}function $e(){$i.call(this),this.i=new Xc(this),this.P=this,this.I=null}et($e,$i);$e.prototype[sl]=!0;$e.prototype.removeEventListener=function(t,e,n,i){Cb(this,t,e,n,i)};function Xe(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new st(e,t);else if(e instanceof st)e.target=e.target||t;else{var r=e;e=new st(i,t),wb(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=ql(o,i,!0,e)&&r}if(o=e.g=t,r=ql(o,i,!0,e)&&r,r=ql(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=ql(o,i,!1,e)&&r}$e.prototype.M=function(){if($e.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Yc(n[i]);delete t.g[e],t.h--}}this.I=null};$e.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};$e.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function ql(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&$f(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Fm=F.JSON.stringify;function xR(){var t=Ib;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class RR{constructor(){this.h=this.g=null}add(e,n){const i=kb.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var kb=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new OR,t=>t.reset());class OR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function MR(t){F.setTimeout(()=>{throw t},0)}function Bm(t,e){Wf||DR(),qf||(Wf(),qf=!0),Ib.add(t,e)}var Wf;function DR(){var t=F.Promise.resolve(void 0);Wf=function(){t.then(LR)}}var qf=!1,Ib=new RR;function LR(){for(var t;t=xR();){try{t.h.call(t.g)}catch(n){MR(n)}var e=kb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qf=!1}function Jc(t,e){$e.call(this),this.h=t||1,this.g=e||F,this.j=Ye(this.kb,this),this.l=Date.now()}et(Jc,$e);x=Jc.prototype;x.da=!1;x.S=null;x.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xe(this,"tick"),this.da&&(jm(this),this.start()))}};x.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}x.M=function(){Jc.Z.M.call(this),jm(this),delete this.g};function $m(t,e,n){if(typeof t=="function")n&&(t=Ye(t,n));else if(t&&typeof t.handleEvent=="function")t=Ye(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function xb(t){t.g=$m(()=>{t.g=null,t.i&&(t.i=!1,xb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class NR extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xb(this)}M(){super.M(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(t){$i.call(this),this.h=t,this.g={}}et(Ma,$i);var Rv=[];function Rb(t,e,n,i){Array.isArray(n)||(n&&(Rv[0]=n.toString()),n=Rv);for(var r=0;r<n.length;r++){var s=Eb(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ob(t){Lm(t.g,function(e,n){this.g.hasOwnProperty(n)&&zm(e)},t),t.g={}}Ma.prototype.M=function(){Ma.Z.M.call(this),Ob(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zc(){this.g=!0}Zc.prototype.Aa=function(){this.g=!1};function VR(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function zR(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function ys(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UR(t,n)+(i?" "+i:"")})}function GR(t,e){t.info(function(){return"TIMEOUT: "+e})}Zc.prototype.info=function(){};function UR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Fm(n)}catch{return e}}var Ur={},Ov=null;function eh(){return Ov=Ov||new $e}Ur.Ma="serverreachability";function Mb(t){st.call(this,Ur.Ma,t)}et(Mb,st);function Da(t){const e=eh();Xe(e,new Mb(e))}Ur.STAT_EVENT="statevent";function Db(t,e){st.call(this,Ur.STAT_EVENT,t),this.stat=e}et(Db,st);function pt(t){const e=eh();Xe(e,new Db(e,t))}Ur.Na="timingevent";function Lb(t,e){st.call(this,Ur.Na,t),this.size=e}et(Lb,st);function ol(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var th={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Hm(){}Hm.prototype.h=null;function Mv(t){return t.h||(t.h=t.i())}function Vb(){}var al={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wm(){st.call(this,"d")}et(Wm,st);function qm(){st.call(this,"c")}et(qm,st);var Qf;function nh(){}et(nh,Hm);nh.prototype.g=function(){return new XMLHttpRequest};nh.prototype.i=function(){return{}};Qf=new nh;function ll(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Ma(this),this.P=FR,t=Bf?125:void 0,this.W=new Jc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zb}function zb(){this.i=null,this.g="",this.h=!1}var FR=45e3,Kf={},fc={};x=ll.prototype;x.setTimeout=function(t){this.P=t};function Yf(t,e,n){t.K=1,t.v=rh(Zn(e)),t.s=n,t.U=!0,Gb(t,null)}function Gb(t,e){t.F=Date.now(),ul(t),t.A=Zn(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),Wb(n.h,"t",i),t.C=0,n=t.l.H,t.h=new zb,t.g=dE(t.l,n?e:null,!t.s),0<t.O&&(t.L=new NR(Ye(t.Ia,t,t.g),t.O)),Rb(t.V,t.g,"readystatechange",t.gb),e=t.H?vb(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Da(),VR(t.j,t.u,t.A,t.m,t.X,t.s)}x.gb=function(t){t=t.target;const e=this.L;e&&jn(t)==3?e.l():this.Ia(t)};x.Ia=function(t){try{if(t==this.g)e:{const c=jn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||Bf||this.g&&(this.h.h||this.g.ga()||Vv(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Da(3):Da(2)),ih(this);var n=this.g.ba();this.N=n;t:if(Ub(this)){var i=Vv(this.g);t="";var r=i.length,s=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),ra(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,zR(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hc(a)){var u=a;break t}}u=null}if(n=u)ys(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xf(this,n);else{this.i=!1,this.o=3,pt(12),cr(this),ra(this);break e}}this.U?(Fb(this,c,o),Bf&&this.i&&c==3&&(Rb(this.V,this.W,"tick",this.fb),this.W.start())):(ys(this.j,this.m,o,null),Xf(this,o)),c==4&&cr(this),this.i&&!this.I&&(c==4?lE(this.l,this):(this.i=!1,ul(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),cr(this),ra(this)}}}catch{}finally{}};function Ub(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Fb(t,e,n){let i=!0,r;for(;!t.I&&t.C<n.length;)if(r=BR(t,n),r==fc){e==4&&(t.o=4,pt(14),i=!1),ys(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Kf){t.o=4,pt(15),ys(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ys(t.j,t.m,r,null),Xf(t,r);Ub(t)&&r!=fc&&r!=Kf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ng(e),e.L=!0,pt(11))):(ys(t.j,t.m,n,"[Invalid Chunked Response]"),cr(t),ra(t))}x.fb=function(){if(this.g){var t=jn(this.g),e=this.g.ga();this.C<e.length&&(ih(this),Fb(this,t,e),this.i&&t!=4&&ul(this))}};function BR(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?fc:(n=Number(e.substring(n,i)),isNaN(n)?Kf:(i+=1,i+n>e.length?fc:(e=e.substr(i,n),t.C=i+n,e)))}x.cancel=function(){this.I=!0,cr(this)};function ul(t){t.Y=Date.now()+t.P,Bb(t,t.P)}function Bb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ol(Ye(t.eb,t),e)}function ih(t){t.B&&(F.clearTimeout(t.B),t.B=null)}x.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(GR(this.j,this.A),this.K!=2&&(Da(),pt(17)),cr(this),this.o=2,ra(this)):Bb(this,this.Y-t)};function ra(t){t.l.G==0||t.I||lE(t.l,t)}function cr(t){ih(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,jm(t.W),Ob(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Xf(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Jf(n.i,t))){if(n.I=t.N,!t.J&&Jf(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)yc(n),ah(n);else break e;tg(n),pt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=ol(Ye(n.ab,n),6e3));if(1>=Kb(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else hr(n,11)}else if((t.J||n.g==t)&&yc(n),!hc(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;!s.g&&(dt(p,"spdy")||dt(p,"quic")||dt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ym(s,s.h),s.h=null))}if(i.D){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,me(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var o=t;if(i.oa=hE(i,i.H?i.la:null,i.W),o.J){Yb(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(ih(a),ul(a)),i.g=o}else oE(i);0<n.l.length&&lh(n)}else u[0]!="stop"&&u[0]!="close"||hr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?hr(n,7):eg(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Da(4)}catch{}}function jR(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ff(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Qm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ff(t)||typeof t=="string")yb(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ff(t)||typeof t=="string"){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;i=jR(t),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function io(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof io)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}x=io.prototype;x.R=function(){Km(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};x.T=function(){return Km(this),this.g.concat()};function Km(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Rr(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)i=t.g[e],Rr(r,i)||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}x.get=function(t,e){return Rr(this.h,t)?this.h[t]:e};x.set=function(t,e){Rr(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};x.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};function Rr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var jb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $R(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Or(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Or){this.g=e!==void 0?e:t.g,pc(this,t.j),this.s=t.s,mc(this,t.i),gc(this,t.m),this.l=t.l,e=t.h;var n=new La;n.i=e.i,e.g&&(n.g=new io(e.g),n.h=e.h),Dv(this,n),this.o=t.o}else t&&(n=String(t).match(jb))?(this.g=!!e,pc(this,n[1]||"",!0),this.s=sa(n[2]||""),mc(this,n[3]||"",!0),gc(this,n[4]),this.l=sa(n[5]||"",!0),Dv(this,n[6]||"",!0),this.o=sa(n[7]||"")):(this.g=!!e,this.h=new La(null,this.g))}Or.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Mo(e,Lv,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Mo(e,Lv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Mo(n,n.charAt(0)=="/"?KR:QR,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Mo(n,XR)),t.join("")};function Zn(t){return new Or(t)}function pc(t,e,n){t.j=n?sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mc(t,e,n){t.i=n?sa(e,!0):e}function gc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dv(t,e,n){e instanceof La?(t.h=e,JR(t.h,t.g)):(n||(e=Mo(e,YR)),t.h=new La(e,t.g))}function me(t,e,n){t.h.set(e,n)}function rh(t){return me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function HR(t){return t instanceof Or?Zn(t):new Or(t,void 0)}function WR(t,e,n,i){var r=new Or(null,void 0);return t&&pc(r,t),e&&mc(r,e),n&&gc(r,n),i&&(r.l=i),r}function sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Lv=/[#\/\?@]/g,QR=/[#\?:]/g,KR=/[#\?]/g,YR=/[#\?@]/g,XR=/#/g;function La(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new io,t.h=0,t.i&&$R(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}x=La.prototype;x.add=function(t,e){Hi(this),this.i=null,t=ro(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $b(t,e){Hi(t),e=ro(t,e),Rr(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Rr(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Km(t)))}function Hb(t,e){return Hi(t),e=ro(t,e),Rr(t.g.h,e)}x.forEach=function(t,e){Hi(this),this.g.forEach(function(n,i){yb(n,function(r){t.call(e,r,i,this)},this)},this)};x.T=function(){Hi(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n};x.R=function(t){Hi(this);var e=[];if(typeof t=="string")Hb(this,t)&&(e=Tv(e,this.g.get(ro(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Tv(e,t[n])}return e};x.set=function(t,e){return Hi(this),this.i=null,t=ro(this,t),Hb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};x.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Wb(t,e,n){$b(t,e),0<n.length&&(t.i=null,t.g.set(ro(t,e),Dm(n)),t.h+=n.length)}x.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;i[s]!==""&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.i=t.join("&")};function ro(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JR(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&($b(this,i),Wb(this,r,n))},t)),t.j=e}var ZR=class{constructor(t,e){this.h=t,this.g=e}};function qb(t){this.l=t||eO,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ea&&F.g.Ea()&&F.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eO=10;function Qb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Kb(t){return t.h?1:t.g?t.g.size:0}function Jf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ym(t,e){t.g?t.g.add(e):t.h=e}function Yb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qb.prototype.cancel=function(){if(this.i=Xb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Xb(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Dm(t.i)}function Xm(){}Xm.prototype.stringify=function(t){return F.JSON.stringify(t,void 0)};Xm.prototype.parse=function(t){return F.JSON.parse(t,void 0)};function tO(){this.g=new Xm}function nO(t,e,n){const i=n||"";try{Qm(t,function(r,s){let o=r;rl(r)&&(o=Fm(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function iO(t,e){const n=new Zc;if(F.Image){const i=new Image;i.onload=Wl(Ql,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Wl(Ql,n,i,"TestLoadImage: error",!1,e),i.onabort=Wl(Ql,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Wl(Ql,n,i,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Ql(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function cl(t){this.l=t.$b||null,this.j=t.ib||!1}et(cl,Hm);cl.prototype.g=function(){return new sh(this.l,this.j)};cl.prototype.i=function(t){return function(){return t}}({});function sh(t,e){$e.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Jm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(sh,$e);var Jm=0;x=sh.prototype;x.open=function(t,e){if(this.readyState!=Jm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Na(this)};x.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||F).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=Jm};x.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jb(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Jb(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}x.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hl(this):Na(this),this.readyState==3&&Jb(this)}};x.Ua=function(t){this.g&&(this.response=this.responseText=t,hl(this))};x.Ta=function(t){this.g&&(this.response=t,hl(this))};x.ha=function(){this.g&&hl(this)};function hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Na(t)}x.setRequestHeader=function(t,e){this.v.append(t,e)};x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rO=F.JSON.parse;function Re(t){$e.call(this),this.headers=new io,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zb,this.K=this.L=!1}et(Re,$e);var Zb="",sO=/^https?$/i,oO=["POST","PUT"];x=Re.prototype;x.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qf.g(),this.C=this.u?Mv(this.u):Mv(Qf),this.g.onreadystatechange=Ye(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Nv(this,s);return}t=n||"";const r=new io(this.headers);i&&Qm(i,function(s,o){r.set(o,s)}),i=yR(r.T()),n=F.FormData&&t instanceof F.FormData,!(0<=gb(oO,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nE(this),0<this.B&&((this.K=aO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ye(this.pa,this)):this.A=$m(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Nv(this,s)}};function aO(t){return zs&&bR()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function lO(t){return t.toLowerCase()=="content-type"}x.pa=function(){typeof Mm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function Nv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eE(t),oh(t)}function eE(t){t.D||(t.D=!0,Xe(t,"complete"),Xe(t,"error"))}x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),oh(this))};x.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oh(this,!0)),Re.Z.M.call(this)};x.Fa=function(){this.s||(this.F||this.v||this.l?tE(this):this.cb())};x.cb=function(){tE(this)};function tE(t){if(t.h&&typeof Mm<"u"&&(!t.C[1]||jn(t)!=4||t.ba()!=2)){if(t.v&&jn(t)==4)$m(t.Fa,0,t);else if(Xe(t,"readystatechange"),jn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.H).match(jb)[1]||null;if(!r&&F.self&&F.self.location){var s=F.self.location.protocol;r=s.substr(0,s.length-1)}i=!sO.test(r?r.toLowerCase():"")}n=i}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var o=2<jn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",eE(t)}}finally{oh(t)}}}}function oh(t,e){if(t.g){nE(t);const n=t.g,i=t.C[0]?cc:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=i}catch{}}}function nE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}function jn(t){return t.g?t.g.readyState:0}x.ba=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};x.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};x.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rO(e)}};function Vv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Zb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}x.Da=function(){return this.m};x.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function uO(t){let e="";return Lm(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Zm(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=uO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):me(t,e,n))}function bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iE(t){this.za=0,this.l=[],this.h=new Zc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bo("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bo("baseRetryDelayMs",5e3,t),this.$a=bo("retryDelaySeedMs",1e4,t),this.Ya=bo("forwardChannelMaxRetries",2,t),this.ra=bo("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new qb(t&&t.concurrentRequestLimit),this.Ca=new tO,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}x=iE.prototype;x.ma=8;x.G=1;function eg(t){if(rE(t),t.G==3){var e=t.V++,n=Zn(t.F);me(n,"SID",t.J),me(n,"RID",e),me(n,"TYPE","terminate"),dl(t,n),e=new ll(t,t.h,e,void 0),e.K=2,e.v=rh(Zn(n)),n=!1,F.navigator&&F.navigator.sendBeacon&&(n=F.navigator.sendBeacon(e.v.toString(),"")),!n&&F.Image&&(new Image().src=e.v,n=!0),n||(e.g=dE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ul(e)}cE(t)}x.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function ah(t){t.g&&(ng(t),t.g.cancel(),t.g=null)}function rE(t){ah(t),t.u&&(F.clearTimeout(t.u),t.u=null),yc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function Ed(t,e){t.l.push(new ZR(t.Za++,e)),t.G==3&&lh(t)}function lh(t){Qb(t.i)||t.m||(t.m=!0,Bm(t.Ha,t),t.C=0)}function cO(t,e){return Kb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=ol(Ye(t.Ha,t,e),uE(t,t.C)),t.C++,!0)}x.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new ll(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=vb(s),wb(s,this.P)):s=this.P),this.o===null&&(r.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var i=this.l[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sE(this,r,e),n=Zn(this.F),me(n,"RID",t),me(n,"CVER",22),this.D&&me(n,"X-HTTP-Session-Id",this.D),dl(this,n),this.o&&s&&Zm(n,this.o,s),Ym(this.i,r),this.Ra&&me(n,"TYPE","init"),this.ja?(me(n,"$req",e),me(n,"SID","null"),r.$=!0,Yf(r,n,null)):Yf(r,n,e),this.G=2}}else this.G==3&&(t?zv(this,t):this.l.length==0||Qb(this.i)||zv(this))};function zv(t,e){var n;e?n=e.m:n=t.V++;const i=Zn(t.F);me(i,"SID",t.J),me(i,"RID",n),me(i,"AID",t.U),dl(t,i),t.o&&t.s&&Zm(i,t.o,t.s),n=new ll(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=sE(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ym(t.i,n),Yf(n,i,e)}function dl(t,e){t.j&&Qm({},function(n,i){me(e,i,n)})}function sE(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Ye(t.j.Oa,t.j,t):null;e:{var r=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].h;const c=r[l].g;if(u-=s,0>u)s=Math.max(0,r[l].h-100),a=!1;else try{nO(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,i}function oE(t){t.g||t.u||(t.Y=1,Bm(t.Ga,t),t.A=0)}function tg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=ol(Ye(t.Ga,t),uE(t,t.A)),t.A++,!0)}x.Ga=function(){if(this.u=null,aE(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ol(Ye(this.bb,this),t)}};x.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pt(10),ah(this),aE(this))};function ng(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function aE(t){t.g=new ll(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Zn(t.oa);me(e,"RID","rpc"),me(e,"SID",t.J),me(e,"CI",t.N?"0":"1"),me(e,"AID",t.U),dl(t,e),me(e,"TYPE","xmlhttp"),t.o&&t.s&&Zm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=rh(Zn(e)),n.s=null,n.U=!0,Gb(n,t)}x.ab=function(){this.v!=null&&(this.v=null,ah(this),tg(this),pt(19))};function yc(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function lE(t,e){var n=null;if(t.g==e){yc(t),ng(t),t.g=null;var i=2}else if(Jf(t.i,e))n=e.D,Yb(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;i=eh(),Xe(i,new Lb(i,n)),lh(t)}else oE(t);else if(r=e.o,r==3||r==0&&0<t.I||!(i==1&&cO(t,e)||i==2&&tg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:hr(t,5);break;case 4:hr(t,10);break;case 3:hr(t,6);break;default:hr(t,2)}}}function uE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function hr(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Ye(t.jb,t);n||(n=new Or("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||pc(n,"https"),rh(n)),iO(n.toString(),i)}else pt(2);t.G=0,t.j&&t.j.va(e),cE(t),rE(t)}x.jb=function(t){t?(this.h.info("Successfully pinged google.com"),pt(2)):(this.h.info("Failed to ping google.com"),pt(1))};function cE(t){t.G=0,t.I=-1,t.j&&((Xb(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Dm(t.l),t.l.length=0),t.j.ua())}function hE(t,e,n){let i=HR(n);if(i.i!="")e&&mc(i,e+"."+i.i),gc(i,i.m);else{const r=F.location;i=WR(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Lm(t.aa,function(r,s){me(i,s,r)}),e=t.D,n=t.sa,e&&n&&me(i,e,n),me(i,"VER",t.ma),dl(t,i),i}function dE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Re(new cl({ib:!0})):new Re(t.qa),e.L=t.H,e}function fE(){}x=fE.prototype;x.xa=function(){};x.wa=function(){};x.va=function(){};x.ua=function(){};x.Oa=function(){};function vc(){if(zs&&!(10<=Number(ER)))throw Error("Environmental error: no available transport.")}vc.prototype.g=function(t,e){return new zt(t,e)};function zt(t,e){$e.call(this),this.g=new iE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new so(this)}et(zt,$e);zt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bm(Ye(t.hb,t,e))),pt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=hE(t,null,t.W),lh(t)};zt.prototype.close=function(){eg(this.g)};zt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ed(this.g,e)}else this.v?(e={},e.__data__=Fm(t),Ed(this.g,e)):Ed(this.g,t)};zt.prototype.M=function(){this.g.j=null,delete this.j,eg(this.g),delete this.g,zt.Z.M.call(this)};function pE(t){Wm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(pE,Wm);function mE(){qm.call(this),this.status=1}et(mE,qm);function so(t){this.g=t}et(so,fE);so.prototype.xa=function(){Xe(this.g,"a")};so.prototype.wa=function(t){Xe(this.g,new pE(t))};so.prototype.va=function(t){Xe(this.g,new mE)};so.prototype.ua=function(){Xe(this.g,"b")};vc.prototype.createWebChannel=vc.prototype.g;zt.prototype.send=zt.prototype.u;zt.prototype.open=zt.prototype.m;zt.prototype.close=zt.prototype.close;th.NO_ERROR=0;th.TIMEOUT=8;th.HTTP_ERROR=6;Nb.COMPLETE="complete";Vb.EventType=al;al.OPEN="a";al.CLOSE="b";al.ERROR="c";al.MESSAGE="d";$e.prototype.listen=$e.prototype.N;Re.prototype.listenOnce=Re.prototype.O;Re.prototype.getLastError=Re.prototype.La;Re.prototype.getLastErrorCode=Re.prototype.Da;Re.prototype.getStatus=Re.prototype.ba;Re.prototype.getResponseJson=Re.prototype.Qa;Re.prototype.getResponseText=Re.prototype.ga;Re.prototype.send=Re.prototype.ea;var hO=function(){return new vc},dO=function(){return eh()},Pd=th,fO=Nb,pO=Ur,Gv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mO=cl,Kl=Vb,gO=Re;const Uv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new gm("@firebase/firestore");function Fv(){return Mr.logLevel}function L(t,...e){if(Mr.logLevel<=Z.DEBUG){const n=e.map(ig);Mr.debug(`Firestore (${oo}): ${t}`,...n)}}function ei(t,...e){if(Mr.logLevel<=Z.ERROR){const n=e.map(ig);Mr.error(`Firestore (${oo}): ${t}`,...n)}}function Bv(t,...e){if(Mr.logLevel<=Z.WARN){const n=e.map(ig);Mr.warn(`Firestore (${oo}): ${t}`,...n)}}function ig(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function ue(t,e){t||j()}function $(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class wO{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ue(typeof i.accessToken=="string"),new yO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new St(e)}}class _O{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ue(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class SO{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new _O(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EO{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const i=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.A=n.token,new bO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=PO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function te(t,e){return t<e?-1:t>e?1:0}function Gs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ce(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ce(0,0))}static max(){return new q(new Ce(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,i){n===void 0?n=0:n>e.length&&j(),i===void 0?i=e.length-n:i>e.length-n&&j(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Va{construct(e,n,i){return new he(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new O(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new he(n)}static emptyPath(){return new he([])}}const TO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Va{construct(e,n,i){return new rt(e,n,i)}static isValidIdentifier(e){return TO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new O(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new O(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new O(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.path=e}static fromPath(e){return new V(he.fromString(e))}static fromName(e){return new V(he.fromString(e).popFirst(5))}static empty(){return new V(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new he(e.slice()))}}function CO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=q.fromTimestamp(i===1e9?new Ce(n+1,0):new Ce(n,i));return new Vi(r,V.empty(),e)}function AO(t){return new Vi(t.readTime,t.key,-1)}class Vi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vi(q.min(),V.empty(),-1)}static max(){return new Vi(q.max(),V.empty(),-1)}}function kO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==IO)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,i)=>{n(e)})}static reject(e){return new A((n,i)=>{i(e)})}static waitFor(e){return new A((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=A.resolve(!1);for(const i of e)n=n.next(r=>r?A.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new A((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(e,n){return new A((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rg.at=-1;class Ve{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i!=null?i:qe.RED,this.left=r!=null?r:qe.EMPTY,this.right=s!=null?s:qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new qe(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return qe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,i,r){return this}insert(t,e,n){return new qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new Le(rt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ze(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Ze(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const RO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(ue(!!t),typeof t=="string"){let e=0;const n=RO.exec(t);if(ue(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Ze.fromBase64String(t):Ze.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wE(t){const e=t.mapValue.fields.__previous_value__;return vE(e)?wE(e):e}function za(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,i,r,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}function uh(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function MO(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vE(t)?4:DO(t)?9007199254740991:10:j()}function Rn(t,e){if(t===e)return!0;const n=Dr(t);if(n!==Dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return za(t).isEqual(za(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=zi(i.timestampValue),o=zi(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Us(i.bytesValue).isEqual(Us(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return ke(i.geoPointValue.latitude)===ke(r.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ke(i.integerValue)===ke(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ke(i.doubleValue),o=ke(r.doubleValue);return s===o?wc(s)===wc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Gs(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(jv(s)!==jv(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Rn(s[a],o[a])))return!1;return!0}(t,e);default:return j()}}function Ua(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function Fs(t,e){if(t===e)return 0;const n=Dr(t),i=Dr(e);if(n!==i)return te(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(r,s){const o=ke(r.integerValue||r.doubleValue),a=ke(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Hv(t.timestampValue,e.timestampValue);case 4:return Hv(za(t),za(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(r,s){const o=Us(r),a=Us(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=te(o[l],a[l]);if(u!==0)return u}return te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const o=te(ke(r.latitude),ke(s.latitude));return o!==0?o:te(ke(r.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Fs(o[l],a[l]);if(u)return u}return te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Xl.mapValue&&s===Xl.mapValue)return 0;if(r===Xl.mapValue)return 1;if(s===Xl.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=te(a[c],u[c]);if(h!==0)return h;const d=Fs(o[a[c]],l[u[c]]);if(d!==0)return d}return te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw j()}}function Hv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);const n=zi(t),i=zi(e),r=te(n.seconds,i.seconds);return r!==0?r:te(n.nanos,i.nanos)}function ks(t){return Zf(t)}function Zf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=zi(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Us(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,V.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Zf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Zf(i.fields[a])}`;return s+"}"}(t.mapValue):j();var e,n}function Wv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ep(t){return!!t&&"integerValue"in t}function sg(t){return!!t&&"arrayValue"in t}function qv(t){return!!t&&"nullValue"in t}function Qv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gu(t){return!!t&&"mapValue"in t}function oa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=oa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oa(n)}setAll(e){let n=rt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=oa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];gu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Fr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Et(oa(this.value))}}function _E(t){const e=[];return Fr(t.fields,(n,i)=>{const r=new rt([n]);if(gu(i)){const s=_E(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,i,r,s,o){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Qe(e,0,q.min(),q.min(),Et.empty(),0)}static newFoundDocument(e,n,i){return new Qe(e,1,n,q.min(),i,0)}static newNoDocument(e,n){return new Qe(e,2,n,q.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,q.min(),Et.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function Kv(t,e=null,n=[],i=[],r=null,s=null,o=null){return new LO(t,e,n,i,r,s,o)}function og(t){const e=$(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ks(r.value);var r}).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ks(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ks(i)).join(",")),e.ht=n}return e.ht}function NO(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(i=n).field.canonicalString()} ${i.op} ${ks(i.value)}`;var i}).join(", ")}]`),uh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ks(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ks(n)).join(",")),`Target(${e})`}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!$O(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],i=e.filters[r],n.op!==i.op||!n.field.isEqual(i.field)||!Rn(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xv(t.startAt,e.startAt)&&Xv(t.endAt,e.endAt)}function tp(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mt extends class{}{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,i):new VO(e,n,i):n==="array-contains"?new UO(e,i):n==="in"?new FO(e,i):n==="not-in"?new BO(e,i):n==="array-contains-any"?new jO(e,i):new mt(e,n,i)}static lt(e,n,i){return n==="in"?new zO(e,i):new GO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Fs(n,this.value)):n!==null&&Dr(this.value)===Dr(n)&&this.ft(Fs(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class VO extends mt{constructor(e,n,i){super(e,n,i),this.key=V.fromName(i.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.ft(n)}}class zO extends mt{constructor(e,n){super(e,"in",n),this.keys=SE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GO extends mt{constructor(e,n){super(e,"not-in",n),this.keys=SE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>V.fromName(i.referenceValue))}class UO extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&Ua(n.arrayValue,this.value)}}class FO extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ua(this.value.arrayValue,n)}}class BO extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ua(this.value.arrayValue,n)}}class jO extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ua(this.value.arrayValue,i))}}class _c{constructor(e,n){this.position=e,this.inclusive=n}}class aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function $O(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=V.comparator(V.fromName(o.referenceValue),n.key):i=Fs(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function HO(t,e,n,i,r,s,o,a){return new ml(t,e,n,i,r,s,o,a)}function ch(t){return new ml(t)}function Jv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function EE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function PE(t){return t.collectionGroup!==null}function Fa(t){const e=$(t);if(e._t===null){e._t=[];const n=EE(e),i=bE(e);if(n!==null&&i===null)n.isKeyField()||e._t.push(new aa(n)),e._t.push(new aa(rt.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new aa(rt.keyField(),s))}}}return e._t}function ti(t){const e=$(t);if(!e.wt)if(e.limitType==="F")e.wt=Kv(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Fa(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new aa(s.field,o))}const i=e.endAt?new _c(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _c(e.startAt.position,e.startAt.inclusive):null;e.wt=Kv(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e.wt}function np(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return ag(ti(t),ti(e))&&t.limitType===e.limitType}function TE(t){return`${og(ti(t))}|lt:${t.limitType}`}function ip(t){return`Query(target=${NO(ti(t))}; limitType=${t.limitType})`}function lg(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):V.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,s,o){const a=Yv(r,s,o);return r.inclusive?a<=0:a<0}(n.startAt,Fa(n),i)||n.endAt&&!function(r,s,o){const a=Yv(r,s,o);return r.inclusive?a>=0:a>0}(n.endAt,Fa(n),i))}(t,e)}function WO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CE(t){return(e,n)=>{let i=!1;for(const r of Fa(t)){const s=qO(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function qO(t,e,n){const i=t.field.isKeyField()?V.comparator(e.key,n.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Fs(a,l):j()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function kE(t){return{integerValue:""+t}}function QO(t,e){return MO(e)?kE(e):AE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function KO(t,e,n){return t instanceof Ba?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof Bs?xE(t,e):t instanceof ja?RE(t,e):function(i,r){const s=IE(i,r),o=Zv(s)+Zv(i.yt);return ep(s)&&ep(i.yt)?kE(o):AE(i.It,o)}(t,e)}function YO(t,e,n){return t instanceof Bs?xE(t,e):t instanceof ja?RE(t,e):n}function IE(t,e){return t instanceof Sc?ep(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Ba extends dh{}class Bs extends dh{constructor(e){super(),this.elements=e}}function xE(t,e){const n=OE(e);for(const i of t.elements)n.some(r=>Rn(r,i))||n.push(i);return{arrayValue:{values:n}}}class ja extends dh{constructor(e){super(),this.elements=e}}function RE(t,e){let n=OE(e);for(const i of t.elements)n=n.filter(r=>!Rn(r,i));return{arrayValue:{values:n}}}class Sc extends dh{constructor(e,n){super(),this.It=e,this.yt=n}}function Zv(t){return ke(t.integerValue||t.doubleValue)}function OE(t){return sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.field=e,this.transform=n}}function XO(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Bs&&i instanceof Bs||n instanceof ja&&i instanceof ja?Gs(n.elements,i.elements,Rn):n instanceof Sc&&i instanceof Sc?Rn(n.yt,i.yt):n instanceof Ba&&i instanceof Ba}(t.transform,e.transform)}class JO{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fh{}function DE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NE(t.key,xn.none()):new gl(t.key,t.data,xn.none());{const n=t.data,i=Et.empty();let r=new Le(rt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Wi(t.key,i,new Kt(r.toArray()),xn.none())}}function ZO(t,e,n){t instanceof gl?function(i,r,s){const o=i.value.clone(),a=tw(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,r,s){if(!yu(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=tw(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(LE(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function la(t,e,n,i){return t instanceof gl?function(r,s,o,a){if(!yu(r.precondition,s))return o;const l=r.value.clone(),u=nw(r.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Wi?function(r,s,o,a){if(!yu(r.precondition,s))return o;const l=nw(r.fieldTransforms,a,s),u=s.data;return u.setAll(LE(r)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(t,e,n,i):function(r,s,o){return yu(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function eM(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=IE(i.transform,r||null);s!=null&&(n===null&&(n=Et.empty()),n.set(i.field,s))}return n||null}function ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Gs(n,i,(r,s)=>XO(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gl extends fh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wi extends fh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function tw(t,e,n){const i=new Map;ue(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,YO(o,a,n[r]))}return i}function nw(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,KO(s,o,e))}return i}class NE extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tM extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Y;function iM(t){switch(t){default:return j();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function VE(t){if(t===void 0)return ei("GRPC error has no .code"),E.UNKNOWN;switch(t){case Ae.OK:return E.OK;case Ae.CANCELLED:return E.CANCELLED;case Ae.UNKNOWN:return E.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return E.INTERNAL;case Ae.UNAVAILABLE:return E.UNAVAILABLE;case Ae.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Ae.NOT_FOUND:return E.NOT_FOUND;case Ae.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Ae.ABORTED:return E.ABORTED;case Ae.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Ae.DATA_LOSS:return E.DATA_LOSS;default:return j()}}(Y=Ae||(Ae={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Ve(V.comparator);function ni(){return rM}const zE=new Ve(V.comparator);function Do(...t){let e=zE;for(const n of t)e=e.insert(n.key,n);return e}function GE(t){let e=zE;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function dr(){return ua()}function UE(){return ua()}function ua(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const sM=new Ve(V.comparator),oM=new Le(V.comparator);function Q(...t){let e=oM;for(const n of t)e=e.add(n);return e}const aM=new Le(te);function FE(){return aM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const i=new Map;return i.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,n)),new ph(q.min(),i,FE(),ni(),Q())}}class yl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new yl(Ze.EMPTY_BYTE_STRING,n,Q(),Q(),Q())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,i,r){this.Tt=e,this.removedTargetIds=n,this.key=i,this.Et=r}}class BE{constructor(e,n){this.targetId=e,this.At=n}}class jE{constructor(e,n,i=Ze.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class iw{constructor(){this.Rt=0,this.bt=sw(),this.Pt=Ze.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Q(),n=Q(),i=Q();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:j()}}),new yl(this.Pt,this.vt,e,n,i)}Nt(){this.Vt=!1,this.bt=sw()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class lM{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ni(),this.qt=rw(),this.Kt=new Le(te)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const i=this.zt(n);switch(e.state){case 0:this.Ht(n)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),i.Ct(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((i,r)=>{this.Ht(r)&&n(r)})}Yt(e){const n=e.targetId,i=e.At.count,r=this.Xt(n);if(r){const s=r.target;if(tp(s))if(i===0){const o=new V(s.path);this.jt(n,o,Qe.newNoDocument(o,q.min()))}else ue(i===1);else this.Zt(n)!==i&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&tp(a.target)){const l=new V(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Qe.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let i=Q();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const r=new ph(e,n,this.Kt,this.Ut,i);return this.Ut=ni(),this.qt=rw(),this.Kt=new Le(te),r}Qt(e,n){if(!this.Ht(e))return;const i=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,i),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,n)?r.kt(n,1):r.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),i&&(this.Ut=this.Ut.insert(n,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new iw,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Le(te),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new iw),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function rw(){return new Ve(V.comparator)}function sw(){return new Ve(V.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class hM{constructor(e,n){this.databaseId=e,this.gt=n}}function bc(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $E(t,e){return t.gt?e.toBase64():e.toUint8Array()}function dM(t,e){return bc(t,e.toTimestamp())}function qn(t){return ue(!!t),q.fromTimestamp(function(e){const n=zi(e);return new Ce(n.seconds,n.nanos)}(t))}function ug(t,e){return function(n){return new he(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function HE(t){const e=he.fromString(t);return ue(QE(e)),e}function rp(t,e){return ug(t.databaseId,e.path)}function Td(t,e){const n=HE(e);if(n.get(1)!==t.databaseId.projectId)throw new O(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(WE(n))}function sp(t,e){return ug(t.databaseId,e)}function fM(t){const e=HE(t);return e.length===4?he.emptyPath():WE(e)}function op(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WE(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ow(t,e,n){return{name:rp(t,e),fields:n.value.mapValue.fields}}function pM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(ue(u===void 0||typeof u=="string"),Ze.fromBase64String(u||"")):(ue(u===void 0||u instanceof Uint8Array),Ze.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?E.UNKNOWN:VE(l.code);return new O(u,l.message||"")}(o);n=new jE(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Td(t,i.document.name),s=qn(i.document.updateTime),o=new Et({mapValue:{fields:i.document.fields}}),a=Qe.newFoundDocument(r,s,o),l=i.targetIds||[],u=i.removedTargetIds||[];n=new vu(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Td(t,i.document),s=i.readTime?qn(i.readTime):q.min(),o=Qe.newNoDocument(r,s),a=i.removedTargetIds||[];n=new vu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Td(t,i.document),s=i.removedTargetIds||[];n=new vu([],s,r,null)}else{if(!("filter"in e))return j();{e.filter;const i=e.filter;i.targetId;const r=i.count||0,s=new nM(r),o=i.targetId;n=new BE(o,s)}}return n}function mM(t,e){let n;if(e instanceof gl)n={update:ow(t,e.key,e.value)};else if(e instanceof NE)n={delete:rp(t,e.key)};else if(e instanceof Wi)n={update:ow(t,e.key,e.data),updateMask:TM(e.fieldMask)};else{if(!(e instanceof tM))return j();n={verify:rp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof Ba)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Bs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ja)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sc)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw j()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:dM(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:j()}(t,e.precondition)),n}function gM(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,r){let s=i.updateTime?qn(i.updateTime):qn(r);return s.isEqual(q.min())&&(s=qn(r)),new JO(s,i.transformResults||[])}(n,e))):[]}function yM(t,e){return{documents:[sp(t,e.path)]}}function vM(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=sp(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sp(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(Qv(h.value))return{unaryFilter:{field:qr(h.field),op:"IS_NAN"}};if(qv(h.value))return{unaryFilter:{field:qr(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Qv(h.value))return{unaryFilter:{field:qr(h.field),op:"IS_NOT_NAN"}};if(qv(h.value))return{unaryFilter:{field:qr(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(h.field),op:bM(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:qr(c.field),direction:SM(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||uh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function wM(t){let e=fM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ue(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=qE(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new aa(vs(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,uh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new _c(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new _c(d,h)}(n.endAt)),HO(e,r,o,s,a,"F",l,u)}function _M(t,e){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function qE(t){return t?t.unaryFilter!==void 0?[PM(t)]:t.fieldFilter!==void 0?[EM(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>qE(e)).reduce((e,n)=>e.concat(n)):j():[]}function SM(t){return uM[t]}function bM(t){return cM[t]}function qr(t){return{fieldPath:t.canonicalString()}}function vs(t){return rt.fromServerFormat(t.fieldPath)}function EM(t){return mt.create(vs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value)}function PM(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vs(t.unaryFilter.field);return mt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=vs(t.unaryFilter.field);return mt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vs(t.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=vs(t.unaryFilter.field);return mt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return j()}}function TM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&ZO(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=UE();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=DE(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Q())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,i)=>ew(n,i))&&Gs(this.baseMutations,e.baseMutations,(n,i)=>ew(n,i))}}class cg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ue(e.mutations.length===i.length);let r=sM;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new cg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,i,r,s=q.min(),o=q.min(),a=Ze.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.re=e}}function IM(t){const e=wM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Ye=new RM}addToCollectionParentIndex(e,n){return this.Ye.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Vi.min())}updateCollectionGroup(e,n,i){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class RM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Le(he.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Le(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new js(0)}static vn(){return new js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?A.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.getBaseDocument(e,n,i))).next(r=>(i!==null&&la(i.mutation,r,Kt.empty(),Ce.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Q()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Q()){const r=dr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Do();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=dr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Q()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=ni();const o=ua(),a=ua();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Wi)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),la(c.mutation,u,c.mutation.getFieldMask(),Ce.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new MM(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=ua();let r=new Ve((o,a)=>o-a),s=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||Kt.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||Q()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=UE();c.forEach(d=>{if(!s.has(d)){const f=DE(n.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return A.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return V.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):A.resolve(dr());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?A.resolve():this.getBaseDocument(e,c,h).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Q())).next(c=>({batchId:a,changes:GE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(i=>{let r=Do();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=Do();return this.indexManager.getCollectionParents(e,r).next(o=>A.forEach(o,a=>{const l=function(u,c){return new ml(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();r.get(u)===null&&(r=r.insert(u,Qe.newInvalidDocument(u)))});let o=Do();return r.forEach((a,l)=>{const u=s.get(a);u!==void 0&&la(u.mutation,l,Kt.empty(),Ce.now()),lg(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,i){return i===null||i.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):A.resolve(Qe.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return A.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:qn(i.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(i){return{name:i.name,query:IM(i.bundledQuery),readTime:qn(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.overlays=new Ve(V.comparator),this.es=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const i=dr();return A.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ue(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),A.resolve()}getOverlaysForCollection(e,n,i){const r=dr(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return A.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ve((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=dr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=dr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return A.resolve(a)}ue(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new AM(n,i));let s=this.es.get(n);s===void 0&&(s=Q(),this.es.set(n,s)),this.es.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.ns=new Le(Ge.ss),this.rs=new Le(Ge.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const i=new Ge(e,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.cs(new Ge(e,n))}hs(e,n){e.forEach(i=>this.removeReference(i,n))}ls(e){const n=new V(new he([])),i=new Ge(n,e),r=new Ge(n,e+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new V(new he([])),i=new Ge(n,e),r=new Ge(n,e+1);let s=Q();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ge(e,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ge{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return V.comparator(e.key,n.key)||te(e._s,n._s)}static os(e,n){return te(e._s,n._s)||V.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Le(Ge.ss)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CM(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new Ge(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ps(i),s=r<0?0:r;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ge(n,0),r=new Ge(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Le(te);return n.forEach(r=>{const s=new Ge(r,0),o=new Ge(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),A.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;V.isDocumentKey(s)||(s=s.child(""));const o=new Ge(new V(s),0);let a=new Le(te);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l._s)),!0)},o),A.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(i=>{const r=this.ys(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ue(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return A.forEach(n.mutations,r=>{const s=new Ge(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,n){const i=new Ge(n,0),r=this.gs.firstAfterOrEqual(i);return A.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.Es=e,this.docs=new Ve(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return A.resolve(i?i.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let i=ni();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Qe.newInvalidDocument(r))}),A.resolve(i)}getAllFromCollection(e,n,i){let r=ni();const s=new V(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||kO(AO(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return A.resolve(r)}getAllFromCollectionGroup(e,n,i,r){j()}As(e,n){return A.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new GM(this)}getSize(e){return A.resolve(this.size)}}class GM extends OM{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),A.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.Rs=new ao(n=>og(n),ag),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new hg,this.targetCount=0,this.vs=js.Pn()}forEachTarget(e,n){return this.Rs.forEach((i,r)=>n(r)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),A.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new js(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Dn(n),A.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),A.waitFor(s).next(()=>r)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const i=this.Rs.get(n)||null;return A.resolve(i)}addMatchingKeys(e,n,i){return this.Ps.us(n,i),A.resolve()}removeMatchingKeys(e,n,i){this.Ps.hs(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),A.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ps.ds(n);return A.resolve(i)}containsKey(e,n){return A.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new rg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new UM(this),this.indexManager=new xM,this.remoteDocumentCache=function(i){return new zM(i)}(i=>this.referenceDelegate.xs(i)),this.It=new kM(n),this.Ns=new LM(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Vs[e.toKey()];return i||(i=new VM(n,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,i){L("MemoryPersistence","Starting transaction:",e);const r=new BM(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(e,n){return A.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,n)))}}class BM extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Fs=new hg,this.$s=null}static Bs(e){return new dg(e)}get Ls(){if(this.$s)return this.$s;throw j()}addReference(e,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),A.resolve()}removeReference(e,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),A.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ls,i=>{const r=V.fromPath(i);return this.Us(e,r).next(s=>{s||n.removeEntry(r,q.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return A.or([()=>A.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Si=i,this.Di=r}static Ci(e,n){let i=Q(),r=Q();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new fg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.ki(e,n).next(s=>s||this.Mi(e,n,r,i)).next(s=>s||this.Oi(e,n))}ki(e,n){if(Jv(n))return A.resolve(null);let i=ti(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=np(n,null,"F"),i=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Q(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,np(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,i,r){return Jv(n)||r.isEqual(q.min())?this.Oi(e,n):this.Ni.getDocuments(e,i).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,i,r)?this.Oi(e,n):(Fv()<=Z.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ip(n)),this.Bi(e,o,n,CO(r,-1)))})}Fi(e,n){let i=new Le(CE(e));return n.forEach((r,s)=>{lg(e,s)&&(i=i.add(s))}),i}$i(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(e,n){return Fv()<=Z.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ip(n)),this.Ni.getDocumentsMatchingQuery(e,n,Vi.min())}Bi(e,n,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,i,r){this.persistence=e,this.Li=n,this.It=r,this.Ui=new Ve(te),this.qi=new ao(s=>og(s),ag),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DM(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function HM(t,e,n,i){return new $M(t,e,n,i)}async function KE(t,e){const n=$(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Q();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function WM(t,e){const n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=A.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(p=>{const y=l.docVersions.get(f);ue(y!==null),p.version.compareTo(y)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=Q();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function YE(t){const e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function qM(t,e){const n=$(t),i=e.snapshotVersion;let r=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.Ui;const a=[];e.targetChanges.forEach((c,h)=>{const d=r.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Ze.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,i)),r=r.insert(h,f),function(p,y,w){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=ni(),u=Q();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(QM(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!i.isEqual(q.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=r,s))}function QM(t,e,n){let i=Q(),r=Q();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=ni();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function KM(t,e){const n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function YM(t,e){const n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Cs.getTargetData(i,e).next(s=>s?(r=s,A.resolve(r)):n.Cs.allocateTargetId(i).next(o=>(r=new wr(e,o,0,i.currentSequenceNumber),n.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ui.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(i.targetId,i),n.qi.set(e,i.targetId)),i})}async function ap(t,e,n){const i=$(t),r=i.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!pl(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}function aw(t,e,n){const i=$(t);let r=q.min(),s=Q();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=$(a),h=c.qi.get(u);return h!==void 0?A.resolve(c.Ui.get(h)):c.Cs.getTargetData(l,u)}(i,o,ti(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,e,n?r:q.min(),n?s:Q())).next(a=>(XM(i,WO(e),a),{documents:a,Hi:s})))}function XM(t,e,n){let i=q.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ki.set(e,i)}class lw{constructor(){this.activeTargetIds=FE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JM{constructor(){this.Lr=new lw,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,i){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new lw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,i,r,s){const o=this.ao(e,n);L("RestConnection","Sending: ",o,i);const a={};return this.ho(a,r,s),this.lo(e,o,a,i).then(l=>(L("RestConnection","Received: ",l),l),l=>{throw Bv("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}fo(e,n,i,r,s,o){return this.co(e,n,i,r,s)}ho(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ao(e,n){const i=eD[e];return`${this.oo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,i,r){return new Promise((s,o)=>{const a=new gO;a.listenOnce(fO.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Pd.NO_ERROR:const u=a.getResponseJson();L("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Pd.TIMEOUT:L("Connection",'RPC "'+e+'" timed out'),o(new O(E.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const c=a.getStatus();if(L("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(h.status);o(new O(d,h.message))}else o(new O(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new O(E.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{L("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,i,15)})}_o(e,n,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hO(),o=dO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new mO({})),this.ho(a.initMessageHeaders,n,i),dS()||pS()||zC()||mS()||GC()||fS()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");L("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new tD({Hr:p=>{h?L("Connection","Not sending because WebChannel is closed:",p):(c||(L("Connection","Opening WebChannel transport."),u.open(),c=!0),L("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,y,w)=>{p.listen(y,g=>{try{w(g)}catch(m){setTimeout(()=>{throw m},0)}})};return f(u,Kl.EventType.OPEN,()=>{h||L("Connection","WebChannel transport opened.")}),f(u,Kl.EventType.CLOSE,()=>{h||(h=!0,L("Connection","WebChannel transport closed"),d.io())}),f(u,Kl.EventType.ERROR,p=>{h||(h=!0,Bv("Connection","WebChannel transport errored:",p),d.io(new O(E.UNAVAILABLE,"The operation could not be completed")))}),f(u,Kl.EventType.MESSAGE,p=>{var y;if(!h){const w=p.data[0];ue(!!w);const g=w,m=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(m){L("Connection","WebChannel received error:",m);const v=m.status;let _=function(P){const S=Ae[P];if(S!==void 0)return VE(S)}(v),b=m.message;_===void 0&&(_=E.INTERNAL,b="Unknown error status: "+v+" with message "+m.message),h=!0,d.io(new O(_,b)),u.close()}else L("Connection","WebChannel received:",w),d.ro(w)}}),f(o,pO.STAT_EVENT,p=>{p.stat===Gv.PROXY?L("Connection","Detected buffering proxy"):p.stat===Gv.NOPROXY&&L("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return new hM(t,!0)}class XE{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,n-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,i,r,s,o,a,l){this.Hs=e,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new XE(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===n&&this.Go(i,r)},i=>{e(()=>{const r=new O(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,n){const i=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iD extends JE{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=pM(this.It,e),i=function(r){if(!("targetChange"in r))return q.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?qn(s.readTime):q.min()}(e);return this.listener.Wo(n,i)}zo(e){const n={};n.database=op(this.It),n.addTarget=function(r,s){let o;const a=s.target;return o=tp(a)?{documents:yM(r,a)}:{query:vM(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=$E(r,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=bc(r,s.snapshotVersion.toTimestamp())),o}(this.It,e);const i=_M(this.It,e);i&&(n.labels=i),this.Bo(n)}Ho(e){const n={};n.database=op(this.It),n.removeTarget=e,this.Bo(n)}}class rD extends JE{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=gM(e.writeResults,e.commitTime),i=qn(e.commitTime);return this.listener.Zo(i,n)}return ue(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=op(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>mM(this.It,i))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new O(E.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new O(E.UNKNOWN,r.toString())})}fo(e,n,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class oD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ei(n),this.ou=!1):L("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{i.enqueueAndForget(async()=>{Br(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=$(a);l._u.add(4),await vl(l),l.gu.set("Unknown"),l._u.delete(4),await gh(l)}(this))})}),this.gu=new oD(i,r)}}async function gh(t){if(Br(t))for(const e of t.wu)await e(!0)}async function vl(t){for(const e of t.wu)await e(!1)}function ZE(t,e){const n=$(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),gg(n)?mg(n):lo(n).ko()&&pg(n,e))}function eP(t,e){const n=$(t),i=lo(n);n.du.delete(e),i.ko()&&tP(n,e),n.du.size===0&&(i.ko()?i.Fo():Br(n)&&n.gu.set("Unknown"))}function pg(t,e){t.yu.Ot(e.targetId),lo(t).zo(e)}function tP(t,e){t.yu.Ot(e),lo(t).Ho(e)}function mg(t){t.yu=new lM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),lo(t).start(),t.gu.uu()}function gg(t){return Br(t)&&!lo(t).No()&&t.du.size>0}function Br(t){return $(t)._u.size===0}function nP(t){t.yu=void 0}async function lD(t){t.du.forEach((e,n)=>{pg(t,e)})}async function uD(t,e){nP(t),gg(t)?(t.gu.hu(e),mg(t)):t.gu.set("Unknown")}async function cD(t,e,n){if(t.gu.set("Online"),e instanceof jE&&e.state===2&&e.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(t,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ec(t,i)}else if(e instanceof vu?t.yu.Gt(e):e instanceof BE?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(q.min()))try{const i=await YE(t.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=r.du.get(l);u&&r.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(Ze.EMPTY_BYTE_STRING,l.snapshotVersion)),tP(r,a);const u=new wr(l.target,a,1,l.sequenceNumber);pg(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){L("RemoteStore","Failed to raise snapshot:",i),await Ec(t,i)}}async function Ec(t,e,n){if(!pl(e))throw e;t._u.add(1),await vl(t),t.gu.set("Offline"),n||(n=()=>YE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await gh(t)})}function iP(t,e){return e().catch(n=>Ec(t,n,e))}async function yh(t){const e=$(t),n=Gi(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;hD(e);)try{const r=await KM(e.localStore,i);if(r===null){e.fu.length===0&&n.Fo();break}i=r.batchId,dD(e,r)}catch(r){await Ec(e,r)}rP(e)&&sP(e)}function hD(t){return Br(t)&&t.fu.length<10}function dD(t,e){t.fu.push(e);const n=Gi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function rP(t){return Br(t)&&!Gi(t).No()&&t.fu.length>0}function sP(t){Gi(t).start()}async function fD(t){Gi(t).eu()}async function pD(t){const e=Gi(t);for(const n of t.fu)e.Xo(n.mutations)}async function mD(t,e,n){const i=t.fu.shift(),r=cg.from(i,e,n);await iP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await yh(t)}async function gD(t,e){e&&Gi(t).Yo&&await async function(n,i){if(r=i.code,iM(r)&&r!==E.ABORTED){const s=n.fu.shift();Gi(n).Oo(),await iP(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yh(n)}var r}(t,e),rP(t)&&sP(t)}async function cw(t,e){const n=$(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const i=Br(n);n._u.add(3),await vl(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await gh(n)}async function yD(t,e){const n=$(t);e?(n._u.delete(2),await gh(n)):e||(n._u.add(2),await vl(n),n.gu.set("Unknown"))}function lo(t){return t.pu||(t.pu=function(e,n,i){const r=$(e);return r.su(),new iD(n,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(t.datastore,t.asyncQueue,{Yr:lD.bind(null,t),Zr:uD.bind(null,t),Wo:cD.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),gg(t)?mg(t):t.gu.set("Unknown")):(await t.pu.stop(),nP(t))})),t.pu}function Gi(t){return t.Iu||(t.Iu=function(e,n,i){const r=$(e);return r.su(),new rD(n,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(t.datastore,t.asyncQueue,{Yr:fD.bind(null,t),Zr:gD.bind(null,t),tu:pD.bind(null,t),Zo:mD.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await yh(t)):(await t.Iu.stop(),t.fu.length>0&&(L("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new yg(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(t,e){if(ei("AsyncQueue",`${e}: ${t}`),pl(t))return new O(E.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e?(n,i)=>e(n,i)||V.comparator(n.key,i.key):(n,i)=>V.comparator(n.key,i.key),this.keyedMap=Do(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new Is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Is;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Tu=new Ve(V.comparator)}track(e){const n=e.doc.key,i=this.Tu.get(n);i?e.type!==0&&i.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&i.type!==1?this.Tu=this.Tu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Tu=this.Tu.remove(n):e.type===1&&i.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):j():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,i)=>{e.push(i)}),e}}class $s{constructor(e,n,i,r,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,i,r){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new $s(e,n,Is.emptySet(n),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Au=void 0,this.listeners=[]}}class wD{constructor(){this.queries=new ao(e=>TE(e),hh),this.onlineState="Unknown",this.Ru=new Set}}async function wg(t,e){const n=$(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new vD),r)try{s.Au=await n.onListen(i)}catch(o){const a=vg(o,`Initialization of query '${ip(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Sg(n)}async function _g(t,e){const n=$(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function _D(t,e){const n=$(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&Sg(n)}function SD(t,e,n){const i=$(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function Sg(t){t.Ru.forEach(e=>{e.next()})}class bg{constructor(e,n,i){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new $s(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Nu||!i)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.key=e}}class aP{constructor(e){this.key=e}}class bD{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Q(),this.mutatedKeys=Q(),this.Ku=CE(e),this.Gu=new Is(this.Ku)}get Qu(){return this.Lu}ju(e,n){const i=n?n.Wu:new hw,r=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,h)=>{const d=r.get(c),f=lg(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;d&&f?d.data.isEqual(f.data)?p!==y&&(i.track({type:3,doc:f}),w=!0):this.zu(d,f)||(i.track({type:2,doc:f}),w=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),w=!0):d&&!f&&(i.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Gu:o,Wu:i,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(h)-f(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(i);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new $s(this.query,e.Gu,r,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new hw,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Q(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const n=[];return e.forEach(i=>{this.qu.has(i)||n.push(new aP(i))}),this.qu.forEach(i=>{e.has(i)||n.push(new oP(i))}),n}Zu(e){this.Lu=e.Hi,this.qu=Q();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return $s.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class ED{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class PD{constructor(e){this.key=e,this.ec=!1}}class TD{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new ao(a=>TE(a),hh),this.ic=new Map,this.rc=new Set,this.oc=new Ve(V.comparator),this.uc=new Map,this.cc=new hg,this.ac={},this.hc=new Map,this.lc=js.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function CD(t,e){const n=ND(t);let i,r;const s=n.sc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const o=await YM(n.localStore,ti(e));n.isPrimaryClient&&ZE(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await AD(n,e,i,a==="current")}return r}async function AD(t,e,n,i){t.dc=(c,h,d)=>async function(f,p,y,w){let g=p.view.ju(y);g.$i&&(g=await aw(f.localStore,p.query,!1).then(({documents:_})=>p.view.ju(_,g)));const m=w&&w.targetChanges.get(p.targetId),v=p.view.applyChanges(g,f.isPrimaryClient,m);return fw(f,p.targetId,v.Yu),v.snapshot}(t,c,h,d);const r=await aw(t.localStore,e,!0),s=new bD(e,r.Hi),o=s.ju(r.documents),a=yl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);fw(t,n,l.Yu);const u=new ED(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function kD(t,e){const n=$(t),i=n.sc.get(e),r=n.ic.get(i.targetId);if(r.length>1)return n.ic.set(i.targetId,r.filter(s=>!hh(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ap(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),eP(n.remoteStore,i.targetId),lp(n,i.targetId)}).catch(fl)):(lp(n,i.targetId),await ap(n.localStore,i.targetId,!0))}async function ID(t,e,n){const i=VD(t);try{const r=await function(s,o){const a=$(s),l=Ce.now(),u=o.reduce((d,f)=>d.add(f.key),Q());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=ni(),p=Q();return a.Gi.getEntries(d,u).next(y=>{f=y,f.forEach((w,g)=>{g.isValidDocument()||(p=p.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(y=>{c=y;const w=[];for(const g of o){const m=eM(g,c.get(g.key).overlayedDocument);m!=null&&w.push(new Wi(g.key,m,_E(m.value.mapValue),xn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,w,o)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(d,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:GE(c)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ve(te)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(i,r.batchId,n),await wl(i,r.changes),await yh(i.remoteStore)}catch(r){const s=vg(r,"Failed to persist write");n.reject(s)}}async function lP(t,e){const n=$(t);try{const i=await qM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.uc.get(s);o&&(ue(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ec=!0:r.modifiedDocuments.size>0?ue(o.ec):r.removedDocuments.size>0&&(ue(o.ec),o.ec=!1))}),await wl(n,i,e)}catch(i){await fl(i)}}function dw(t,e,n){const i=$(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=$(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&Sg(a)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xD(t,e,n){const i=$(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.uc.get(e),s=r&&r.key;if(s){let o=new Ve(V.comparator);o=o.insert(s,Qe.newNoDocument(s,q.min()));const a=Q().add(s),l=new ph(q.min(),new Map,new Le(te),o,a);await lP(i,l),i.oc=i.oc.remove(s),i.uc.delete(e),Eg(i)}else await ap(i.localStore,e,!1).then(()=>lp(i,e,n)).catch(fl)}async function RD(t,e){const n=$(t),i=e.batch.batchId;try{const r=await WM(n.localStore,e);cP(n,i,null),uP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wl(n,r)}catch(r){await fl(r)}}async function OD(t,e,n){const i=$(t);try{const r=await function(s,o){const a=$(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ue(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(i.localStore,e);cP(i,e,n),uP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await wl(i,r)}catch(r){await fl(r)}}function uP(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function cP(t,e,n){const i=$(t);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ic.get(e))t.sc.delete(i),n&&t.nc._c(i,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(i=>{t.cc.containsKey(i)||hP(t,i)})}function hP(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(eP(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Eg(t))}function fw(t,e,n){for(const i of n)i instanceof oP?(t.cc.addReference(i.key,e),MD(t,i)):i instanceof aP?(L("SyncEngine","Document no longer in limbo: "+i.key),t.cc.removeReference(i.key,e),t.cc.containsKey(i.key)||hP(t,i.key)):j()}function MD(t,e){const n=e.key,i=n.path.canonicalString();t.oc.get(n)||t.rc.has(i)||(L("SyncEngine","New document in limbo: "+n),t.rc.add(i),Eg(t))}function Eg(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new V(he.fromString(e)),i=t.lc.next();t.uc.set(i,new PD(n)),t.oc=t.oc.insert(n,i),ZE(t.remoteStore,new wr(ti(ch(n.path)),i,2,rg.at))}}async function wl(t,e,n){const i=$(t),r=[],s=[],o=[];i.sc.isEmpty()||(i.sc.forEach((a,l)=>{o.push(i.dc(l,e,n).then(u=>{if(u){i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),r.push(u);const c=fg.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.nc.Wo(r),await async function(a,l){const u=$(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>A.forEach(l,h=>A.forEach(h.Si,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>A.forEach(h.Di,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!pl(c))throw c;L("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ui.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(h,p)}}}(i.localStore,s))}async function DD(t,e){const n=$(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const i=await KE(n.localStore,e);n.currentUser=e,function(r,s){r.hc.forEach(o=>{o.forEach(a=>{a.reject(new O(E.CANCELLED,s))})}),r.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wl(n,i.ji)}}function LD(t,e){const n=$(t),i=n.uc.get(e);if(i&&i.ec)return Q().add(i.key);{let r=Q();const s=n.ic.get(e);if(!s)return r;for(const o of s){const a=n.sc.get(o);r=r.unionWith(a.view.Qu)}return r}}function ND(t){const e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.nc.Wo=_D.bind(null,e.eventManager),e.nc._c=SD.bind(null,e.eventManager),e}function VD(t){const e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OD.bind(null,e),e}class zD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=mh(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return HM(this.persistence,new jM,e.initialUser,this.It)}gc(e){return new FM(dg.Bs,this.It)}mc(e){return new JM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wD}createDatastore(e){const n=mh(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new nD(r));var r;return function(s,o,a,l){return new sD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>dw(this.syncEngine,a,0),o=uw.C()?new uw:new ZM,new aD(n,i,r,s,o);var n,i,r,s,o}createSyncEngine(e,n){return function(i,r,s,o,a,l,u){const c=new TD(i,r,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=$(e);L("RemoteStore","RemoteStore shutting down."),n._u.add(5),await vl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=St.UNAUTHENTICATED,this.clientId=gE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{L("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=vg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function FD(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await KE(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function BD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jD(t);L("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>cw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>cw(e.remoteStore,s)),t.onlineComponents=e}async function jD(t){return t.offlineComponents||(L("FirestoreClient","Using default OfflineComponentProvider"),await FD(t,new zD)),t.offlineComponents}async function dP(t){return t.onlineComponents||(L("FirestoreClient","Using default OnlineComponentProvider"),await BD(t,new GD)),t.onlineComponents}function $D(t){return dP(t).then(e=>e.syncEngine)}async function Pc(t){const e=await dP(t),n=e.eventManager;return n.onListen=CD.bind(null,e.syncEngine),n.onUnlisten=kD.bind(null,e.syncEngine),n}function HD(t,e,n={}){const i=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const u=new Pg({next:h=>{s.enqueueAndForget(()=>_g(r,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new O(E.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new O(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new bg(ch(o.path),u,{includeMetadataChanges:!0,Nu:!0});return wg(r,c)}(await Pc(t),t.asyncQueue,e,n,i)),i.promise}function WD(t,e,n={}){const i=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const u=new Pg({next:h=>{s.enqueueAndForget(()=>_g(r,c)),h.fromCache&&a.source==="server"?l.reject(new O(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new bg(o,u,{includeMetadataChanges:!0,Nu:!0});return wg(r,c)}(await Pc(t),t.asyncQueue,e,n,i)),i.promise}const pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e,n){if(!n)throw new O(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qD(t,e,n,i){if(e===!0&&i===!0)throw new O(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mw(t){if(!V.isDocumentKey(t))throw new O(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gw(t){if(V.isDocumentKey(t))throw new O(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(t);throw new O(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new O(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new vO;switch(n.type){case"gapi":const i=n.client;return new SO(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new O(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=pw.get(e);n&&(L("ComponentProvider","Removing Datastore"),pw.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class uo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Oi extends uo{constructor(e,n,i){super(e,n,ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new V(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function QD(t,e,...n){if(t=be(t),fP("collection","path",e),t instanceof Tg){const i=he.fromString(e,...n);return gw(i),new Oi(t,null,i)}{if(!(t instanceof ot||t instanceof Oi))throw new O(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(he.fromString(e,...n));return gw(i),new Oi(t.firestore,null,i)}}function qt(t,e,...n){if(t=be(t),arguments.length===1&&(e=gE.R()),fP("doc","path",e),t instanceof Tg){const i=he.fromString(e,...n);return mw(i),new ot(t,null,new V(i))}{if(!(t instanceof ot||t instanceof Oi))throw new O(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(he.fromString(e,...n));return mw(i),new ot(t.firestore,t instanceof Oi?t.converter:null,new V(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new XE(this,"async_queue_retry"),this.jc=()=>{const n=Cd();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Cd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Wn;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!pl(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{this.qc=i,this.Kc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw ei("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Kc=!1,i))));return this.$c=n,n}enqueueAfterDelay(e,n,i){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const r=yg.createAndSchedule(this,e,n,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&j()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function vw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const r of n)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Lr extends Tg{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new KD,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pP(this),this._firestoreClient.terminate()}}function YD(t,e){const n=typeof t=="object"?t:vm(),i=typeof t=="string"?t:e||"(default)";return $c(n,"firestore").getImmediate({identifier:i})}function wh(t){return t._firestoreClient||pP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pP(t){var e;const n=t._freezeSettings(),i=function(r,s,o,a){return new OO(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new UD(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(Ze.fromBase64String(e))}catch(n){throw new O(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hs(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^__.*__$/;class JD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new gl(e,this.data,n,this.fieldTransforms)}}class mP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Sh{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.It=i,this.ignoreUndefinedProperties=r,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Sh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Tc(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(gP(this.na)&&XD.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class ZD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=i||mh(e)}fa(e,n,i,r=!1){return new Sh({na:e,methodName:n,la:i,path:rt.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ag(t){const e=t._freezeSettings(),n=mh(t._databaseId);return new ZD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eL(t,e,n,i,r,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,r);Ig("Data must be an object, but it was:",o,i);const a=yP(i,o);let l,u;if(s.merge)l=new Kt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=up(e,h,n);if(!o.contains(d))throw new O(E.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);wP(c,d)||c.push(d)}l=new Kt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new JD(new Et(a),l,u)}class bh extends _l{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bh}}function tL(t,e,n){return new Sh({na:3,la:e.settings.la,methodName:t._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class kg extends _l{_toFieldTransform(e){return new ME(e.path,new Ba)}isEqual(e){return e instanceof kg}}class nL extends _l{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=tL(this,e,!0),i=this.da.map(s=>co(s,n)),r=new Bs(i);return new ME(e.path,r)}isEqual(e){return this===e}}function iL(t,e,n,i){const r=t.fa(1,e,n);Ig("Data must be an object, but it was:",r,i);const s=[],o=Et.empty();Fr(i,(l,u)=>{const c=xg(e,l,n);u=be(u);const h=r.ua(c);if(u instanceof bh)s.push(c);else{const d=co(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Kt(s);return new mP(o,a,r.fieldTransforms)}function rL(t,e,n,i,r,s){const o=t.fa(1,e,n),a=[up(e,i,n)],l=[r];if(s.length%2!=0)throw new O(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(up(e,s[d])),l.push(s[d+1]);const u=[],c=Et.empty();for(let d=a.length-1;d>=0;--d)if(!wP(u,a[d])){const f=a[d];let p=l[d];p=be(p);const y=o.ua(f);if(p instanceof bh)u.push(f);else{const w=co(p,y);w!=null&&(u.push(f),c.set(f,w))}}const h=new Kt(u);return new mP(c,h,o.fieldTransforms)}function sL(t,e,n,i=!1){return co(n,t.fa(i?4:3,e))}function co(t,e){if(vP(t=be(t)))return Ig("Unsupported field value:",e,t),yP(t,e);if(t instanceof _l)return function(n,i){if(!gP(i.na))throw i.aa(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const o of n){let a=co(o,i.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=be(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return QO(i.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ce.fromDate(n);return{timestampValue:bc(i.It,r)}}if(n instanceof Ce){const r=new Ce(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bc(i.It,r)}}if(n instanceof Cg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hs)return{bytesValue:$E(i.It,n._byteString)};if(n instanceof ot){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ug(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.aa(`Unsupported field value: ${vh(n)}`)}(t,e)}function yP(t,e){const n={};return yE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(t,(i,r)=>{const s=co(r,e.ia(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function vP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Cg||t instanceof Hs||t instanceof ot||t instanceof _l)}function Ig(t,e,n){if(!vP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=vh(n);throw i==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+i)}}function up(t,e,n){if((e=be(e))instanceof _h)return e._internalPath;if(typeof e=="string")return xg(t,e);throw Tc("Field path arguments must be of type string or ",t,!1,void 0,n)}const oL=new RegExp("[~\\*/\\[\\]]");function xg(t,e,n){if(e.search(oL)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _h(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tc(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new O(E.INVALID_ARGUMENT,a+t+l)}function wP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aL extends _P{data(){return super.data()}}function Rg(t,e){return typeof e=="string"?xg(t,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SP extends _P{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Rg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class wu extends SP{data(e={}){return super.data(e)}}class bP{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Lo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new wu(this._firestore,this._userDataWriter,i.key,i,new Lo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new wu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new wu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:lL(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uL{}function cL(t,...e){for(const n of e)t=n._apply(t);return t}class hL extends uL{constructor(e,n,i){super(),this.wa=e,this.ma=n,this.ga=i,this.type="where"}_apply(e){const n=Ag(e.firestore),i=function(r,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new O(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){_w(c,u);const f=[];for(const p of c)f.push(ww(a,r,p));h={arrayValue:{values:f}}}else h=ww(a,r,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||_w(c,u),h=sL(o,s,c,u==="in"||u==="not-in");const d=mt.create(l,u,h);return function(f,p){if(p.dt()){const w=EE(f);if(w!==null&&!w.isEqual(p.field))throw new O(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${w.toString()}' and '${p.field.toString()}'`);const g=bE(f);g!==null&&fL(f,p.field,g)}const y=function(w,g){for(const m of w.filters)if(g.indexOf(m.op)>=0)return m.op;return null}(f,function(w){switch(w){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(y!==null)throw y===p.op?new O(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`):new O(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${p.op.toString()}' filters with '${y.toString()}' filters.`)}(r,d),d}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new uo(e.firestore,e.converter,function(r,s){const o=r.filters.concat([s]);return new ml(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}function dL(t,e,n){const i=e,r=Rg("where",t);return new hL(r,i,n)}function ww(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new O(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PE(e)&&n.indexOf("/")!==-1)throw new O(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(he.fromString(n));if(!V.isDocumentKey(i))throw new O(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wv(t,new V(i))}if(n instanceof ot)return Wv(t,n._key);throw new O(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function _w(t,e){if(!Array.isArray(t)||t.length===0)throw new O(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new O(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fL(t,e,n){if(!n.isEqual(e))throw new O(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{convertValue(e,n="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){const i={};return Fr(e.fields,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Cg(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wE(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(za(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=he.fromString(e);ue(QE(i));const r=new Ga(i.get(1),i.get(3)),s=new V(i.popFirst(5));return r.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){t=hn(t,ot);const e=hn(t.firestore,Lr);return HD(wh(e),t._key).then(n=>CP(e,t,n))}class Og extends pL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function yL(t){t=hn(t,uo);const e=hn(t.firestore,Lr),n=wh(e),i=new Og(e);return EP(t._query),WD(n,t._query).then(r=>new bP(e,i,t,r))}function cp(t,e,n){t=hn(t,ot);const i=hn(t.firestore,Lr),r=mL(t.converter,e,n);return TP(i,[eL(Ag(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,xn.none())])}function ws(t,e,n,...i){t=hn(t,ot);const r=hn(t.firestore,Lr),s=Ag(r);let o;return o=typeof(e=be(e))=="string"||e instanceof _h?rL(s,"updateDoc",t._key,e,n,i):iL(s,"updateDoc",t._key,e),TP(r,[o.toMutation(t._key,xn.exists(!0))])}function PP(t,...e){var n,i,r;t=be(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||vw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(vw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(t instanceof ot)u=hn(t.firestore,Lr),c=ch(t._key.path),l={next:h=>{e[o]&&e[o](CP(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=hn(t,uo);u=hn(h.firestore,Lr),c=h._query;const d=new Og(u);l={next:f=>{e[o]&&e[o](new bP(u,d,h,f))},error:e[o+1],complete:e[o+2]},EP(t._query)}return function(h,d,f,p){const y=new Pg(p),w=new bg(d,y,f);return h.asyncQueue.enqueueAndForget(async()=>wg(await Pc(h),w)),()=>{y.Rc(),h.asyncQueue.enqueueAndForget(async()=>_g(await Pc(h),w))}}(wh(u),c,a,l)}function TP(t,e){return function(n,i){const r=new Wn;return n.asyncQueue.enqueueAndForget(async()=>ID(await $D(n),i,r)),r.promise}(wh(t),e)}function CP(t,e,n){const i=n.docs.get(e._key),r=new Og(t);return new SP(t,r,e._key,i,new Lo(n.hasPendingWrites,n.fromCache),e.converter)}function Cc(){return new kg("serverTimestamp")}function Sw(...t){return new nL("arrayUnion",t)}(function(t,e=!0){(function(n){oo=n})(Zs),Cr(new Ni("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),o=new Lr(new wO(n.getProvider("auth-internal")),new EO(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new O(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),An(Uv,"3.4.15",t),An(Uv,"3.4.15","esm2017")})();const vL={apiKey:"AIzaSyAeOG3fTuvHwMEDnSgyql0CZIqANfZCF78",authDomain:"chat-3bbe5.firebaseapp.com",projectId:"chat-3bbe5",storageBucket:"chat-3bbe5.appspot.com",messagingSenderId:"336966958960",appId:"1:336966958960:web:706bd6fc2d223f03c299b5"},wL=HA(vL),Eh=ZI(),AP=lR(wL),Ot=YD();var Ph={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L=N.exports,SL=Symbol.for("react.element"),bL=Symbol.for("react.fragment"),EL=Object.prototype.hasOwnProperty,PL=_L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TL={key:!0,ref:!0,__self:!0,__source:!0};function kP(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)EL.call(e,i)&&!TL.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:SL,type:t,key:s,ref:o,props:r,_owner:PL.current}}Th.Fragment=bL;Th.jsx=kP;Th.jsxs=kP;(function(t){t.exports=Th})(Ph);const CL=Ph.exports.Fragment,k=Ph.exports.jsx,fe=Ph.exports.jsxs,IP=N.exports.createContext(),AL=({children:t})=>{const[e,n]=N.exports.useState({});return N.exports.useEffect(()=>{const i=Fk(Eh,r=>{n(r)});return()=>{i()}},[]),k(IP.Provider,{value:{currentUser:e},children:t})},jr=()=>N.exports.useContext(IP),xP=N.exports.createContext(),kL=({children:t})=>{const{currentUser:e}=jr(),n={chatId:"null",user:{}},i=(o,a)=>{switch(a.type){case"CHANGE_USER":return{user:a.payload,chatId:e.uid>a.payload.uid?e.uid+a.payload.uid:a.payload.uid+e.uid}}},[r,s]=N.exports.useReducer(i,n);return k(xP.Provider,{value:{data:r,dispatch:s},children:t})},Sl=()=>N.exports.useContext(xP),IL=()=>{var e;const{data:t}=Sl();return fe("div",{className:"chat",children:[fe("div",{className:"chatInfo",children:[k("span",{children:(e=t.user)==null?void 0:e.displayName}),fe("div",{className:"chatIcons",children:[k("img",{src:RC,alt:"camera icon"}),k("img",{src:OC,alt:"add contact icon"}),k("img",{src:MC,alt:"more options icon"})]})]}),k(LL,{}),k(ML,{})]})},xL=()=>{var s;const{currentUser:t}=jr(),{dispatch:e}=Sl(),[n,i]=N.exports.useState([]);N.exports.useEffect(()=>{const o=()=>{const a=PP(qt(Ot,"userChats",t.uid),l=>{i(l.data())});return()=>{a()}};t.uid&&o()},[t.uid]);const r=o=>{e({type:"CHANGE_USER",payload:o})};return k("div",{className:"chats",children:(s=Object.entries(n))==null?void 0:s.sort((o,a)=>a[1].date-o[1].date).map(o=>{var a;return fe("div",{className:"userChat",onClick:()=>r(o[1].userInfo),children:[k("img",{src:o[1].userInfo.photoURL,alt:""}),fe("div",{className:"userChatInfo",children:[k("span",{children:o[1].userInfo.displayName}),k("p",{children:(a=o[1].lastMessage)==null?void 0:a.text})]})]},o[0])})})},RL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RAzQjvjAGAAAEuUlEQVRYw+2WbUyTVxTH/7cvdFiBOBCKqJCROlJETQQaUVpeu4mxH5ZCidkyUWOiuBmRaBRJIL4lhPnyZR/QxBpRtmqyhtWiRVeftsaAG0t0+AIuoqmausdMrUUstWcfNgh0ILBWlyX7f7p57rnn/s59zj33AP/rLxExZt9ZX2+PUan+FQAbpaVxHJH9w9bWd7mvYHiwSSwGACoSCP65u6mL2TMPH6bpS5dCHRmJAoWCrX72jJLv3MF3Ph9mb9+u9joc3O8FBdDv2wefSBTyjmWvX6OtszPQWl+fz3heBK9Kha8WLRqaJ0NMDLB4MW77/WSWyZAP4IlcjhqlMmxhp2dnC57qdDbKymJGo1CYmBgdjVqFIlDvdOKV1SqILC9/udHn01z3eofWOH+LiqJboZ8Aq4uKCijq6khXUYHPzpwZnuAqMzI4joirNJvDFuk46tZFRHArvV7upscznHDezT09rMHpZKoRVEEyGoXCjtTo6FAB0s/4fJjL83g8ffqkF3HGrVvtshcvOI6Ia+E4e+acOaFAcJX37nEc0agrd9GQlNSti4gINrZRURESGhtpkVgMpcuFWSoV7Tt6NNSTAEbUgYvZCQmitL4+vqip6W9G94uKAAD8li3u1pQUttXtRld+vo1CT8phB6Ks+Hi8EolwPS4u2IjVuly0FmCppaUyV2wsaePjoXC58pnfHzaAN2ng52PHJO+vX08b8/KAvDxI/H6WvG1bqJtPGkBz3eu98rFSOXhArydPQgJLb2tTJV679s4AAGDJg5cvoTcY3mRjNAqFCTXNzSx1yRKqKi5Wa3p7J/I7pYeHk+bm2mN27RrrphAxJnMcOYKj5eW0IzmZfWS1XjQkJYUNwLFLqWRRbW3Uuns3v/P06WAIR3FjI+kqKqB0uaA3mehSSorortV6wRAbGzKAjdLSApVmM30rlWIez8Oj1Y6E4A7U1FBtVRXm8Ty+1mik35eVQWCxoEChEPdbLDYav+JNCGCj2bMFm86fR09cHMkPHmQtCxbgi9u3hyA46+bNWLxnD37xeLCypERddfNmZtbgoDSytJQ1OJ1Iz84WfGoyWXokkikDtFtjYgRLzWaUzZ2LBadOqROrq1VVjx7531Or8cONG/BotZAcOoT9Ph9UOp36x6tXh9ZmZvb3S26tWIGfurqwvrBQ+sJoHKtwjQtwJSkyMuKBxYL9Cxcy07lz0jurVzMWCABAYafbzfY2NAAAJH6/4LFer86wWoN9KH99/tz/TUkJWG8vPFqt8MumJiLGJgUw+IlGgw9ycrC3o2Pggk6XmTU4OMpgVnU1OCK2bN263C6TaTw/hZ1udyBXo4HS5SJdRcUlpKdPCmDa5+3taFy7VlC7fPnIxmRIFL9mTaBWo1H5jx+fKI/yWV8fW5aTQ/2rVuWhu3tMo+GGxHH27EQOwyGu9f79Uc+xsO7Jkz9Dk8uJ3m5n7HDMmIEbMhnm8fxwVi6b+fAh12K3Y5ZKZX964sSlu83NlBL038MgQfO0aYHs6moExGIaaGkZlZGcVS5nB9rbaUdy8ts8AQDA3o4O4cniYhb8vSM1Onpgx4YNODR/Pps5dvEIReTxetmqy5dfbzEYwtFP/Pf1B63n8BCweUoHAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA4LTMxVDE3OjAzOjUyKzAwOjAwAqs7ggAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wOC0zMVQxNzowMzo1MiswMDowMHP2gz4AAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjItMDgtMzFUMTc6MDM6NTIrMDA6MDAk46LhAAAAAElFTkSuQmCC",OL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RBhBiyiCSAAACDklEQVRYw+2XPUgbcRjGn0vtUj8mzRDBUSeXkkgbHCS4xWiV1FWQkqWEwkF7yQUUOoTGFheziDpEJzPce5JIN48YMgnRkg4NnbocItr6kaXX4e2QEEqwekkuXXrP+D7Pvff7P8v/DrDVhPa809OU1DTyVCrkqVQoqWmqOxBoZ6dgNkiH8TguotFbzUg8PluOxVoBcJg9OS6iUQwZhvAxEuEXLpfj/eAgHkkShgwD72SZRqam2mni7tMnNY2IWQ1JUqOnhiSJiJlGDg461gBSHg8AGJOpVKNVn4lud+cA5O5uAJifPz1ttOozZ29v5wAaROFCgc7y+Vb9P9XVCgB8Xi8KbfjtNmClbAAbwAawAWyA1u6Ckq5j1OVSvo+PAwBytdk/a+DDzg4ACLl8XshVbz3hy/Z25wDObm4AIL3b0wMAvzaWlrCQSKCk6yjpOhYSCWNmeRkA9ry174LaM5aINo+PiZiJJybuyyorPh8RMz0pFq1rYDKbBQC8EcV7F55UM0Iok7GsAWXF6aT162siZtUny3/NlWKxalOXl5nH/f1mdpv+L1APg0HeTKcxKwh4ms065lZXf746OgKArm9jY44TUeTnfj+ImV8Hg3OjimIpQB3i7dYWXvb13Rp4dnXFnxcXzb68aQAASO8ODDxcD4eFT34/fx0eBgDkymXhx/7+g+TaWqB4ft7szv9bvwGBKNSBpuqWcAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOC0zMVQxNzowNjoxNiswMDowMJSH2i8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDgtMzFUMTc6MDY6MTYrMDA6MDDl2mKTAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIyLTA4LTMxVDE3OjA2OjE2KzAwOjAwss9DTAAAAABJRU5ErkJggg==",ML=()=>{const{currentUser:t}=jr(),{data:e}=Sl(),[n,i]=N.exports.useState(""),[r,s]=N.exports.useState(null);return fe("div",{className:"input",children:[k("input",{type:"text",placeholder:"Type something...",onChange:a=>i(a.target.value),value:n}),fe("div",{className:"send",children:[k("img",{src:OL,alt:""}),k("input",{type:"file",style:{display:"none"},id:"file",onChange:a=>s(a.target.files[0])}),k("label",{htmlFor:"file",children:k("img",{src:RL,alt:""})}),k("button",{onClick:async()=>{if(r){const a=mb(AP,od());await fb(a,r).then(()=>{pb(a).then(async l=>{try{await ws(qt(Ot,"chats",e.chatId),{messages:Sw({id:od(),text:n,senderId:t.uid,date:Ce.now(),img:l})})}catch(u){console.log(u)}})})}else await ws(qt(Ot,"chats",e.chatId),{messages:Sw({id:od(),text:n,senderId:t.uid,date:Ce.now()})});await ws(qt(Ot,"userChats",t.uid),{[e.chatId+".lastMessage"]:{text:n},[e.chatId+".date"]:Cc()}),await ws(qt(Ot,"userChats",e.user.uid),{[e.chatId+".lastMessage"]:{text:n},[e.chatId+".date"]:Cc()}),i(""),s(null)},children:"Send"})]})]})},DL=({message:t})=>{const{currentUser:e}=jr(),{data:n}=Sl(),i=N.exports.useRef();return N.exports.useEffect(()=>{var r;(r=i.current)==null||r.scrollIntoView({behaviour:"smooth"})},[t]),fe("div",{className:`message ${t.senderId===e.uid&&"owner"}`,children:[fe("div",{className:"messageInfo",children:[k("img",{src:t.senderId===e.uid?e.photoURL:n.user.photoURL,alt:"moreno profile image"}),k("span",{children:"just now"})]}),fe("div",{className:"messageContent",children:[k("p",{children:t.text}),t.img&&k("img",{src:t.img,alt:"moreno profile image"})]})]})},LL=()=>{const{data:t}=Sl(),[e,n]=N.exports.useState([]);return N.exports.useEffect(()=>{const i=PP(qt(Ot,"chats",t.chatId),r=>{r.exists()&&n(r.data().messages)});return()=>{i()}},[t.chatId]),k("div",{className:"messages",children:e.map(i=>k(DL,{message:i},i.id))})},NL=()=>{const{currentUser:t}=jr();return fe("div",{className:"navbar",children:[k("span",{className:"logo",children:"Nima Chat"}),fe("div",{className:"user",children:[k("img",{src:t.photoURL,alt:"user profile image"}),k("span",{children:t.displayName}),k("button",{onClick:()=>Bk(Eh),children:"logout"})]})]})};var bw=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ai=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Bt;class VL{constructor(){Bt.set(this,void 0),bw(this,Bt,new Map,"f")}addEventListener(e,n){var i;this.removeEventListener(e,n),ai(this,Bt,"f").get(e)||ai(this,Bt,"f").set(e,[]),(i=ai(this,Bt,"f").get(e))===null||i===void 0||i.push(n)}dispatchEvent(e,n){var i;(i=ai(this,Bt,"f").get(e))===null||i===void 0||i.forEach(r=>r(n))}hasEventListener(e){return!!ai(this,Bt,"f").get(e)}removeAllEventListeners(e){e?ai(this,Bt,"f").delete(e):bw(this,Bt,new Map,"f")}removeEventListener(e,n){const i=ai(this,Bt,"f").get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<0||(r===1?ai(this,Bt,"f").delete(e):i.splice(s,1))}}Bt=new WeakMap;class X{constructor(e,n){if(typeof e!="number"&&e)this.x=e.x,this.y=e.y;else if(e!==void 0&&n!==void 0)this.x=e,this.y=n;else throw new Error("tsParticles - Vector not initialized correctly")}static get origin(){return X.create(0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}static clone(e){return X.create(e.x,e.y)}static create(e,n){return new X(e,n)}add(e){return X.create(this.x+e.x,this.y+e.y)}addTo(e){this.x+=e.x,this.y+=e.y}copy(){return X.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return X.create(this.x/e,this.y/e)}divTo(e){this.x/=e,this.y/=e}getLengthSq(){return this.x**2+this.y**2}manhattanDistanceTo(e){return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}mult(e){return X.create(this.x*e,this.y*e)}multTo(e){this.x*=e,this.y*=e}rotate(e){return X.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e))}setTo(e){this.x=e.x,this.y=e.y}sub(e){return X.create(this.x-e.x,this.y-e.y)}subFrom(e){this.x-=e.x,this.y-=e.y}updateFromAngle(e,n){this.x=Math.cos(e)*n,this.y=Math.sin(e)*n}}let zL=Math.random;function G(){return Zt(zL(),0,1-1e-16)}function Zt(t,e,n){return Math.min(Math.max(t,e),n)}function Ad(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function De(t){const e=ln(t);let n=Ws(t);return e===n&&(n=0),G()*(e-n)+n}function M(t){return typeof t=="number"?t:De(t)}function Ws(t){return typeof t=="number"?t:t.min}function ln(t){return typeof t=="number"?t:t.max}function B(t,e){if(t===e||e===void 0&&typeof t=="number")return t;const n=Ws(t),i=ln(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:B(n,i)}function ii(t){const e=t.random,{enable:n,minimumValue:i}=typeof e=="boolean"?{enable:e,minimumValue:0}:e;return M(n?B(t.value,i):t.value)}function Ne(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n*n+i*i)}}function xe(t,e){return Ne(t,e).distance}function GL(t,e,n){if(typeof t=="number")return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);case"none":default:return G()*Math.PI*2}}function UL(t){const e=X.origin;return e.length=1,e.angle=t,e}function Ew(t,e,n,i){return X.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function RP(t,e){switch(e){case"ease-out-quad":return 1-(1-t)**2;case"ease-out-cubic":return 1-(1-t)**3;case"ease-out-quart":return 1-(1-t)**4;case"ease-out-quint":return 1-(1-t)**5;case"ease-out-expo":return t===1?1:1-Math.pow(2,-10*t);case"ease-out-sine":return Math.sin(t*Math.PI/2);case"ease-out-back":return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2);case"ease-out-circ":return Math.sqrt(1-Math.pow(t-1,2));default:return t}}function FL(t){var e,n;return((e=t.position)===null||e===void 0?void 0:e.x)!==void 0&&((n=t.position)===null||n===void 0?void 0:n.y)!==void 0?{x:t.position.x*t.size.width/100,y:t.position.y*t.size.height/100}:void 0}function OP(t){var e,n,i,r;return{x:((n=(e=t.position)===null||e===void 0?void 0:e.x)!==null&&n!==void 0?n:G()*100)*t.size.width/100,y:((r=(i=t.position)===null||i===void 0?void 0:i.y)!==null&&r!==void 0?r:G()*100)*t.size.height/100}}function MP(t){var e,n;const i={x:((e=t.position)===null||e===void 0?void 0:e.x)!==void 0?M(t.position.x):void 0,y:((n=t.position)===null||n===void 0?void 0:n.y)!==void 0?M(t.position.y):void 0};return OP({size:t.size,position:i})}function BL(t){var e,n,i,r;return{x:(n=(e=t.position)===null||e===void 0?void 0:e.x)!==null&&n!==void 0?n:G()*t.size.width,y:(r=(i=t.position)===null||i===void 0?void 0:i.y)!==null&&r!==void 0?r:G()*t.size.height}}function DP(t){return t.endsWith("%")?parseFloat(t)/100:parseFloat(t)}function Pw(t,e,n,i,r,s){const o={bounced:!1};return e.min<i.min||e.min>i.max||e.max<i.min||e.max>i.max||(t.max>=n.min&&t.max<=(n.max+n.min)/2&&r>0||t.min<=n.max&&t.min>(n.max+n.min)/2&&r<0)&&(o.velocity=r*-s,o.bounced=!0),o}function Tw(t,e){if(!(e instanceof Array))return t.matches(e);for(const n of e)if(t.matches(n))return!0;return!1}function Nr(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function jL(){return Nr()?t=>setTimeout(t):t=>(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout)(t)}function $L(){return Nr()?t=>clearTimeout(t):t=>(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout)(t)}function ie(t,e){return t===e||e instanceof Array&&e.indexOf(t)>-1}async function Cw(t,e){try{await document.fonts.load(`${e!=null?e:"400"} 36px '${t!=null?t:"Verdana"}'`)}catch{}}function LP(t){return Math.floor(G()*t.length)}function Fe(t,e,n=!0){const i=e!==void 0&&n?e%t.length:LP(t);return t[i]}function bl(t,e,n,i,r){return HL(El(t,i!=null?i:0),e,n,r)}function HL(t,e,n,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height+n.x),r&&(!i||i==="left")&&(r=t.right>n.x),r&&(!i||i==="right")&&(r=t.left<e.width+n.y),r&&(!i||i==="top")&&(r=t.bottom>n.y),r}function El(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function re(t,...e){for(const n of e){if(n==null)continue;if(typeof n!="object"){t=n;continue}const i=Array.isArray(n);i&&(typeof t!="object"||!t||!Array.isArray(t))?t=[]:!i&&(typeof t!="object"||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=typeof o=="object",l=t;l[r]=a&&Array.isArray(o)?o.map(u=>re(l[r],u)):re(l[r],o)}}return t}function Mg(t,e){return e instanceof Array?!!e.find(n=>n.enable&&ie(t,n.mode)):ie(t,e.mode)}function Dg(t,e,n){if(e instanceof Array)for(const i of e){const r=i.mode;i.enable&&ie(t,r)&&Aw(i,n)}else{const i=e.mode;e.enable&&ie(t,i)&&Aw(e,n)}}function Aw(t,e){const n=t.selectors;if(n instanceof Array)for(const i of n)e(i,t);else e(n,t)}function NP(t,e){if(!(!e||!t)){if(t instanceof Array)return t.find(n=>Tw(e,n.selectors));if(Tw(e,t.selectors))return t}}function hp(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:X.create(ii(t.options.bounce.horizontal),ii(t.options.bounce.vertical))}}function VP(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=Ne(s,r);if(n*o+i*a<0)return;const l=-Math.atan2(a,o),u=t.mass,c=e.mass,h=t.velocity.rotate(l),d=e.velocity.rotate(l),f=Ew(h,d,u,c),p=Ew(d,h,u,c),y=f.rotate(-l),w=p.rotate(-l);t.velocity.x=y.x*t.factor.x,t.velocity.y=y.y*t.factor.y,e.velocity.x=w.x*e.factor.x,e.velocity.y=w.y*e.factor.y}function WL(t,e){const n=t.getPosition(),i=t.getRadius(),r=El(n,i),s=Pw({min:r.left,max:r.right},{min:r.top,max:r.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},t.velocity.x,ii(t.options.bounce.horizontal));s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const o=Pw({min:r.top,max:r.bottom},{min:r.left,max:r.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},t.velocity.y,ii(t.options.bounce.vertical));o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}const Ac="random",zP="mid",Ch=new Map;function GP(t,e){Ch.set(t,e)}function kd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UP(t){for(const[,s]of Ch)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(s,o,a,l,u)=>o+o+a+a+l+l+(u!==void 0?u+u:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function kt(t,e,n=!0){if(!t)return;const i=typeof t=="string"?{value:t}:t;if(typeof i.value=="string")return FP(i.value,e,n);if(i.value instanceof Array)return kt({value:Fe(i.value,e,n)});for(const[,r]of Ch){const s=r.handleRangeColor(i);if(s)return s}}function FP(t,e,n=!0){if(!t)return;const i=typeof t=="string"?{value:t}:t;if(typeof i.value=="string")return i.value===Ac?jP():QL(i.value);if(i.value instanceof Array)return FP({value:Fe(i.value,e,n)});for(const[,r]of Ch){const s=r.handleColor(i);if(s)return s}}function Ui(t,e,n=!0){const i=kt(t,e,n);return i?BP(i):void 0}function BP(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function qL(t){var e;return(e=UP(t))===null||e===void 0?void 0:e.a}function QL(t){return UP(t)}function qs(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.b=n.l,e.g=n.l,e.r=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-i;e.r=kd(r,i,n.h+1/3),e.g=kd(r,i,n.h),e.b=kd(r,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function KL(t){const e=qs(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function jP(t){const e=t!=null?t:0;return{b:Math.floor(De(B(e,256))),g:Math.floor(De(B(e,256))),r:Math.floor(De(B(e,256)))}}function Yt(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e!=null?e:1})`}function Qs(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e!=null?e:1})`}function Lg(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=qs(t)),s.r===void 0&&(s=qs(e)),{b:Ad(r.b,s.b,n,i),g:Ad(r.g,s.g,n,i),r:Ad(r.r,s.r,n,i)}}function dp(t,e,n){var i,r;if(n===Ac)return jP();if(n===zP){const s=(i=t.getFillColor())!==null&&i!==void 0?i:t.getStrokeColor(),o=(r=e==null?void 0:e.getFillColor())!==null&&r!==void 0?r:e==null?void 0:e.getStrokeColor();if(s&&o&&e)return Lg(s,o,t.getRadius(),e.getRadius());{const a=s!=null?s:o;if(a)return qs(a)}}else return n}function $P(t,e,n){const i=typeof t=="string"?t:t.value;return i===Ac?n?kt({value:i}):e?Ac:zP:kt({value:i})}function kw(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function HP(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Id(i.h,e.h,n),Id(i.s,e.s,n),Id(i.l,e.l,n)),i}function Id(t,e,n){t.enable=e.enable,t.enable?(t.velocity=M(e.speed)/100*n,t.decay=1-M(e.decay),t.status=0,e.sync||(t.velocity*=G(),t.value*=G())):t.velocity=0}function ca(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function YL(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function XL(t,e,n){t.save(),t.fillStyle=n!=null?n:"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height),t.restore()}function xd(t,e){t.clearRect(0,0,e.width,e.height)}function JL(t){var e,n,i,r,s,o,a,l,u,c;const{container:h,context:d,particle:f,delta:p,colorStyles:y,backgroundMask:w,composite:g,radius:m,opacity:v,shadow:_,transform:b}=t,P=f.getPosition();d.save(),b.a!==void 0||b.b!==void 0||b.c!==void 0||b.d!==void 0?d.setTransform((e=b.a)!==null&&e!==void 0?e:1,(n=b.b)!==null&&n!==void 0?n:0,(i=b.c)!==null&&i!==void 0?i:0,(r=b.d)!==null&&r!==void 0?r:1,P.x,P.y):d.translate(P.x,P.y),d.beginPath();const S=f.rotation+(f.options.rotate.path?f.velocity.angle:0);S!==0&&d.rotate(S),w&&(d.globalCompositeOperation=g);const T=f.shadowColor;_.enable&&T&&(d.shadowBlur=_.blur,d.shadowColor=Yt(T),d.shadowOffsetX=_.offset.x,d.shadowOffsetY=_.offset.y),y.fill&&(d.fillStyle=y.fill);const D=f.stroke;d.lineWidth=(s=f.strokeWidth)!==null&&s!==void 0?s:0,y.stroke&&(d.strokeStyle=y.stroke),ZL(h,d,f,m,v,p),((o=D==null?void 0:D.width)!==null&&o!==void 0?o:0)>0&&d.stroke(),f.close&&d.closePath(),f.fill&&d.fill(),d.restore(),d.save(),b.a!==void 0||b.b!==void 0||b.c!==void 0||b.d!==void 0?d.setTransform((a=b.a)!==null&&a!==void 0?a:1,(l=b.b)!==null&&l!==void 0?l:0,(u=b.c)!==null&&u!==void 0?u:0,(c=b.d)!==null&&c!==void 0?c:1,P.x,P.y):d.translate(P.x,P.y),f.rotation&&d.rotate(f.rotation),w&&(d.globalCompositeOperation=g),eN(h,d,f,m,v,p),d.restore()}function ZL(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||o.draw(e,n,i,r,s,t.retina.pixelRatio)}function eN(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);!(o!=null&&o.afterEffect)||o.afterEffect(e,n,i,r,s,t.retina.pixelRatio)}function tN(t,e,n){!e.draw||(t.save(),e.draw(t,n),t.restore())}function nN(t,e,n,i){!e.drawParticle||(t.save(),e.drawParticle(t,n,i),t.restore())}function iN(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}const ha="generated",Iw="touchend",rN="pointerdown",sN="pointerup",Vr="pointermove",oN="touchstart",aN="touchmove",fp="pointerleave",lN="pointerout",uN="touchcancel",cN="resize",hN="visibilitychange",Jl="No polygon data loaded.",dN="No polygon found, you need to specify SVG url in config.";var It=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},yn=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Yr,Xr,tr,nr,ir;function fN(t,e,n){var i;const r=e[n];r!==void 0&&(t[n]=((i=t[n])!==null&&i!==void 0?i:1)*r)}class pN{constructor(e){this.container=e,Yr.set(this,void 0),Xr.set(this,void 0),tr.set(this,void 0),nr.set(this,void 0),ir.set(this,void 0),this.size={height:0,width:0},It(this,Xr,null,"f"),this.generatedCanvas=!1,It(this,nr,[],"f"),It(this,tr,[],"f"),It(this,ir,[],"f"),It(this,Yr,[],"f")}clear(){const e=this.container.actualOptions,n=e.particles.move.trail;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&this.trailFillColor?this.paintBase(Yt(this.trailFillColor,1/n.length)):this.draw(i=>{xd(i,this.size)})}destroy(){var e;this.generatedCanvas?(e=this.element)===null||e===void 0||e.remove():this.resetOriginalStyle(),this.draw(n=>{xd(n,this.size)}),It(this,nr,[],"f"),It(this,tr,[],"f"),It(this,ir,[],"f"),It(this,Yr,[],"f")}draw(e){if(!!yn(this,Xr,"f"))return e(yn(this,Xr,"f"))}drawParticle(e,n){var i;if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const s=e.getFillColor(),o=(i=e.getStrokeColor())!==null&&i!==void 0?i:s;let[a,l]=this.getPluginParticleColors(e);a||(a=s),l||(l=o),!(!a&&!l)&&this.draw(u=>{var c,h,d,f,p;const y=this.container.actualOptions,w=e.options.zIndex,g=(1-e.zIndexFactor)**w.opacityRate,m=(d=(c=e.bubble.opacity)!==null&&c!==void 0?c:(h=e.opacity)===null||h===void 0?void 0:h.value)!==null&&d!==void 0?d:1,v=(p=(f=e.stroke)===null||f===void 0?void 0:f.opacity)!==null&&p!==void 0?p:m,_=m*g,b=v*g,P={},S={fill:a?Qs(a,_):void 0};S.stroke=l?Qs(l,b):S.fill,this.applyPreDrawUpdaters(u,e,r,_,S,P),JL({container:this.container,context:u,particle:e,delta:n,colorStyles:S,backgroundMask:y.backgroundMask.enable,composite:y.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**w.sizeRate,opacity:_,shadow:e.options.shadow,transform:P}),this.applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>{nN(r,e,n,i)})}drawPlugin(e,n){this.draw(i=>{tN(i,e,n)})}init(){this.resize(),this.initStyle(),this.initCover(),this.initTrail(),this.initBackground(),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element,r=i==null?void 0:i.style;if(!!r){if(n.color){const s=kt(n.color);r.backgroundColor=s?Yt(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){It(this,ir,[],"f");for(const[,e]of this.container.plugins)e.resize&&yn(this,ir,"f").push(e),(e.particleFillColor||e.particleStrokeColor)&&yn(this,Yr,"f").push(e)}initUpdaters(){It(this,nr,[],"f"),It(this,tr,[],"f");for(const e of this.container.particles.updaters)e.afterDraw&&yn(this,tr,"f").push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&yn(this,nr,"f").push(e)}loadCanvas(e){var n;this.generatedCanvas&&((n=this.element)===null||n===void 0||n.remove()),this.generatedCanvas=e.dataset&&ha in e.dataset?e.dataset[ha]==="true":this.generatedCanvas,this.element=e,this.originalStyle=re({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,It(this,Xr,this.element.getContext("2d"),"f"),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(xd(n,this.size),this.paintBase(this.coverColorStyle)):this.paintBase()})}resize(){if(!this.element)return;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return;const s=Object.assign({},i);this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height})}async windowResize(){if(!this.element)return;this.resize();const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this.applyResizePlugins(),n&&await e.refresh()}applyPostDrawUpdaters(e){var n;for(const i of yn(this,tr,"f"))(n=i.afterDraw)===null||n===void 0||n.call(i,e)}applyPreDrawUpdaters(e,n,i,r,s,o){var a;for(const l of yn(this,nr,"f")){if(l.getColorStyles){const{fill:u,stroke:c}=l.getColorStyles(n,e,i,r);u&&(s.fill=u),c&&(s.stroke=c)}if(l.getTransformValues){const u=l.getTransformValues(n);for(const c in u)fN(o,u,c)}(a=l.beforeDraw)===null||a===void 0||a.call(l,n)}}applyResizePlugins(){var e;for(const n of yn(this,ir,"f"))(e=n.resize)===null||e===void 0||e.call(n)}getPluginParticleColors(e){let n,i;for(const r of yn(this,Yr,"f"))if(!n&&r.particleFillColor&&(n=Ui(r.particleFillColor(e))),!i&&r.particleStrokeColor&&(i=Ui(r.particleStrokeColor(e))),n&&i)break;return[n,i]}initCover(){const e=this.container.actualOptions,n=e.backgroundMask.cover,i=n.color,r=kt(i);if(r){const s={r:r.r,g:r.g,b:r.b,a:n.opacity};this.coverColorStyle=Yt(s,s.a)}}initStyle(){const e=this.element,n=this.container.actualOptions;if(!!e){n.fullScreen.enable?(this.originalStyle=re({},e.style),e.style.setProperty("position","fixed","important"),e.style.setProperty("z-index",n.fullScreen.zIndex.toString(10),"important"),e.style.setProperty("top","0","important"),e.style.setProperty("left","0","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","100%","important")):this.resetOriginalStyle();for(const i in n.style){if(!i||!n.style)continue;const r=n.style[i];!r||e.style.setProperty(i,r,"important")}}}initTrail(){const e=this.container.actualOptions,n=e.particles.move.trail,i=kt(n.fillColor);if(i){const r=e.particles.move.trail;this.trailFillColor={r:i.r,g:i.g,b:i.b,a:1/r.length}}}paintBase(e){this.draw(n=>{XL(n,this.size,e)})}resetOriginalStyle(){const e=this.element,n=this.originalStyle;e&&n&&(e.style.position=n.position,e.style.zIndex=n.zIndex,e.style.top=n.top,e.style.left=n.left,e.style.width=n.width,e.style.height=n.height)}}Yr=new WeakMap,Xr=new WeakMap,tr=new WeakMap,nr=new WeakMap,ir=new WeakMap;function Ft(t,e,n,i,r){if(i){let s={passive:!0};typeof r=="boolean"?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class mN{constructor(e){this.container=e,this.canPush=!0,this.mouseMoveHandler=n=>this.mouseTouchMove(n),this.touchStartHandler=n=>this.mouseTouchMove(n),this.touchMoveHandler=n=>this.mouseTouchMove(n),this.touchEndHandler=()=>this.mouseTouchFinish(),this.mouseLeaveHandler=()=>this.mouseTouchFinish(),this.touchCancelHandler=()=>this.mouseTouchFinish(),this.touchEndClickHandler=n=>this.mouseTouchClick(n),this.mouseUpHandler=n=>this.mouseTouchClick(n),this.mouseDownHandler=()=>this.mouseDown(),this.visibilityChangeHandler=()=>this.handleVisibilityChange(),this.themeChangeHandler=n=>this.handleThemeChange(n),this.oldThemeChangeHandler=n=>this.handleThemeChange(n),this.resizeHandler=()=>this.handleWindowResize()}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}doMouseTouchClick(e){const n=this.container,i=n.actualOptions;if(this.canPush){const r=n.interactivity.mouse.position;if(!r)return;n.interactivity.mouse.clickPosition={x:r.x,y:r.y},n.interactivity.mouse.clickTime=new Date().getTime();const s=i.interactivity.events.onClick;if(s.mode instanceof Array)for(const o of s.mode)this.handleClickMode(o);else this.handleClickMode(s.mode)}e.type==="touchend"&&setTimeout(()=>this.mouseTouchFinish(),500)}handleClickMode(e){this.container.handleClickMode(e)}handleThemeChange(e){const n=e,i=n.matches?this.container.options.defaultDarkTheme:this.container.options.defaultLightTheme,r=this.container.options.themes.find(s=>s.name===i);r&&r.default.auto&&this.container.loadTheme(i)}handleVisibilityChange(){const e=this.container,n=e.actualOptions;this.mouseTouchFinish(),n.pauseOnBlur&&(document!=null&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var e;return(e=this.container.canvas)===null||e===void 0?void 0:e.windowResize()},500)}manageListeners(e){var n;const i=this.container,r=i.actualOptions,s=r.interactivity.detectsOn;let o=fp;if(s==="window")i.interactivity.element=window,o=lN;else if(s==="parent"&&i.canvas.element){const c=i.canvas.element;i.interactivity.element=(n=c.parentElement)!==null&&n!==void 0?n:c.parentNode}else i.interactivity.element=i.canvas.element;const a=!Nr()&&typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)");a&&(a.addEventListener!==void 0?Ft(a,"change",this.themeChangeHandler,e):a.addListener!==void 0&&(e?a.addListener(this.oldThemeChangeHandler):a.removeListener(this.oldThemeChangeHandler)));const l=i.interactivity.element;if(!l)return;const u=l;(r.interactivity.events.onHover.enable||r.interactivity.events.onClick.enable)&&(Ft(l,Vr,this.mouseMoveHandler,e),Ft(l,oN,this.touchStartHandler,e),Ft(l,aN,this.touchMoveHandler,e),r.interactivity.events.onClick.enable?(Ft(l,Iw,this.touchEndClickHandler,e),Ft(l,sN,this.mouseUpHandler,e),Ft(l,rN,this.mouseDownHandler,e)):Ft(l,Iw,this.touchEndHandler,e),Ft(l,o,this.mouseLeaveHandler,e),Ft(l,uN,this.touchCancelHandler,e)),i.canvas.element&&(i.canvas.element.style.pointerEvents=u===i.canvas.element?"initial":"none"),r.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(i.canvas.element&&this.resizeObserver.unobserve(i.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&i.canvas.element&&(this.resizeObserver=new ResizeObserver(c=>{!c.find(d=>d.target===i.canvas.element)||this.handleWindowResize()}),this.resizeObserver.observe(i.canvas.element)):Ft(window,cN,this.resizeHandler,e)),document&&Ft(document,hN,this.visibilityChangeHandler,e,!1)}mouseDown(){const e=this.container.interactivity;if(e){const n=e.mouse;n.clicking=!0,n.downPosition=n.position}}mouseTouchClick(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse;r.inside=!0;let s=!1;const o=r.position;if(!(!o||!i.interactivity.events.onClick.enable)){for(const[,a]of n.plugins)if(!!a.clickPositionValid&&(s=a.clickPositionValid(o),s))break;s||this.doMouseTouchClick(e),r.clicking=!1}}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const n=e.mouse;delete n.position,delete n.clickPosition,delete n.downPosition,e.status=fp,n.inside=!1,n.clicking=!1}mouseTouchMove(e){var n,i,r,s,o,a,l;const u=this.container,c=u.actualOptions;if(!(!((n=u.interactivity)===null||n===void 0)&&n.element))return;u.interactivity.mouse.inside=!0;let h;const d=u.canvas.element;if(e.type.startsWith("pointer")){this.canPush=!0;const p=e;if(u.interactivity.element===window){if(d){const y=d.getBoundingClientRect();h={x:p.clientX-y.left,y:p.clientY-y.top}}}else if(c.interactivity.detectsOn==="parent"){const y=p.target,w=p.currentTarget,g=u.canvas.element;if(y&&w&&g){const m=y.getBoundingClientRect(),v=w.getBoundingClientRect(),_=g.getBoundingClientRect();h={x:p.offsetX+2*m.left-(v.left+_.left),y:p.offsetY+2*m.top-(v.top+_.top)}}else h={x:(i=p.offsetX)!==null&&i!==void 0?i:p.clientX,y:(r=p.offsetY)!==null&&r!==void 0?r:p.clientY}}else p.target===u.canvas.element&&(h={x:(s=p.offsetX)!==null&&s!==void 0?s:p.clientX,y:(o=p.offsetY)!==null&&o!==void 0?o:p.clientY})}else{this.canPush=e.type!=="touchmove";const p=e,y=p.touches[p.touches.length-1],w=d==null?void 0:d.getBoundingClientRect();h={x:y.clientX-((a=w==null?void 0:w.left)!==null&&a!==void 0?a:0),y:y.clientY-((l=w==null?void 0:w.top)!==null&&l!==void 0?l:0)}}const f=u.retina.pixelRatio;h&&(h.x*=f,h.y*=f),u.interactivity.mouse.position=h,u.interactivity.status=Vr}}class gN{constructor(e){this.container=e}async nextFrame(e){var n;try{const i=this.container;if(i.lastFrameTime!==void 0&&e<i.lastFrameTime+1e3/i.fpsLimit){i.draw(!1);return}(n=i.lastFrameTime)!==null&&n!==void 0||(i.lastFrameTime=e);const r=e-i.lastFrameTime,s={value:r,factor:60*r/1e3};if(i.lifeTime+=s.value,i.lastFrameTime=e,r>1e3){i.draw(!1);return}if(await i.particles.draw(s),i.duration>0&&i.lifeTime>i.duration){i.destroy();return}i.getAnimationStatus()&&i.draw(!1)}catch(i){console.error("tsParticles error in animation loop",i)}}}class oe{constructor(){this.value=""}static create(e,n){const i=new oe;return i.load(e),n!==void 0&&(typeof n=="string"||n instanceof Array?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class yN{constructor(){this.color=new oe,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=oe.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class vN{constructor(){this.color=new oe,this.color.value="#fff",this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=oe.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class wN{constructor(){this.composite="destination-out",this.cover=new vN,this.enable=!1}load(e){if(!!e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=typeof e.cover=="string"?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class _N{constructor(){this.enable=!0,this.zIndex=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class SN{constructor(){this.enable=!1,this.mode=[]}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class Rd{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(n=>`#${n}`):`#${e}`}load(e){var n,i;if(!e)return;const r=(i=(n=e.ids)!==null&&n!==void 0?n:e.elementId)!==null&&i!==void 0?i:e.el;r!==void 0&&(this.ids=r),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class bN{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class EN{constructor(){this.enable=!1,this.mode=[],this.parallax=new bN}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class PN{constructor(){this.onClick=new SN,this.onDiv=new Rd,this.onHover=new EN,this.resize=!0}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var n,i,r;if(!e)return;this.onClick.load((n=e.onClick)!==null&&n!==void 0?n:e.onclick);const s=(i=e.onDiv)!==null&&i!==void 0?i:e.ondiv;s!==void 0&&(s instanceof Array?this.onDiv=s.map(o=>{const a=new Rd;return a.load(o),a}):(this.onDiv=new Rd,this.onDiv.load(s))),this.onHover.load((r=e.onHover)!==null&&r!==void 0?r:e.onhover),e.resize!==void 0&&(this.resize=e.resize)}}class TN{constructor(){this.factor=3,this.radius=200}load(e){!e||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}var xw=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Od=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},No,_u;class CN{constructor(e,n){No.set(this,void 0),_u.set(this,void 0),xw(this,_u,e,"f"),xw(this,No,n,"f"),this.slow=new TN}load(e){if(!!e&&(this.slow.load(e.slow),Od(this,No,"f"))){const n=Od(this,_u,"f").plugins.interactors.get(Od(this,No,"f"));if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}}No=new WeakMap,_u=new WeakMap;var Rw=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},pp,mp;class WP{constructor(e,n){pp.set(this,void 0),mp.set(this,void 0),Rw(this,mp,e,"f"),Rw(this,pp,n,"f"),this.detectsOn="window",this.events=new PN,this.modes=new CN(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var n;if(!e)return;const i=(n=e.detectsOn)!==null&&n!==void 0?n:e.detect_on;i!==void 0&&(this.detectsOn=i),this.events.load(e.events),this.modes.load(e.modes)}}pp=new WeakMap,mp=new WeakMap;class AN{load(e){var n,i;!e||(e.position!==void 0&&(this.position={x:(n=e.position.x)!==null&&n!==void 0?n:50,y:(i=e.position.y)!==null&&i!==void 0?i:50}),e.options!==void 0&&(this.options=re({},e.options)))}}class kN{constructor(){this.factor=4,this.value=!0}load(e){!e||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class IN{constructor(){this.disable=!1,this.reduce=new kN}load(e){!e||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}class xN{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){!e||(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=re({},e.options)))}}class RN{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){!e||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class ON{constructor(){this.name="",this.default=new RN}load(e){!e||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=re({},e.options)))}}class Md{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.decay=0,this.sync=!0}load(e){!e||(e.count!==void 0&&(this.count=B(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=B(e.offset)),e.speed!==void 0&&(this.speed=B(e.speed)),e.decay!==void 0&&(this.decay=B(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class MN{constructor(){this.h=new Md,this.s=new Md,this.l=new Md}load(e){!e||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Ks extends oe{constructor(){super(),this.animation=new MN}static create(e,n){const i=new Ks;return i.load(e),n!==void 0&&(typeof n=="string"||n instanceof Array?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class DN{constructor(){this.enable=!0,this.retries=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class LN{constructor(){this.enable=!1,this.minimumValue=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class en{constructor(){this.random=new LN,this.value=0}load(e){!e||(typeof e.random=="boolean"?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=B(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class Ow extends en{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class qP{constructor(){this.horizontal=new Ow,this.vertical=new Ow}load(e){!e||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class NN{constructor(){this.bounce=new qP,this.enable=!1,this.mode="bounce",this.overlap=new DN}load(e){!e||(this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class VN extends en{constructor(){super(),this.value=3}}class zN extends en{constructor(){super(),this.value={min:4,max:9}}}class GN{constructor(){this.count=1,this.factor=new VN,this.rate=new zN,this.sizeOffset=!0}load(e){!e||(e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),e.particles!==void 0&&(e.particles instanceof Array?this.particles=e.particles.map(n=>re({},n)):this.particles=re({},e.particles)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset))}}class UN{constructor(){this.mode="none",this.split=new GN}load(e){!e||(e.mode!==void 0&&(this.mode=e.mode),this.split.load(e.split))}}class FN{constructor(){this.offset=0,this.value=90}load(e){!e||(e.offset!==void 0&&(this.offset=B(e.offset)),e.value!==void 0&&(this.value=B(e.value)))}}class BN{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var n,i,r,s;if(!e)return;e.distance!==void 0&&(this.distance=B(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const o=(i=(n=e.rotate)===null||n===void 0?void 0:n.x)!==null&&i!==void 0?i:e.rotateX;o!==void 0&&(this.rotate.x=o);const a=(s=(r=e.rotate)===null||r===void 0?void 0:r.y)!==null&&s!==void 0?s:e.rotateY;a!==void 0&&(this.rotate.y=a)}}class jN{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=B(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=B(e.maxSpeed)))}}class $N extends en{constructor(){super()}}class HN{constructor(){this.clamp=!0,this.delay=new $N,this.enable=!1,this.options={}}load(e){!e||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=re(this.options,e.options)))}}class WN{constructor(){this.enable=!1,this.length=10,this.fillColor=new oe,this.fillColor.value="#000000"}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),this.fillColor=oe.create(this.fillColor,e.fillColor),e.length!==void 0&&(this.length=e.length))}}class qN{constructor(){this.default="out"}load(e){var n,i,r,s;!e||(e.default!==void 0&&(this.default=e.default),this.bottom=(n=e.bottom)!==null&&n!==void 0?n:e.default,this.left=(i=e.left)!==null&&i!==void 0?i:e.default,this.right=(r=e.right)!==null&&r!==void 0?r:e.default,this.top=(s=e.top)!==null&&s!==void 0?s:e.default)}}class QN{constructor(){this.acceleration=0,this.enable=!1}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=B(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),this.position=e.position?re({},e.position):void 0)}}class KN{constructor(){this.angle=new FN,this.attract=new BN,this.center={x:50,y:50,radius:0},this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new jN,this.path=new HN,this.outModes=new qN,this.random=!1,this.size=!1,this.speed=2,this.spin=new QN,this.straight=!1,this.trail=new WN,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var n,i,r;if(!e)return;e.angle!==void 0&&(typeof e.angle=="number"?this.angle.value=e.angle:this.angle.load(e.angle)),this.attract.load(e.attract),this.center=re(this.center,e.center),e.decay!==void 0&&(this.decay=e.decay),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=typeof e.distance=="number"?{horizontal:e.distance,vertical:e.distance}:re({},e.distance)),e.drift!==void 0&&(this.drift=B(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=(n=e.outMode)!==null&&n!==void 0?n:e.out_mode;(e.outModes!==void 0||s!==void 0)&&(typeof e.outModes=="string"||e.outModes===void 0&&s!==void 0?this.outModes.load({default:(i=e.outModes)!==null&&i!==void 0?i:s}):this.outModes.load(e.outModes)),this.path.load((r=e.path)!==null&&r!==void 0?r:e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=B(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class QP{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.sync=!1}load(e){!e||(e.count!==void 0&&(this.count=B(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=B(e.speed)),e.decay!==void 0&&(this.decay=B(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class YN extends QP{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var n;!e||(super.load(e),e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(n=e.minimumValue)!==null&&n!==void 0?n:e.opacity_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class XN extends en{constructor(){super(),this.animation=new YN,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var n;if(!e)return;super.load(e);const i=(n=e.animation)!==null&&n!==void 0?n:e.anim;i!==void 0&&(this.animation.load(i),this.value=B(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class JN{constructor(){this.enable=!1,this.area=800,this.factor=1e3}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var n;if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const i=(n=e.area)!==null&&n!==void 0?n:e.value_area;i!==void 0&&(this.area=i),e.factor!==void 0&&(this.factor=e.factor)}}class ZN{constructor(){this.density=new JN,this.limit=0,this.value=100}get max(){return this.limit}set max(e){this.limit=e}load(e){var n;if(!e)return;this.density.load(e.density);const i=(n=e.limit)!==null&&n!==void 0?n:e.max;i!==void 0&&(this.limit=i),e.value!==void 0&&(this.value=e.value)}}class eV{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=B(e.speed)),e.decay!==void 0&&(this.decay=B(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class tV extends en{constructor(){super(),this.animation=new eV,this.direction="clockwise",this.path=!1,this.value=0}load(e){!e||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}class nV{constructor(){this.blur=0,this.color=new oe,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){!e||(e.blur!==void 0&&(this.blur=e.blur),this.color=oe.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class KP{constructor(){this.options={},this.type="circle"}get character(){var e;return(e=this.options.character)!==null&&e!==void 0?e:this.options.char}set character(e){this.options.character=e,this.options.char=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return(e=this.options.image)!==null&&e!==void 0?e:this.options.images}set image(e){this.options.image=e,this.options.images=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return(e=this.options.polygon)!==null&&e!==void 0?e:this.options.star}set polygon(e){this.options.polygon=e,this.options.star=e}get stroke(){return[]}set stroke(e){}load(e){var n,i,r;if(!e)return;const s=(n=e.options)!==null&&n!==void 0?n:e.custom;if(s!==void 0)for(const o in s){const a=s[o];a&&(this.options[o]=re((i=this.options[o])!==null&&i!==void 0?i:{},a))}this.loadShape(e.character,"character","char",!0),this.loadShape(e.polygon,"polygon","star",!1),this.loadShape((r=e.image)!==null&&r!==void 0?r:e.images,"image","images",!0),e.type!==void 0&&(this.type=e.type)}loadShape(e,n,i,r){var s,o;if(!e)return;const a=e instanceof Array?[]:{},l=e instanceof Array!=this.options[n]instanceof Array,u=e instanceof Array!=this.options[i]instanceof Array;l&&(this.options[n]=a),u&&r&&(this.options[i]=a),this.options[n]=re((s=this.options[n])!==null&&s!==void 0?s:a,e),(!this.options[i]||r)&&(this.options[i]=re((o=this.options[i])!==null&&o!==void 0?o:a,e))}}class iV extends QP{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var n;super.load(e),e&&(e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(n=e.minimumValue)!==null&&n!==void 0?n:e.size_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class rV extends en{constructor(){super(),this.animation=new iV,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var n;if(super.load(e),!e)return;const i=(n=e.animation)!==null&&n!==void 0?n:e.anim;i!==void 0&&(this.animation.load(i),this.value=B(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Dd{constructor(){this.width=0}load(e){!e||(e.color!==void 0&&(this.color=Ks.create(this.color,e.color)),e.width!==void 0&&(this.width=e.width),e.opacity!==void 0&&(this.opacity=e.opacity))}}class sV extends en{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}var Mw=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Eo=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Jr,Vo;class oV{constructor(e,n){Jr.set(this,void 0),Vo.set(this,void 0),Mw(this,Vo,e,"f"),Mw(this,Jr,n,"f"),this.bounce=new qP,this.collisions=new NN,this.color=new Ks,this.color.value="#fff",this.destroy=new UN,this.groups={},this.move=new KN,this.number=new ZN,this.opacity=new XN,this.reduceDuplicates=!1,this.rotate=new tV,this.shadow=new nV,this.shape=new KP,this.size=new rV,this.stroke=new Dd,this.zIndex=new sV}load(e){var n,i,r,s,o,a;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Ks.create(this.color,e.color)),this.destroy.load(e.destroy),e.groups!==void 0)for(const c in e.groups){const h=e.groups[c];h!==void 0&&(this.groups[c]=re((n=this.groups[c])!==null&&n!==void 0?n:{},h))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.rotate.load(e.rotate),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const l=(r=(i=e.move)===null||i===void 0?void 0:i.collisions)!==null&&r!==void 0?r:(s=e.move)===null||s===void 0?void 0:s.bounce;l!==void 0&&(this.collisions.enable=l),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=re({},e.interactivity));const u=(o=e.stroke)!==null&&o!==void 0?o:(a=e.shape)===null||a===void 0?void 0:a.stroke;if(u&&(u instanceof Array?this.stroke=u.map(c=>{const h=new Dd;return h.load(c),h}):(this.stroke instanceof Array&&(this.stroke=new Dd),this.stroke.load(u))),Eo(this,Jr,"f")){const c=Eo(this,Vo,"f").plugins.updaters.get(Eo(this,Jr,"f"));if(c)for(const d of c)d.loadOptions&&d.loadOptions(this,e);const h=Eo(this,Vo,"f").plugins.interactors.get(Eo(this,Jr,"f"));if(h)for(const d of h)d.loadParticlesOptions&&d.loadParticlesOptions(this,e)}}}Jr=new WeakMap,Vo=new WeakMap;function YP(t,...e){for(const n of e)t.load(n)}function Ng(t,e,...n){const i=new oV(t,e);return YP(i,...n),i}var Dw=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Dn=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},zo,Go,rr,Su;class aV{constructor(e,n){zo.add(this),Go.set(this,void 0),rr.set(this,void 0),Dw(this,rr,e,"f"),Dw(this,Go,n,"f"),this.autoPlay=!0,this.background=new yN,this.backgroundMask=new wN,this.fullScreen=new _N,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new WP(e,n),this.manualParticles=[],this.motion=new IN,this.particles=Ng(Dn(this,rr,"f"),Dn(this,Go,"f")),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var n,i,r,s,o;if(!e)return;if(e.preset!==void 0)if(e.preset instanceof Array)for(const h of e.preset)this.importPreset(h);else this.importPreset(e.preset);e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay);const a=(n=e.detectRetina)!==null&&n!==void 0?n:e.retina_detect;a!==void 0&&(this.detectRetina=a),e.duration!==void 0&&(this.duration=e.duration);const l=(i=e.fpsLimit)!==null&&i!==void 0?i:e.fps_limit;l!==void 0&&(this.fpsLimit=l),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const u=(r=e.fullScreen)!==null&&r!==void 0?r:e.backgroundMode;typeof u=="boolean"?this.fullScreen.enable=u:this.fullScreen.load(u),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles!==void 0&&(this.manualParticles=e.manualParticles.map(h=>{const d=new AN;return d.load(h),d})),this.motion.load(e.motion),this.particles.load(e.particles),this.style=re(this.style,e.style),Dn(this,rr,"f").plugins.loadOptions(this,e);const c=Dn(this,rr,"f").plugins.interactors.get(Dn(this,Go,"f"));if(c)for(const h of c)h.loadOptions&&h.loadOptions(this,e);if(e.responsive!==void 0)for(const h of e.responsive){const d=new xN;d.load(h),this.responsive.push(d)}if(this.responsive.sort((h,d)=>h.maxWidth-d.maxWidth),e.themes!==void 0)for(const h of e.themes){const d=new ON;d.load(h),this.themes.push(d)}this.defaultDarkTheme=(s=Dn(this,zo,"m",Su).call(this,"dark"))===null||s===void 0?void 0:s.name,this.defaultLightTheme=(o=Dn(this,zo,"m",Su).call(this,"light"))===null||o===void 0?void 0:o.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)"),i=n&&n.matches,r=Dn(this,zo,"m",Su).call(this,i?"dark":"light");r&&this.load(r.options)}}importPreset(e){this.load(Dn(this,rr,"f").plugins.getPreset(e))}}Go=new WeakMap,rr=new WeakMap,zo=new WeakSet,Su=function(e){var n;return(n=this.themes.find(i=>i.default.value&&i.default.mode===e))!==null&&n!==void 0?n:this.themes.find(i=>i.default.value&&i.default.mode==="any")};var Lw=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Nw=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},bu,Eu;class lV{constructor(e,n){this.container=n,bu.set(this,void 0),Eu.set(this,void 0),Lw(this,bu,e,"f"),Lw(this,Eu,Nw(this,bu,"f").plugins.getInteractors(this.container,!0),"f"),this.externalInteractors=[],this.particleInteractors=[]}async externalInteract(e){for(const n of this.externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this.externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this.externalInteractors=[],this.particleInteractors=[];for(const e of Nw(this,Eu,"f")){switch(e.type){case 0:this.externalInteractors.push(e);break;case 1:this.particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this.externalInteractors)i.clear(e);for(const i of this.particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this.externalInteractors)n.isEnabled()&&await n.reset(e);for(const n of this.particleInteractors)n.isEnabled(e)&&await n.reset(e)}}bu=new WeakMap,Eu=new WeakMap;class ut extends X{constructor(e,n,i){if(super(e,n),typeof e!="number"&&e)this.z=e.z;else if(i!==void 0)this.z=i;else throw new Error("tsParticles - Vector not initialized correctly")}static get origin(){return ut.create(0,0,0)}static clone(e){return ut.create(e.x,e.y,e.z)}static create(e,n,i){return new ut(e,n,i)}add(e){return e instanceof ut?ut.create(this.x+e.x,this.y+e.y,this.z+e.z):super.add(e)}addTo(e){super.addTo(e),e instanceof ut&&(this.z+=e.z)}copy(){return ut.clone(this)}div(e){return ut.create(this.x/e,this.y/e,this.z/e)}divTo(e){super.divTo(e),this.z/=e}mult(e){return ut.create(this.x*e,this.y*e,this.z*e)}multTo(e){super.multTo(e),this.z*=e}setTo(e){super.setTo(e);const n=e;n.z!==void 0&&(this.z=n.z)}sub(e){return e instanceof ut?ut.create(this.x-e.x,this.y-e.y,this.z-e.z):super.sub(e)}subFrom(e){super.subFrom(e),e instanceof ut&&(this.z-=e.z)}}var uV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Ld=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Zr;const Vw=t=>{!(ie(t.outMode,t.checkModes)||ie(t.outMode,t.checkModes))||(t.coord>t.maxCoord-t.radius*2?t.setCb(-t.radius):t.coord<t.radius*2&&t.setCb(t.radius))};class cV{constructor(e,n,i,r,s,o){var a,l,u,c,h,d,f,p,y;this.id=n,this.container=i,this.group=o,Zr.set(this,void 0),uV(this,Zr,e,"f"),this.fill=!0,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.splitCount=0,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const w=i.retina.pixelRatio,g=i.actualOptions,m=Ng(Ld(this,Zr,"f"),i,g.particles),v=m.shape.type,_=m.reduceDuplicates;if(this.shape=v instanceof Array?Fe(v,this.id,_):v,s!=null&&s.shape){if(s.shape.type){const qi=s.shape.type;this.shape=qi instanceof Array?Fe(qi,this.id,_):qi}const wt=new KP;wt.load(s.shape),this.shape&&(this.shapeData=this.loadShapeData(wt,_))}else this.shapeData=this.loadShapeData(m.shape,_);m.load(s),m.load((a=this.shapeData)===null||a===void 0?void 0:a.particles),this.interactivity=new WP(e,i),this.interactivity.load(i.actualOptions.interactivity),this.interactivity.load(m.interactivity),this.fill=(u=(l=this.shapeData)===null||l===void 0?void 0:l.fill)!==null&&u!==void 0?u:this.fill,this.close=(h=(c=this.shapeData)===null||c===void 0?void 0:c.close)!==null&&h!==void 0?h:this.close,this.options=m;const b=this.options.move.path;this.pathDelay=ii(b.delay)*1e3,b.generator&&(this.pathGenerator=Ld(this,Zr,"f").plugins.getPathGenerator(b.generator),this.pathGenerator&&i.addPath(b.generator,this.pathGenerator)&&this.pathGenerator.init(i));const P=M(this.options.zIndex.value);i.retina.initParticle(this);const S=this.options.size,T=S.value,D=S.animation;if(this.size={enable:S.animation.enable,value:M(S.value)*i.retina.pixelRatio,max:ln(T)*w,min:Ws(T)*w,loops:0,maxLoops:M(S.animation.count)},D.enable){switch(this.size.status=0,this.size.decay=1-M(D.decay),D.startValue){case"min":this.size.value=this.size.min,this.size.status=0;break;case"random":this.size.value=De(this.size)*w,this.size.status=G()>=.5?0:1;break;case"max":default:this.size.value=this.size.max,this.size.status=1;break}this.size.velocity=((d=this.retina.sizeAnimationSpeed)!==null&&d!==void 0?d:i.retina.sizeAnimationSpeed)/100*i.retina.reduceFactor,D.sync||(this.size.velocity*=G())}this.bubble={inRange:!1},this.position=this.calcPosition(i,r,Zt(P,0,i.zLayers)),this.initialPosition=this.position.copy();const z=i.canvas.size,ae=this.options.move.center;switch(this.moveCenter={x:z.width*ae.x/100,y:z.height*ae.y/100,radius:this.options.move.center.radius},this.direction=GL(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.initialVelocity=this.calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-M(this.options.move.decay),this.offset=X.origin;const He=i.particles;He.needsSort=He.needsSort||He.lastZIndex<this.position.z,He.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/i.zLayers,this.sides=24;let se=i.drawers.get(this.shape);se||(se=Ld(this,Zr,"f").plugins.getShapeDrawer(this.shape),se&&i.drawers.set(this.shape,se)),se!=null&&se.loadShape&&(se==null||se.loadShape(this));const mn=se==null?void 0:se.getSidesCount;mn&&(this.sides=mn(this)),this.spawning=!1,this.shadowColor=kt(this.options.shadow.color);for(const wt of i.particles.updaters)(f=wt.init)===null||f===void 0||f.call(wt,this);for(const wt of i.particles.movers)(p=wt.init)===null||p===void 0||p.call(wt,this);se!=null&&se.particleInit&&se.particleInit(i,this);for(const[,wt]of i.plugins)(y=wt.particleCreated)===null||y===void 0||y.call(wt,this)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1;for(const[,i]of this.container.plugins)i.particleDestroyed&&i.particleDestroyed(this,e);if(e)return;this.options.destroy.mode==="split"&&this.split()}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){var e,n;const i=(e=this.bubble.color)!==null&&e!==void 0?e:kw(this.color);if(i&&this.roll&&(this.backColor||this.roll.alter)){const r=this.roll.horizontal&&this.roll.vertical?2:1,s=this.roll.horizontal?Math.PI/2:0;if(Math.floor((((n=this.roll.angle)!==null&&n!==void 0?n:0)+s)/(Math.PI/r))%2){if(this.backColor)return this.backColor;if(this.roll.alter)return iN(i,this.roll.alter.type,this.roll.alter.value)}}return i}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return(e=this.bubble.radius)!==null&&e!==void 0?e:this.size.value}getStrokeColor(){var e,n;return(n=(e=this.bubble.color)!==null&&e!==void 0?e:kw(this.strokeColor))!==null&&n!==void 0?n:this.getFillColor()}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=n.height+e&&this.position.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){this.opacity&&(this.opacity.loops=0),this.size.loops=0}calcPosition(e,n,i,r=0){var s,o,a,l;for(const[,w]of e.plugins){const g=w.particlePosition!==void 0?w.particlePosition(n,this):void 0;if(g!==void 0)return ut.create(g.x,g.y,i)}const u=e.canvas.size,c=BL({size:u,position:n}),h=ut.create(c.x,c.y,i),d=this.getRadius(),f=this.options.move.outModes,p=w=>{Vw({outMode:w,checkModes:["bounce","bounce-horizontal"],coord:h.x,maxCoord:e.canvas.size.width,setCb:g=>h.x+=g,radius:d})},y=w=>{Vw({outMode:w,checkModes:["bounce","bounce-vertical"],coord:h.y,maxCoord:e.canvas.size.height,setCb:g=>h.y+=g,radius:d})};return p((s=f.left)!==null&&s!==void 0?s:f.default),p((o=f.right)!==null&&o!==void 0?o:f.default),y((a=f.top)!==null&&a!==void 0?a:f.default),y((l=f.bottom)!==null&&l!==void 0?l:f.default),this.checkOverlap(h,r)?this.calcPosition(e,void 0,i,r+1):h}calculateVelocity(){const n=UL(this.direction).copy(),i=this.options.move;if(i.direction==="inside"||i.direction==="outside")return n;const r=Math.PI/180*M(i.angle.value),s=Math.PI/180*M(i.angle.offset),o={left:s-r/2,right:s+r/2};return i.straight||(n.angle+=De(B(o.left,o.right))),i.random&&typeof i.speed=="number"&&(n.length*=G()),n}checkOverlap(e,n=0){const i=this.options.collisions,r=this.getRadius();if(!i.enable)return!1;const s=i.overlap;if(s.enable)return!1;const o=s.retries;if(o>=0&&n>o)throw new Error("Particle is overlapping and can't be placed");let a=!1;for(const l of this.container.particles.array)if(xe(e,l.position)<r+l.getRadius()){a=!0;break}return a}loadShapeData(e,n){const i=e.options[this.shape];if(i)return re({},i instanceof Array?Fe(i,this.id,n):i)}split(){const e=this.options.destroy.split;if(e.count>=0&&this.splitCount++>e.count)return;const n=ii(e.rate),i=e.particles instanceof Array?Fe(e.particles):e.particles;for(let r=0;r<n;r++)this.container.particles.addSplitParticle(this,i)}}Zr=new WeakMap;class hV{constructor(e,n){this.position=e,this.particle=n}}class XP{constructor(e,n){this.position={x:e,y:n}}}class Nt extends XP{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return xe(e,this.position)<=this.radius}intersects(e){const n=e,i=e,r=this.position,s=e.position,o=Math.abs(s.x-r.x),a=Math.abs(s.y-r.y),l=this.radius;if(i.radius!==void 0){const u=l+i.radius,c=Math.sqrt(o*o+a+a);return u>c}else if(n.size!==void 0){const u=n.size.width,c=n.size.height,h=Math.pow(o-u,2)+Math.pow(a-c,2);return o>l+u||a>l+c?!1:o<=u||a<=c?!0:h<=l*l}return!1}}class Ht extends XP{constructor(e,n,i,r){super(e,n),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){const n=e,i=e,r=this.size.width,s=this.size.height,o=this.position,a=e.position;if(i.radius!==void 0)return i.intersects(this);if(!n.size)return!1;const l=n.size,u=l.width,c=l.height;return a.x<o.x+r&&a.x+u>o.x&&a.y<o.y+s&&a.y+c>o.y}}class JP extends Nt{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize=Object.assign({},r)}contains(e){if(super.contains(e))return!0;const n={x:e.x-this.canvasSize.width,y:e.y};if(super.contains(n))return!0;const i={x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height};if(super.contains(i))return!0;const r={x:e.x,y:e.y-this.canvasSize.height};return super.contains(r)}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Nt(r.x,r.y,i.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new Ht(r.x,r.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class fr{constructor(e,n){this.rectangle=e,this.capacity=n,this.points=[],this.divided=!1}insert(e){var n,i,r,s,o;return this.rectangle.contains(e.position)?this.points.length<this.capacity?(this.points.push(e),!0):(this.divided||this.subdivide(),(o=((n=this.northEast)===null||n===void 0?void 0:n.insert(e))||((i=this.northWest)===null||i===void 0?void 0:i.insert(e))||((r=this.southEast)===null||r===void 0?void 0:r.insert(e))||((s=this.southWest)===null||s===void 0?void 0:s.insert(e)))!==null&&o!==void 0?o:!1):!1}query(e,n,i){var r,s,o,a;const l=i!=null?i:[];if(!e.intersects(this.rectangle))return[];for(const u of this.points)!e.contains(u.position)&&xe(e.position,u.position)>u.particle.getRadius()&&(!n||n(u.particle))||l.push(u.particle);return this.divided&&((r=this.northEast)===null||r===void 0||r.query(e,n,l),(s=this.northWest)===null||s===void 0||s.query(e,n,l),(o=this.southEast)===null||o===void 0||o.query(e,n,l),(a=this.southWest)===null||a===void 0||a.query(e,n,l)),l}queryCircle(e,n,i){return this.query(new Nt(e.x,e.y,n),i)}queryCircleWarp(e,n,i,r){const s=i,o=i;return this.query(new JP(e.x,e.y,n,s.canvas!==void 0?s.canvas.size:o),r)}queryRectangle(e,n,i){return this.query(new Ht(e.x,e.y,n.width,n.height),i)}subdivide(){const e=this.rectangle.position.x,n=this.rectangle.position.y,i=this.rectangle.size.width,r=this.rectangle.size.height,s=this.capacity;this.northEast=new fr(new Ht(e,n,i/2,r/2),s),this.northWest=new fr(new Ht(e+i/2,n,i/2,r/2),s),this.southEast=new fr(new Ht(e,n+r/2,i/2,r/2),s),this.southWest=new fr(new Ht(e+i/2,n+r/2,i/2,r/2),s),this.divided=!0}}var dV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},li=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},nn;class fV{constructor(e,n){this.container=n,nn.set(this,void 0),dV(this,nn,e,"f"),this.nextId=0,this.array=[],this.zArray=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.freqs={links:new Map,triangles:new Map},this.interactionManager=new lV(li(this,nn,"f"),n);const i=this.container.canvas.size;this.quadTree=new fr(new Ht(-i.width/4,-i.height/4,i.width*3/2,i.height*3/2),4),this.movers=li(this,nn,"f").plugins.getMovers(n,!0),this.updaters=li(this,nn,"f").plugins.getUpdaters(n,!0)}get count(){return this.array.length}addManualParticles(){const e=this.container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(FL({size:e.canvas.size,position:i.position}),i.options)}addParticle(e,n,i){const r=this.container,s=r.actualOptions,o=s.particles.number.limit;if(o>0){const a=this.count+1-o;a>0&&this.removeQuantity(a)}return this.pushParticle(e,n,i)}addSplitParticle(e,n){const i=e.options.destroy.split,r=Ng(li(this,nn,"f"),this.container,e.options),s=ii(i.factor);r.color.load({value:{hsl:e.getFillColor()}}),typeof r.size.value=="number"?r.size.value/=s:(r.size.value.min/=s,r.size.value.max/=s),r.load(n);const o=i.sizeOffset?B(-e.size.value,e.size.value):0,a={x:e.position.x+De(o),y:e.position.y+De(o)};return this.pushParticle(a,r,e.group,l=>l.size.value<.5?!1:(l.velocity.length=De(B(e.velocity.length,l.velocity.length)),l.splitCount=e.splitCount+1,l.unbreakable=!0,setTimeout(()=>{l.unbreakable=!1},500),!0))}clear(){this.array=[],this.zArray=[]}destroy(){this.array=[],this.zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this.container,i=this.container.canvas.size;this.quadTree=new fr(new Ht(-i.width/4,-i.height/4,i.width*3/2,i.height*3/2),4),n.canvas.clear(),await this.update(e),this.needsSort&&(this.zArray.sort((r,s)=>s.position.z-r.position.z||r.id-s.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,r]of n.plugins)n.canvas.drawPlugin(r,e);for(const r of this.zArray)r.draw(e)}getLinkFrequency(e,n){const i=B(e.id,n.id),r=`${Ws(i)}_${ln(i)}`;let s=this.freqs.links.get(r);return s===void 0&&(s=G(),this.freqs.links.set(r,s)),s}getTriangleFrequency(e,n,i){let[r,s,o]=[e.id,n.id,i.id];r>s&&([s,r]=[r,s]),s>o&&([o,s]=[s,o]),r>o&&([o,r]=[r,o]);const a=`${r}_${s}_${o}`;let l=this.freqs.triangles.get(a);return l===void 0&&(l=G(),this.freqs.triangles.set(a,l)),l}handleClickMode(e){this.interactionManager.handleClickMode(e)}init(){var e;const n=this.container,i=n.actualOptions;this.lastZIndex=0,this.needsSort=!1,this.freqs.links=new Map,this.freqs.triangles=new Map;let r=!1;this.updaters=li(this,nn,"f").plugins.getUpdaters(n,!0),this.interactionManager.init();for(const[,s]of n.plugins)if(s.particlesInitialization!==void 0&&(r=s.particlesInitialization()),r)break;this.interactionManager.init();for(const[,s]of n.pathGenerators)s.init(n);if(this.addManualParticles(),!r){for(const s in i.particles.groups){const o=i.particles.groups[s];for(let a=this.count,l=0;l<((e=o.number)===null||e===void 0?void 0:e.value)&&a<i.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<i.particles.number.value;s++)this.addParticle()}}push(e,n,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this.array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,r){if(!(e>=0&&e<=this.count))return;let s=0;for(let o=e;s<n&&o<this.count;o++){const a=this.array[o];if(!a||a.group!==i)continue;a.destroy(r),this.array.splice(o--,1);const l=this.zArray.indexOf(a);this.zArray.splice(l,1),s++,li(this,nn,"f").dispatchEvent("particleRemoved",{container:this.container,data:{particle:a}})}}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this.container.actualOptions;for(const n in e.particles.groups)this.applyDensity(e.particles.groups[n],0,n);this.applyDensity(e.particles,e.manualParticles.length)}async update(e){var n,i;const r=this.container,s=[];for(const[,o]of r.pathGenerators)o.update();for(const[,o]of r.plugins)(n=o.update)===null||n===void 0||n.call(o,e);for(const o of this.array){const a=r.canvas.resizeFactor;a&&!o.ignoresResizeRatio&&(o.position.x*=a.width,o.position.y*=a.height),o.ignoresResizeRatio=!1,await this.interactionManager.reset(o);for(const[,l]of this.container.plugins){if(o.destroyed)break;(i=l.particleUpdate)===null||i===void 0||i.call(l,o,e)}for(const l of this.movers)l.isEnabled(o)&&l.move(o,e);if(o.destroyed){s.push(o);continue}this.quadTree.insert(new hV(o.getPosition(),o))}for(const o of s)this.remove(o);await this.interactionManager.externalInteract(e);for(const o of r.particles.array){for(const a of this.updaters)a.update(o,e);!o.destroyed&&!o.spawning&&await this.interactionManager.particlesInteract(o,e)}delete r.canvas.resizeFactor}applyDensity(e,n,i){var r;if(!(!((r=e.number.density)===null||r===void 0)&&r.enable))return;const s=e.number,o=this.initDensityFactor(s.density),a=s.value,l=s.limit>0?s.limit:a,u=Math.min(a,l)*o+n,c=Math.min(this.count,this.array.filter(h=>h.group===i).length);this.limit=s.limit*o,c<u?this.push(Math.abs(u-c),void 0,e,i):c>u&&this.removeQuantity(c-u,i)}initDensityFactor(e){const n=this.container;if(!n.canvas.element||!e.enable)return 1;const i=n.canvas.element,r=n.retina.pixelRatio;return i.width*i.height/(e.factor*r**2*e.area)}pushParticle(e,n,i,r){try{const s=new cV(li(this,nn,"f"),this.nextId,this.container,e,n,i);let o=!0;return r&&(o=r(s)),o?(this.array.push(s),this.zArray.push(s),this.nextId++,li(this,nn,"f").dispatchEvent("particleAdded",{container:this.container,data:{particle:s}}),s):void 0}catch(s){console.warn(`error adding particle: ${s}`);return}}}nn=new WeakMap;class pV{constructor(e){this.container=e}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Nr()?1:window.devicePixelRatio;const i=this.container.actualOptions.motion;if(i&&(i.disable||i.reduce.value))if(Nr()||typeof matchMedia>"u"||!matchMedia)this.reduceFactor=1;else{const a=matchMedia("(prefers-reduced-motion: reduce)");if(a){this.handleMotionChange(a);const l=()=>{this.handleMotionChange(a),e.refresh().catch(()=>{})};a.addEventListener!==void 0?a.addEventListener("change",l):a.addListener!==void 0&&a.addListener(l)}}else this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const a=e.canvas.element;e.canvas.size.width=a.offsetWidth*r,e.canvas.size.height=a.offsetHeight*r}const s=n.particles;this.attractDistance=M(s.move.attract.distance)*r,this.sizeAnimationSpeed=M(s.size.animation.speed)*r,this.maxSpeed=M(s.move.gravity.maxSpeed)*r;const o=n.interactivity.modes;this.slowModeRadius=o.slow.radius*r}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move.distance,s=e.retina;s.attractDistance=M(n.move.attract.distance)*i,s.moveDrift=M(n.move.drift)*i,s.moveSpeed=M(n.move.speed)*i,s.sizeAnimationSpeed=M(n.size.animation.speed)*i;const o=s.maxDistance;o.horizontal=r.horizontal!==void 0?r.horizontal*i:void 0,o.vertical=r.vertical!==void 0?r.vertical*i:void 0,s.maxSpeed=M(n.move.gravity.maxSpeed)*i}handleMotionChange(e){const n=this.container.actualOptions;if(e.matches){const i=n.motion;this.reduceFactor=i.disable?0:i.reduce.value?1/i.reduce.factor:1}else this.reduceFactor=1}}var ui=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ee=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},_e,Uo,sr,Ln,Fo;function ge(t){return t!==void 0&&!t.destroyed}function Po(t,e,...n){const i=new aV(t,e);return YP(i,...n),i}const mV="default",zw={generate:t=>{const e=t.velocity.copy();return e.angle+=e.length*Math.PI/180,e},init:()=>{},update:()=>{}};class gV{constructor(e,n,i){this.id=n,_e.set(this,void 0),Uo.set(this,void 0),sr.set(this,void 0),Ln.set(this,void 0),Fo.set(this,void 0),ui(this,_e,e,"f"),this.fpsLimit=120,this.duration=0,this.lifeTime=0,this.firstStart=!0,this.started=!1,this.destroyed=!1,this.paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,ui(this,Fo,i,"f"),this._initialSourceOptions=i,this.retina=new pV(this),this.canvas=new pN(this),this.particles=new fV(ee(this,_e,"f"),this),this.frameManager=new gN(this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,ui(this,Ln,Po(ee(this,_e,"f"),this),"f"),this.actualOptions=Po(ee(this,_e,"f"),this),ui(this,Uo,new mN(this),"f"),typeof IntersectionObserver<"u"&&IntersectionObserver&&ui(this,sr,new IntersectionObserver(r=>this.intersectionManager(r)),"f"),ee(this,_e,"f").dispatchEvent("containerBuilt",{container:this})}get options(){return ee(this,Ln,"f")}get sourceOptions(){return ee(this,Fo,"f")}addClickHandler(e){if(!ge(this))return;const n=this.interactivity.element;if(!n)return;const i=(h,d,f)=>{if(!ge(this))return;const p=this.retina.pixelRatio,y={x:d.x*p,y:d.y*p},w=this.particles.quadTree.queryCircle(y,f*p);e(h,w)},r=h=>{if(!ge(this))return;const d=h,f={x:d.offsetX||d.clientX,y:d.offsetY||d.clientY};i(h,f,1)},s=()=>{!ge(this)||(u=!0,c=!1)},o=()=>{!ge(this)||(c=!0)},a=h=>{var d,f,p;if(!!ge(this)){if(u&&!c){const y=h;let w=y.touches[y.touches.length-1];if(!w&&(w=y.changedTouches[y.changedTouches.length-1],!w))return;const g=(d=this.canvas.element)===null||d===void 0?void 0:d.getBoundingClientRect(),m={x:w.clientX-((f=g==null?void 0:g.left)!==null&&f!==void 0?f:0),y:w.clientY-((p=g==null?void 0:g.top)!==null&&p!==void 0?p:0)};i(h,m,Math.max(w.radiusX,w.radiusY))}u=!1,c=!1}},l=()=>{!ge(this)||(u=!1,c=!1)};let u=!1,c=!1;n.addEventListener("click",r),n.addEventListener("touchstart",s),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addPath(e,n,i=!1){return!ge(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n!=null?n:zw),!0)}destroy(){if(!ge(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);ee(this,_e,"f").plugins.destroy(this),this.destroyed=!0;const e=ee(this,_e,"f").dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),ee(this,_e,"f").dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!ge(this))return;let n=e;this.drawAnimationFrame=jL()(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this.frameManager.nextFrame(i)})}exportConfiguration(){return JSON.stringify(this.actualOptions,void 0,2)}exportImage(e,n,i){var r;return(r=this.canvas.element)===null||r===void 0?void 0:r.toBlob(e,n!=null?n:"image/png",i)}exportImg(e){this.exportImage(e)}getAnimationStatus(){return!this.paused&&!this.pageHidden&&ge(this)}handleClickMode(e){if(!!ge(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!ge(this))return;const e=ee(this,_e,"f").plugins.getSupportedShapes();for(const i of e){const r=ee(this,_e,"f").plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}ui(this,Ln,Po(ee(this,_e,"f"),this,this._initialSourceOptions,this.sourceOptions),"f"),this.actualOptions=Po(ee(this,_e,"f"),this,ee(this,Ln,"f")),this.retina.init(),this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=M(this.actualOptions.duration),this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120;const n=ee(this,_e,"f").plugins.getAvailablePlugins(this);for(const[i,r]of n)this.plugins.set(i,r);for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init?i.init(this.actualOptions):i.initAsync!==void 0&&await i.initAsync(this.actualOptions);ee(this,_e,"f").dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup!==void 0&&i.particlesSetup();ee(this,_e,"f").dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){!ge(this)||(this.currentTheme=e,await this.refresh())}pause(){if(!!ge(this)&&(this.drawAnimationFrame!==void 0&&($L()(this.drawAnimationFrame),delete this.drawAnimationFrame),!this.paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this.paused=!0),ee(this,_e,"f").dispatchEvent("containerPaused",{container:this})}}play(e){if(!ge(this))return;const n=this.paused||e;if(this.firstStart&&!this.actualOptions.autoPlay){this.firstStart=!1;return}if(this.paused&&(this.paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();ee(this,_e,"f").dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(!!ge(this))return this.stop(),this.start()}async reset(){if(!!ge(this))return ui(this,Ln,Po(ee(this,_e,"f"),this),"f"),this.refresh()}setNoise(e,n,i){!ge(this)||this.setPath(e,n,i)}setPath(e,n,i){if(!e||!ge(this))return;const r=Object.assign({},zw);if(typeof e=="function")r.generate=e,n&&(r.init=n),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(mV,r,!0)}async start(){if(!(this.started||!ge(this))){await this.init(),this.started=!0,ee(this,Uo,"f").addListeners(),this.interactivity.element instanceof HTMLElement&&ee(this,sr,"f")&&ee(this,sr,"f").observe(this.interactivity.element);for(const[,e]of this.plugins)e.startAsync!==void 0?await e.startAsync():e.start!==void 0&&e.start();ee(this,_e,"f").dispatchEvent("containerStarted",{container:this}),this.play()}}stop(){var e;if(!(!this.started||!ge(this))){this.firstStart=!0,this.started=!1,ee(this,Uo,"f").removeListeners(),this.pause(),this.particles.clear(),this.canvas.clear(),this.interactivity.element instanceof HTMLElement&&ee(this,sr,"f")&&ee(this,sr,"f").unobserve(this.interactivity.element);for(const[,n]of this.plugins)(e=n.stop)===null||e===void 0||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);ui(this,Fo,ee(this,Ln,"f"),"f"),ee(this,_e,"f").dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,ee(this,Ln,"f"));return this.actualOptions.setTheme(this.currentTheme),this.responsiveMaxWidth!=e?(this.responsiveMaxWidth=e,!0):!1}intersectionManager(e){if(!(!ge(this)||!this.actualOptions.pauseOnOutsideViewport))for(const n of e)n.target===this.interactivity.element&&(n.isIntersecting?this.play:this.pause)()}}_e=new WeakMap,Uo=new WeakMap,sr=new WeakMap,Ln=new WeakMap,Fo=new WeakMap;var yV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Nd=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},es;function vV(t){console.error(`tsParticles - Error ${t} while retrieving config file`)}async function wV(t,e){const n=t instanceof Array?Fe(t,e):t;if(!n)return;const i=await fetch(n);if(i.ok)return i.json();vV(i.status)}class _V{constructor(e){es.set(this,void 0),yV(this,es,e,"f")}load(e,n,i){const r={index:i,remote:!1};return typeof e=="string"?r.tagId=e:r.options=e,typeof n=="number"?r.index=n:r.options=n!=null?n:r.options,this.loadOptions(r)}async loadJSON(e,n,i){let r,s;return typeof n=="number"||n===void 0?r=e:(s=e,r=n),this.loadRemoteOptions({tagId:s,url:r,index:i,remote:!0})}async loadOptions(e){var n,i,r;const s=(n=e.tagId)!==null&&n!==void 0?n:`tsparticles${Math.floor(G()*1e4)}`,{index:o,url:a,remote:l}=e,u=l?await wV(a,o):e.options;let c=(i=e.element)!==null&&i!==void 0?i:document.getElementById(s);c||(c=document.createElement("div"),c.id=s,(r=document.querySelector("body"))===null||r===void 0||r.append(c));const h=u instanceof Array?Fe(u,o):u,d=Nd(this,es,"f").dom(),f=d.findIndex(w=>w.id===s);if(f>=0){const w=Nd(this,es,"f").domItem(f);w&&!w.destroyed&&(w.destroy(),d.splice(f,1))}let p;if(c.tagName.toLowerCase()==="canvas")p=c,p.dataset[ha]="false";else{const w=c.getElementsByTagName("canvas");w.length?(p=w[0],p.dataset[ha]="false"):(p=document.createElement("canvas"),p.dataset[ha]="true",c.appendChild(p))}p.style.width||(p.style.width="100%"),p.style.height||(p.style.height="100%");const y=new gV(Nd(this,es,"f"),s,h);return f>=0?d.splice(f,0,y):d.push(y),y.canvas.loadCanvas(p),await y.start(),y}async loadRemoteOptions(e){return this.loadOptions(e)}async set(e,n,i,r){const s={index:r,remote:!1};return typeof e=="string"?s.tagId=e:s.element=e,n instanceof HTMLElement?s.element=n:s.options=n,typeof i=="number"?s.index=i:s.options=i!=null?i:s.options,this.loadOptions(s)}async setJSON(e,n,i,r){let s,o,a,l;return e instanceof HTMLElement?(l=e,s=n,a=i):(o=e,l=n,s=i,a=r),this.loadRemoteOptions({tagId:o,url:s,index:a,element:l,remote:!0})}}es=new WeakMap;var SV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},gp;class bV{constructor(e){gp.set(this,void 0),SV(this,gp,e,"f"),this.plugins=[],this.interactorsInitializers=new Map,this.moversInitializers=new Map,this.updatersInitializers=new Map,this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this.interactorsInitializers.set(e,n)}addParticleMover(e,n){this.moversInitializers.set(e,n)}addParticleUpdater(e,n){this.updatersInitializers.set(e,n)}addPathGenerator(e,n){this.getPathGenerator(e)||this.pathGenerators.set(e,n)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){this.getShapeDrawer(e)||this.drawers.set(e,n)}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)!i.needsPlugin(e.actualOptions)||n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){let i=this.interactors.get(e);return(!i||n)&&(i=[...this.interactorsInitializers.values()].map(r=>r(e)),this.interactors.set(e,i)),i}getMovers(e,n=!1){let i=this.movers.get(e);return(!i||n)&&(i=[...this.moversInitializers.values()].map(r=>r(e)),this.movers.set(e,i)),i}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){let i=this.updaters.get(e);return(!i||n)&&(i=[...this.updatersInitializers.values()].map(r=>r(e)),this.updaters.set(e,i)),i}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);if(!!r)for(const s of r)s.loadOptions&&s.loadOptions(n,...i)}}gp=new WeakMap;var To=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},vn=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Pu,ts,Bo,hi;class EV{constructor(){Pu.set(this,void 0),ts.set(this,void 0),Bo.set(this,void 0),hi.set(this,void 0),To(this,Pu,[],"f"),To(this,ts,new VL,"f"),To(this,Bo,!1,"f"),To(this,hi,new _V(this),"f"),this.plugins=new bV(this)}addEventListener(e,n){vn(this,ts,"f").addEventListener(e,n)}async addInteractor(e,n){this.plugins.addInteractor(e,n),await this.refresh()}async addMover(e,n){this.plugins.addParticleMover(e,n),await this.refresh()}async addParticleUpdater(e,n){this.plugins.addParticleUpdater(e,n),await this.refresh()}async addPathGenerator(e,n){this.plugins.addPathGenerator(e,n),await this.refresh()}async addPlugin(e){this.plugins.addPlugin(e),await this.refresh()}async addPreset(e,n,i=!1){this.plugins.addPreset(e,n,i),await this.refresh()}async addShape(e,n,i,r,s){let o;typeof n=="function"?o={afterEffect:r,destroy:s,draw:n,init:i}:o=n,this.plugins.addShapeDrawer(e,o),await this.refresh()}dispatchEvent(e,n){vn(this,ts,"f").dispatchEvent(e,n)}dom(){return vn(this,Pu,"f")}domItem(e){const n=this.dom(),i=n[e];if(i&&!i.destroyed)return i;n.splice(e,1)}init(){vn(this,Bo,"f")||To(this,Bo,!0,"f")}async load(e,n){return vn(this,hi,"f").load(e,n)}async loadFromArray(e,n,i){return vn(this,hi,"f").load(e,n,i)}async loadJSON(e,n,i){return vn(this,hi,"f").loadJSON(e,n,i)}async refresh(){for(const e of this.dom())await e.refresh()}removeEventListener(e,n){vn(this,ts,"f").removeEventListener(e,n)}async set(e,n,i){return vn(this,hi,"f").set(e,n,i)}async setJSON(e,n,i,r){return vn(this,hi,"f").setJSON(e,n,i,r)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const i of n)i.addClickHandler(e)}}Pu=new WeakMap,ts=new WeakMap,Bo=new WeakMap,hi=new WeakMap;class PV{constructor(){this.stringPrefix="hsl"}handleColor(e){var n;const i=e.value,r=(n=i.hsl)!==null&&n!==void 0?n:e.value;if(r.h!==void 0&&r.l!==void 0)return qs(r)}handleRangeColor(e){var n;const i=e.value,r=(n=i.hsl)!==null&&n!==void 0?n:e.value;if(r.h!==void 0&&r.l!==void 0)return qs({h:M(r.h),l:M(r.l),s:M(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?KL({a:i.length>4?DP(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class TV{constructor(){this.stringPrefix="rgb"}handleColor(e){var n;const i=e.value,r=(n=i.rgb)!==null&&n!==void 0?n:e.value;if(r.r!==void 0)return r}handleRangeColor(e){var n;const i=e.value,r=(n=i.rgb)!==null&&n!==void 0?n:e.value;if(r.r!==void 0)return{r:M(r.r),g:M(r.g),b:M(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?DP(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}class Mn{constructor(e){this.container=e,this.type=0}}class Vg{constructor(e){this.container=e,this.type=1}}const CV=new TV,AV=new PV;GP("rgb",CV);GP("hsl",AV);const Tu=new EV;Tu.init();var kV=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const ZP="tsparticles";class Ah extends N.exports.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){!this.state.library||(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return!kV(e,this.props)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Tu),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:r,id:s}=this.props;return k("div",{className:i,id:s,children:k("canvas",{className:r,style:Object.assign(Object.assign({},this.props.style),{width:e,height:n})})})}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){var e,n,i;if(!this.state.init)return;const r=async a=>{this.props.container&&(this.props.container.current=a),this.setState({library:a}),this.props.loaded&&await this.props.loaded(a)},s=(n=(e=this.props.id)!==null&&e!==void 0?e:Ah.defaultProps.id)!==null&&n!==void 0?n:ZP,o=this.props.url?await Tu.loadJSON(s,this.props.url):await Tu.load(s,(i=this.props.params)!==null&&i!==void 0?i:this.props.options);await r(o)}}Ah.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:ZP};class IV{constructor(){this.radius=0,this.mass=0}load(e){!e||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class xV extends en{constructor(){super(),this.density=5,this.value=50,this.limit=new IV}load(e){!e||(super.load(e),e.density!==void 0&&(this.density=e.density),typeof e.limit=="number"?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Pn{constructor(){this.color=new oe,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new xV}load(e){e!==void 0&&(e.color!==void 0&&(this.color=oe.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=B(e.position.x)),e.position.y!==void 0&&(this.position.y=B(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}class RV{constructor(e,n,i,r){var s,o,a;this.absorbers=e,this.container=n,this.initialPosition=r?X.create(r.x,r.y):void 0,i instanceof Pn?this.options=i:(this.options=new Pn,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=M(this.options.size.value)*n.retina.pixelRatio,this.mass=this.size*this.options.size.density*n.retina.reduceFactor;const l=this.options.size.limit;this.limit={radius:l.radius*n.retina.pixelRatio*n.retina.reduceFactor,mass:l.mass},this.color=(s=kt(this.options.color))!==null&&s!==void 0?s:{b:0,g:0,r:0},this.position=(a=(o=this.initialPosition)===null||o===void 0?void 0:o.copy())!==null&&a!==void 0?a:this.calcPosition()}attract(e){const n=this.container,i=this.options;if(i.draggable){const u=n.interactivity.mouse;u.clicking&&u.downPosition?xe(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const r=e.getPosition(),{dx:s,dy:o,distance:a}=Ne(this.position,r),l=X.create(s,o);if(l.length=this.mass/Math.pow(a,2)*n.retina.reduceFactor,a<this.size+e.getRadius()){const u=e.getRadius()*.033*n.retina.pixelRatio;this.size>e.getRadius()&&a<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<0?i.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,l)):(i.destroy&&(e.size.value-=u),this.updateParticlePosition(e,l)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*n.retina.reduceFactor)}else this.updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,Math.PI*2,!1),e.closePath(),e.fillStyle=Yt(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&bl(e,this.container.canvas.size,X.origin)?e:this.calcPosition()}calcPosition(){const e=MP({size:this.container.canvas.size,position:this.options.position});return X.create(e.x,e.y)}updateParticlePosition(e,n){var i;if(e.destroyed)return;const r=this.container,s=r.canvas.size;if(e.needsNewPosition){const o=OP({size:s});e.position.setTo(o),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(e.absorberOrbit===void 0&&(e.absorberOrbit=X.create(0,0),e.absorberOrbit.length=xe(e.getPosition(),this.position),e.absorberOrbit.angle=G()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const c=Math.min(s.width,s.height);e.absorberOrbit.length=c*(1+(G()*.2-.1))}e.absorberOrbitDirection===void 0&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const o=e.absorberOrbit.length,a=e.absorberOrbit.angle,l=e.absorberOrbitDirection;e.velocity.setTo(X.origin);const u={x:l==="clockwise"?Math.cos:Math.sin,y:l==="clockwise"?Math.sin:Math.cos};e.position.x=this.position.x+o*u.x(a),e.position.y=this.position.y+o*u.y(a),e.absorberOrbit.length-=n.length,e.absorberOrbit.angle+=((i=e.retina.moveSpeed)!==null&&i!==void 0?i:0)*r.retina.pixelRatio/100*r.retina.reduceFactor}else{const o=X.origin;o.length=n.length,o.angle=n.angle,e.velocity.addTo(o)}}}class OV{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=n=>n===void 0||typeof n=="number"?this.array[n||0]:this.array.find(i=>i.name===n),e.addAbsorber=(n,i)=>this.addAbsorber(n,i)}addAbsorber(e,n){const i=new RV(this,this.container,e,n);return this.array.push(i),i}draw(e){for(const n of this.array)e.save(),n.draw(e),e.restore()}handleClickMode(e){const n=this.absorbers,i=this.interactivityAbsorbers;if(e==="absorber"){let r;i instanceof Array?i.length>0&&(r=Fe(i)):r=i;const s=r!=null?r:n instanceof Array?Fe(n):n,o=this.container.interactivity.mouse.clickPosition;this.addAbsorber(s,o)}}init(e){var n,i;if(!e)return;e.absorbers&&(e.absorbers instanceof Array?this.absorbers=e.absorbers.map(s=>{const o=new Pn;return o.load(s),o}):(this.absorbers instanceof Array&&(this.absorbers=new Pn),this.absorbers.load(e.absorbers)));const r=(i=(n=e.interactivity)===null||n===void 0?void 0:n.modes)===null||i===void 0?void 0:i.absorbers;if(r&&(r instanceof Array?this.interactivityAbsorbers=r.map(s=>{const o=new Pn;return o.load(s),o}):(this.interactivityAbsorbers instanceof Array&&(this.interactivityAbsorbers=new Pn),this.interactivityAbsorbers.load(r))),this.absorbers instanceof Array)for(const s of this.absorbers)this.addAbsorber(s);else this.addAbsorber(this.absorbers)}particleUpdate(e){for(const n of this.array)if(n.attract(e),e.destroyed)break}removeAbsorber(e){const n=this.array.indexOf(e);n>=0&&this.array.splice(n,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class MV{constructor(){this.id="absorbers"}getPlugin(e){return new OV(e)}loadOptions(e,n){var i,r;if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;const s=e;if(n!=null&&n.absorbers)if((n==null?void 0:n.absorbers)instanceof Array)s.absorbers=n==null?void 0:n.absorbers.map(a=>{const l=new Pn;return l.load(a),l});else{let a=s.absorbers;(a==null?void 0:a.load)===void 0&&(s.absorbers=a=new Pn),a.load(n==null?void 0:n.absorbers)}const o=(r=(i=n==null?void 0:n.interactivity)===null||i===void 0?void 0:i.modes)===null||r===void 0?void 0:r.absorbers;if(o)if(o instanceof Array)s.interactivity.modes.absorbers=o.map(a=>{const l=new Pn;return l.load(a),l});else{let a=s.interactivity.modes.absorbers;(a==null?void 0:a.load)===void 0&&(s.interactivity.modes.absorbers=a=new Pn),a.load(o)}}needsPlugin(e){var n,i,r;if(!e)return!1;const s=e.absorbers;return s instanceof Array?!!s.length:s?!0:!!(((r=(i=(n=e.interactivity)===null||n===void 0?void 0:n.events)===null||i===void 0?void 0:i.onClick)===null||r===void 0?void 0:r.mode)&&ie("absorber",e.interactivity.events.onClick.mode))}}async function DV(t){const e=new MV;await t.addPlugin(e)}class LV{randomPosition(e,n,i){const r=(h,d)=>{const f=G()/4,p=Math.atan(d/h*Math.tan(2*Math.PI*f)),y=G();return y<.25?p:y<.5?Math.PI-p:y<.75?Math.PI+p:-p},s=(h,d,f)=>h*d/Math.sqrt((d*Math.cos(f))**2+(h*Math.sin(f))**2),[o,a]=[n.width/2,n.height/2],l=r(o,a),u=s(o,a,l),c=i?u*Math.sqrt(G()):u;return{x:e.x+c*Math.cos(l),y:e.y+c*Math.sin(l)}}}class NV{constructor(){this.wait=!1}load(e){e!==void 0&&(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=e.delay),e.duration!==void 0&&(this.duration=e.duration),e.wait!==void 0&&(this.wait=e.wait))}}class VV{constructor(){this.quantity=1,this.delay=.1}load(e){e!==void 0&&(e.quantity!==void 0&&(this.quantity=B(e.quantity)),e.delay!==void 0&&(this.delay=B(e.delay)))}}class e1{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){e!==void 0&&(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class ht{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new NV,this.rate=new VV,this.shape="square",this.startCount=0}load(e){e!==void 0&&(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size===void 0&&(this.size=new e1),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,e.particles!==void 0&&(e.particles instanceof Array?this.particles=e.particles.map(n=>re({},n)):this.particles=re({},e.particles)),this.rate.load(e.rate),e.shape!==void 0&&(this.shape=e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=B(e.position.x)),e.position.y!==void 0&&(this.position.y=B(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Ks),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var Co=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Yi=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},or,ns,jo;class zV{constructor(e,n,i,r,s){var o,a,l,u,c,h,d,f;this.emitters=n,this.container=i,or.set(this,void 0),ns.set(this,void 0),jo.set(this,void 0),Co(this,or,e,"f"),this.currentDuration=0,this.currentEmitDelay=0,this.currentSpawnDelay=0,this.initialPosition=s,r instanceof ht?this.options=r:(this.options=new ht,this.options.load(r)),this.spawnDelay=((o=this.options.life.delay)!==null&&o!==void 0?o:0)*1e3/this.container.retina.reduceFactor,this.position=(a=this.initialPosition)!==null&&a!==void 0?a:this.calcPosition(),this.name=this.options.name,this.shape=(l=Yi(this,or,"f").emitterShapeManager)===null||l===void 0?void 0:l.getShape(this.options.shape),this.fill=this.options.fill,Co(this,ns,!this.options.life.wait,"f"),Co(this,jo,!1,"f");let p=re({},this.options.particles);p!=null||(p={}),(u=p.move)!==null&&u!==void 0||(p.move={}),(c=(f=p.move).direction)!==null&&c!==void 0||(f.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Ui(this.options.spawnColor)),this.paused=!this.options.autoPlay,this.particlesOptions=p,this.size=(h=this.options.size)!==null&&h!==void 0?h:(()=>{const y=new e1;return y.load({height:0,mode:"percent",width:0}),y})(),this.lifeCount=(d=this.options.life.count)!==null&&d!==void 0?d:-1,this.immortal=this.lifeCount<=0,Yi(this,or,"f").dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this.paused=!0,this.pause()}externalPlay(){this.paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,n=document.getElementById(this.options.domId);if(n){const i=n.getBoundingClientRect();return{x:(i.x+i.width/2)*e.retina.pixelRatio,y:(i.y+i.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const n=document.getElementById(this.options.domId);if(n){const i=n.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio}}}return{width:this.size.mode==="percent"?e.canvas.size.width*this.size.width/100:this.size.width,height:this.size.mode==="percent"?e.canvas.size.height*this.size.height/100:this.size.height}}pause(){this.paused||delete this.emitDelay}play(){var e;if(!this.paused&&!!(this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal||!this.options.life.count)&&(Yi(this,ns,"f")||this.currentSpawnDelay>=((e=this.spawnDelay)!==null&&e!==void 0?e:0)))){if(this.emitDelay===void 0){const n=M(this.options.rate.delay);this.emitDelay=1e3*n/this.container.retina.reduceFactor}(this.lifeCount>0||this.immortal)&&this.prepareToDie()}}resize(){const e=this.initialPosition;this.position=e&&bl(e,this.container.canvas.size,X.origin)?e:this.calcPosition()}update(e){var n,i,r;this.paused||(Yi(this,ns,"f")&&(Co(this,ns,!1,"f"),this.currentSpawnDelay=(n=this.spawnDelay)!==null&&n!==void 0?n:0,this.currentEmitDelay=(i=this.emitDelay)!==null&&i!==void 0?i:0),Yi(this,jo,"f")||(Co(this,jo,!0,"f"),this.emitParticles(this.options.startCount)),this.duration!==void 0&&(this.currentDuration+=e.value,this.currentDuration>=this.duration&&(this.pause(),this.spawnDelay!==void 0&&delete this.spawnDelay,this.immortal||this.lifeCount--,this.lifeCount>0||this.immortal?(this.position=this.calcPosition(),this.spawnDelay=((r=this.options.life.delay)!==null&&r!==void 0?r:0)*1e3/this.container.retina.reduceFactor):this.destroy(),this.currentDuration-=this.duration,delete this.duration)),this.spawnDelay!==void 0&&(this.currentSpawnDelay+=e.value,this.currentSpawnDelay>=this.spawnDelay&&(Yi(this,or,"f").dispatchEvent("emitterPlay",{container:this.container}),this.play(),this.currentSpawnDelay-=this.currentSpawnDelay,delete this.spawnDelay)),this.emitDelay!==void 0&&(this.currentEmitDelay+=e.value,this.currentEmitDelay>=this.emitDelay&&(this.emit(),this.currentEmitDelay-=this.emitDelay)))}calcPosition(){return MP({size:this.container.canvas.size,position:this.options.position})}destroy(){this.emitters.removeEmitter(this),Yi(this,or,"f").dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}emit(){if(this.paused)return;const e=M(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var n,i,r;const s=this.getPosition(),o=this.getSize(),a=this.particlesOptions instanceof Array?Fe(this.particlesOptions):this.particlesOptions;for(let l=0;l<e;l++){const u=re({},a);if(this.spawnColor){const h=(n=this.options.spawnColor)===null||n===void 0?void 0:n.animation;h&&(this.spawnColor.h=this.setColorAnimation(h.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(h.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(h.l,this.spawnColor.l,100)),u.color?u.color.value=this.spawnColor:u.color={value:this.spawnColor}}if(!s)return;const c=(r=(i=this.shape)===null||i===void 0?void 0:i.randomPosition(s,o,this.fill))!==null&&r!==void 0?r:s;this.container.particles.addParticle(c,u)}}prepareToDie(){var e;if(this.paused)return;const n=(e=this.options.life)===null||e===void 0?void 0:e.duration;this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal)&&n!==void 0&&n>0&&(this.duration=n*1e3)}setColorAnimation(e,n,i){var r;const s=this.container;if(!e.enable)return n;const o=De(e.offset),a=M(this.options.rate.delay),l=1e3*a/s.retina.reduceFactor,u=M((r=e.speed)!==null&&r!==void 0?r:0);return(n+u*s.fpsLimit/l+o*3.6)%i}}or=new WeakMap,ns=new WeakMap,jo=new WeakMap;var GV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},UV=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Cu;class FV{constructor(e,n){this.container=n,Cu.set(this,void 0),GV(this,Cu,e,"f"),this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},n.getEmitter=i=>i===void 0||typeof i=="number"?this.array[i||0]:this.array.find(r=>r.name===i),n.addEmitter=(i,r)=>this.addEmitter(i,r),n.removeEmitter=i=>{const r=n.getEmitter(i);r&&this.removeEmitter(r)},n.playEmitter=i=>{const r=n.getEmitter(i);r&&r.externalPlay()},n.pauseEmitter=i=>{const r=n.getEmitter(i);r&&r.externalPause()}}addEmitter(e,n){const i=new ht;i.load(e);const r=new zV(UV(this,Cu,"f"),this,this.container,i,n);return this.array.push(r),r}handleClickMode(e){const n=this.emitters,i=this.interactivityEmitters;if(e==="emitter"){let r;if(i&&i.value instanceof Array)if(i.value.length>0&&i.random.enable){r=[];const a=[];for(let l=0;l<i.random.count;l++){const u=LP(i.value);if(a.includes(u)&&a.length<i.value.length){l--;continue}a.push(u),r.push(Fe(i.value,u))}}else r=i.value;else r=i==null?void 0:i.value;const s=r!=null?r:n,o=this.container.interactivity.mouse.clickPosition;if(s instanceof Array)for(const a of s)this.addEmitter(a,o);else this.addEmitter(re({},s),o)}}init(e){var n,i,r,s,o,a,l,u;if(!e)return;e.emitters&&(e.emitters instanceof Array?this.emitters=e.emitters.map(h=>{const d=new ht;return d.load(h),d}):(this.emitters instanceof Array&&(this.emitters=new ht),this.emitters.load(e.emitters)));const c=(i=(n=e.interactivity)===null||n===void 0?void 0:n.modes)===null||i===void 0?void 0:i.emitters;if(c)if(c instanceof Array)this.interactivityEmitters={random:{count:1,enable:!0},value:c.map(h=>{const d=new ht;return d.load(h),d})};else{const h=c;if(h.value!==void 0)if(h.value instanceof Array)this.interactivityEmitters={random:{count:(r=this.interactivityEmitters.random.count)!==null&&r!==void 0?r:1,enable:(s=this.interactivityEmitters.random.enable)!==null&&s!==void 0?s:!1},value:h.value.map(d=>{const f=new ht;return f.load(d),f})};else{const d=new ht;d.load(h.value),this.interactivityEmitters={random:{count:(o=this.interactivityEmitters.random.count)!==null&&o!==void 0?o:1,enable:(a=this.interactivityEmitters.random.enable)!==null&&a!==void 0?a:!1},value:d}}else{const d=new ht;d.load(c),this.interactivityEmitters={random:{count:(l=this.interactivityEmitters.random.count)!==null&&l!==void 0?l:1,enable:(u=this.interactivityEmitters.random.enable)!==null&&u!==void 0?u:!1},value:d}}}if(this.emitters instanceof Array)for(const h of this.emitters)this.addEmitter(h);else this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const n=this.array.indexOf(e);n>=0&&this.array.splice(n,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const n of this.array)n.update(e)}}Cu=new WeakMap;var BV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},yp;const Vd=new Map;class jV{constructor(e){yp.set(this,void 0),BV(this,yp,e,"f")}addShape(e,n){this.getShape(e)||Vd.set(e,n)}getShape(e){return Vd.get(e)}getSupportedShapes(){return Vd.keys()}}yp=new WeakMap;function Gw(t,e){return t+e*(G()-.5)}class $V{randomPosition(e,n,i){if(i)return{x:Gw(e.x,n.width),y:Gw(e.y,n.height)};{const r=n.width/2,s=n.height/2,o=Math.floor(G()*4),a=(G()-.5)*2;switch(o){case 0:return{x:e.x+a*r,y:e.y-s};case 1:return{x:e.x-r,y:e.y+a*s};case 2:return{x:e.x+a*r,y:e.y+s};case 3:default:return{x:e.x+r,y:e.y+a*s}}}}}var HV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},WV=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Au;class qV{constructor(e){Au.set(this,void 0),HV(this,Au,e,"f"),this.id="emitters"}getPlugin(e){return new FV(WV(this,Au,"f"),e)}loadOptions(e,n){var i,r,s,o,a,l;if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;const u=e;if(n!=null&&n.emitters)if((n==null?void 0:n.emitters)instanceof Array)u.emitters=n==null?void 0:n.emitters.map(h=>{const d=new ht;return d.load(h),d});else{let h=u.emitters;(h==null?void 0:h.load)===void 0&&(u.emitters=h=new ht),h.load(n==null?void 0:n.emitters)}const c=(r=(i=n==null?void 0:n.interactivity)===null||i===void 0?void 0:i.modes)===null||r===void 0?void 0:r.emitters;if(c)if(c instanceof Array)u.interactivity.modes.emitters={random:{count:1,enable:!0},value:c.map(h=>{const d=new ht;return d.load(h),d})};else{const h=c;if(h.value!==void 0)if(h.value instanceof Array)u.interactivity.modes.emitters={random:{count:(s=h.random.count)!==null&&s!==void 0?s:1,enable:(o=h.random.enable)!==null&&o!==void 0?o:!1},value:h.value.map(d=>{const f=new ht;return f.load(d),f})};else{const d=new ht;d.load(h.value),u.interactivity.modes.emitters={random:{count:(a=h.random.count)!==null&&a!==void 0?a:1,enable:(l=h.random.enable)!==null&&l!==void 0?l:!1},value:d}}else(u.interactivity.modes.emitters={random:{count:1,enable:!1},value:new ht}).value.load(c)}}needsPlugin(e){var n,i,r;if(!e)return!1;const s=e.emitters;return s instanceof Array&&!!s.length||s!==void 0||!!(!((r=(i=(n=e.interactivity)===null||n===void 0?void 0:n.events)===null||i===void 0?void 0:i.onClick)===null||r===void 0)&&r.mode)&&ie("emitter",e.interactivity.events.onClick.mode)}}Au=new WeakMap;async function QV(t){t.emitterShapeManager||(t.emitterShapeManager=new jV(t)),t.addEmitterShape||(t.addEmitterShape=(n,i)=>{var r;(r=t.emitterShapeManager)===null||r===void 0||r.addShape(n,i)});const e=new qV(t);await t.addPlugin(e),t.addEmitterShape("circle",new LV),t.addEmitterShape("square",new $V)}class KV{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){!e||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=re({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}var YV=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},XV=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},ku;class JV extends Mn{constructor(e){super(e),ku.set(this,void 0),YV(this,ku,e,"f"),this.delay=0}clear(){}init(){}async interact(e){var n,i,r,s;if(!this.container.retina.reduceFactor)return;const o=XV(this,ku,"f"),a=o.actualOptions,l=a.interactivity.modes.trail;if(!l)return;const u=l.delay*1e3/this.container.retina.reduceFactor;if(this.delay<u&&(this.delay+=e.value),this.delay<u)return;let c=!0;l.pauseOnStop&&(o.interactivity.mouse.position===this.lastPosition||((n=o.interactivity.mouse.position)===null||n===void 0?void 0:n.x)===((i=this.lastPosition)===null||i===void 0?void 0:i.x)&&((r=o.interactivity.mouse.position)===null||r===void 0?void 0:r.y)===((s=this.lastPosition)===null||s===void 0?void 0:s.y))&&(c=!1),o.interactivity.mouse.position?this.lastPosition={x:o.interactivity.mouse.position.x,y:o.interactivity.mouse.position.y}:delete this.lastPosition,c&&o.particles.push(l.quantity,o.interactivity.mouse,l.particles),this.delay-=u}isEnabled(e){var n;const i=this.container,r=i.actualOptions,s=i.interactivity.mouse,o=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:r.interactivity).events;return s.clicking&&s.inside&&!!s.position&&ie("trail",o.onClick.mode)||s.inside&&!!s.position&&ie("trail",o.onHover.mode)}loadModeOptions(e,...n){e.trail||(e.trail=new KV);for(const i of n)e.trail.load(i==null?void 0:i.trail)}reset(){}}ku=new WeakMap;async function ZV(t){await t.addInteractor("externalTrail",e=>new JV(e))}(function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,s){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,r,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,s,o){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,s,o){return new window.SVGPathSegArcRel(void 0,t,e,n,i,r,s,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===void 0||!isFinite(t))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(!this._pathElement)return;let e=!1;t.forEach(function(n){n.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);const e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){let e="",n=!0;return t.forEach(function(i){n?(n=!1,e+=i._asPathString()):e+=" "+i._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||t.length==0)return[];const e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(o){this.pathSegList.push(o)};const i=function(o){this._string=o,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){const o=this._string[this._currentIndex];return o<=" "&&(o==" "||o==`
`||o=="	"||o=="\r"||o=="\f")},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){const o=this._string[this._currentIndex];return this._pathSegTypeFromChar(o)},i.prototype._pathSegTypeFromChar=function(o){switch(o){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(o,a){return(o=="+"||o=="-"||o=="."||o>="0"&&o<="9")&&a!=window.SVGPathSeg.PATHSEG_CLOSEPATH?a==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:a==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:a:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const o=this.peekSegmentType();return o==window.SVGPathSeg.PATHSEG_MOVETO_ABS||o==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){let o=0,a=0,l=1,u=0,c=1,h=1;const d=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,c=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const f=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=f){let y=this._currentIndex-1,w=1;for(;y>=f;)a+=w*(this._string.charAt(y--)-"0"),w*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)l*=10,u+=(this._string.charAt(this._currentIndex)-"0")/l,this._currentIndex+=1}if(this._currentIndex!=d&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,h=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)o*=10,o+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let p=a+u;if(p*=c,o&&(p*=Math.pow(10,h*o)),d!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),p},i.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let o=!1;const a=this._string.charAt(this._currentIndex++);if(a=="0")o=!1;else if(a=="1")o=!0;else return;return this._skipOptionalSpacesOrDelimiter(),o},i.prototype.parseSegment=function(){const o=this._string[this._currentIndex];let a=this._pathSegTypeFromChar(o);if(a==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(a=this._nextCommandHelper(o,this._previousCommand),a==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=a;let l;switch(a){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);default:throw"Unknown path seg type."}};const r=new n,s=new i(t);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){const o=s.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList})}catch(t){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/matteobruni/tsparticles",t)}})();class e2{constructor(){this.color=new oe,this.width=.5,this.opacity=1}load(e){var n;!e||(this.color=oe.create(this.color,e.color),typeof this.color.value=="string"&&(this.opacity=(n=qL(this.color.value))!==null&&n!==void 0?n:this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class t2{constructor(){this.enable=!1,this.stroke=new e2}get lineColor(){return this.stroke.color}set lineColor(e){this.stroke.color=oe.create(this.stroke.color,e)}get lineWidth(){return this.stroke.width}set lineWidth(e){this.stroke.width=e}load(e){var n;if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const i=(n=e.stroke)!==null&&n!==void 0?n:{color:e.lineColor,width:e.lineWidth};this.stroke.load(i)}}class n2{constructor(){this.arrangement="one-per-point"}load(e){!e||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class i2{constructor(){this.path=[],this.size={height:0,width:0}}load(e){!e||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}class r2{constructor(){this.radius=10,this.type="path"}load(e){!e||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}class t1{constructor(){this.draw=new t2,this.enable=!1,this.inline=new n2,this.move=new r2,this.scale=1,this.type="none"}get inlineArrangement(){return this.inline.arrangement}set inlineArrangement(e){this.inline.arrangement=e}load(e){!e||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!=="none",e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(typeof e.data=="string"?this.data=e.data:(this.data=new i2,this.data.load(e.data))),e.position!==void 0&&(this.position=re({},e.position)))}}function s2(t,e,n){const i=kt(n.color);if(!!i){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(const r of e)t.lineTo(r.x,r.y);t.closePath(),t.strokeStyle=Yt(i),t.lineWidth=n.width,t.stroke()}}function o2(t,e,n,i){t.translate(i.x,i.y);const r=kt(n.color);!r||(t.strokeStyle=Yt(r,n.opacity),t.lineWidth=n.width,t.stroke(e))}function a2(t,e,n){var i;const r=[];for(const s of t){const o=s.element.pathSegList,a=(i=o==null?void 0:o.numberOfItems)!==null&&i!==void 0?i:0,l={x:0,y:0};for(let u=0;u<a;u++){const c=o==null?void 0:o.getItem(u),h=window.SVGPathSeg;switch(c==null?void 0:c.pathSegType){case h.PATHSEG_MOVETO_ABS:case h.PATHSEG_LINETO_ABS:case h.PATHSEG_CURVETO_CUBIC_ABS:case h.PATHSEG_CURVETO_QUADRATIC_ABS:case h.PATHSEG_ARC_ABS:case h.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case h.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const d=c;l.x=d.x,l.y=d.y;break}case h.PATHSEG_LINETO_HORIZONTAL_ABS:l.x=c.x;break;case h.PATHSEG_LINETO_VERTICAL_ABS:l.y=c.y;break;case h.PATHSEG_LINETO_REL:case h.PATHSEG_MOVETO_REL:case h.PATHSEG_CURVETO_CUBIC_REL:case h.PATHSEG_CURVETO_QUADRATIC_REL:case h.PATHSEG_ARC_REL:case h.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case h.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const d=c;l.x+=d.x,l.y+=d.y;break}case h.PATHSEG_LINETO_HORIZONTAL_REL:l.x+=c.x;break;case h.PATHSEG_LINETO_VERTICAL_REL:l.y+=c.y;break;case h.PATHSEG_UNKNOWN:case h.PATHSEG_CLOSEPATH:continue}r.push({x:l.x*e+n.x,y:l.y*e+n.y})}}return r}function l2(t,e,n){const{dx:i,dy:r}=Ne(n,t),{dx:s,dy:o}=Ne(e,t),a=(i*s+r*o)/(s**2+o**2),l={x:t.x+s*a,y:t.x+o*a,isOnSegment:a>=0&&a<=1};return a<0?(l.x=t.x,l.y=t.y):a>1&&(l.x=e.x,l.y=e.y),l}function u2(t,e,n){const{dx:i,dy:r}=Ne(t,e),s=Math.atan2(r,i),o=X.create(Math.sin(s),-Math.cos(s)),a=2*(n.x*o.x+n.y*o.y);o.multTo(a),n.subFrom(o)}var c2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},h2=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Iu;class d2{constructor(e,n){this.container=e,Iu.set(this,void 0),c2(this,Iu,n,"f"),this.dimension={height:0,width:0},this.path2DSupported=!!window.Path2D,this.options=new t1,this.polygonMaskMoveRadius=this.options.move.radius*e.retina.pixelRatio}clickPositionValid(e){const n=this.options;return n.enable&&n.type!=="none"&&n.type!=="inline"&&this.checkInsidePolygon(e)}draw(e){var n;if(!(!((n=this.paths)===null||n===void 0)&&n.length))return;const i=this.options,r=i.draw;if(!i.enable||!r.enable)return;const s=this.raw;for(const o of this.paths){const a=o.path2d,l=this.path2DSupported;!e||(l&&a&&this.offset?o2(e,a,r.stroke,this.offset):s&&s2(e,s,r.stroke))}}async initAsync(e){this.options.load(e==null?void 0:e.polygon);const n=this.options;this.polygonMaskMoveRadius=n.move.radius*this.container.retina.pixelRatio,n.enable&&await this.initRawData()}particleBounce(e,n,i){return this.polygonBounce(e,n,i)}particlePosition(e){var n,i;if(!!(this.options.enable&&((i=(n=this.raw)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0)>0))return re({},e||this.randomPoint())}particlesInitialization(){const e=this.options;return e.enable&&e.type==="inline"&&(e.inline.arrangement==="one-per-point"||e.inline.arrangement==="per-point")?(this.drawPoints(),!0):!1}resize(){const e=this.container,n=this.options;!(n.enable&&n.type!=="none")||(this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=window.setTimeout(async()=>{await this.initRawData(!0),await e.particles.redraw()},250))}stop(){delete this.raw,delete this.paths}checkInsidePolygon(e){var n,i;const r=this.container,s=this.options;if(!s.enable||s.type==="none"||s.type==="inline")return!0;if(!this.raw)throw new Error(dN);const o=r.canvas.size,a=(n=e==null?void 0:e.x)!==null&&n!==void 0?n:G()*o.width,l=(i=e==null?void 0:e.y)!==null&&i!==void 0?i:G()*o.height;let u=!1;for(let c=0,h=this.raw.length-1;c<this.raw.length;h=c++){const d=this.raw[c],f=this.raw[h];d.y>l!=f.y>l&&a<(f.x-d.x)*(l-d.y)/(f.y-d.y)+d.x&&(u=!u)}return s.type==="inside"?u:s.type==="outside"?!u:!1}createPath2D(){var e,n;const i=this.options;if(!(!this.path2DSupported||!(!((e=this.paths)===null||e===void 0)&&e.length)))for(const r of this.paths){const s=(n=r.element)===null||n===void 0?void 0:n.getAttribute("d");if(s){const o=new Path2D(s),a=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),l=new Path2D,u=a.scale(i.scale);l.addPath?(l.addPath(o,u),r.path2d=l):delete r.path2d}else delete r.path2d;r.path2d||!this.raw||(r.path2d=new Path2D,r.path2d.moveTo(this.raw[0].x,this.raw[0].y),this.raw.forEach((o,a)=>{var l;a>0&&((l=r.path2d)===null||l===void 0||l.lineTo(o.x,o.y))}),r.path2d.closePath())}}async downloadSvgPath(e,n){const i=this.options,r=e||i.url,s=n!=null?n:!1;if(!r||this.paths!==void 0&&!s)return this.raw;const o=await fetch(r);if(!o.ok)throw new Error("tsParticles Error - Error occurred during polygon mask download");return this.parseSvgPath(await o.text(),n)}drawPoints(){if(!!this.raw)for(const e of this.raw)this.container.particles.addParticle({x:e.x,y:e.y})}getEquidistantPointByIndex(e){var n,i,r,s,o,a,l;const u=this.container.actualOptions,c=this.options;if(!this.raw||!this.raw.length||!(!((n=this.paths)===null||n===void 0)&&n.length))throw new Error(Jl);let h=0,d;const f=this.paths.reduce((y,w)=>y+w.length,0),p=f/u.particles.number.value;for(const y of this.paths){const w=p*e-h;if(w<=y.length){d=y.element.getPointAtLength(w);break}else h+=y.length}return{x:((i=d==null?void 0:d.x)!==null&&i!==void 0?i:0)*c.scale+((s=(r=this.offset)===null||r===void 0?void 0:r.x)!==null&&s!==void 0?s:0),y:((o=d==null?void 0:d.y)!==null&&o!==void 0?o:0)*c.scale+((l=(a=this.offset)===null||a===void 0?void 0:a.y)!==null&&l!==void 0?l:0)}}getPointByIndex(e){if(!this.raw||!this.raw.length)throw new Error(Jl);const n=this.raw[e%this.raw.length];return{x:n.x,y:n.y}}getRandomPoint(){if(!this.raw||!this.raw.length)throw new Error(Jl);const e=Fe(this.raw);return{x:e.x,y:e.y}}getRandomPointByLength(){var e,n,i;const r=this.options;if(!this.raw||!this.raw.length||!(!((e=this.paths)===null||e===void 0)&&e.length))throw new Error(Jl);const s=Fe(this.paths),o=Math.floor(G()*s.length)+1,a=s.element.getPointAtLength(o);return{x:a.x*r.scale+(((n=this.offset)===null||n===void 0?void 0:n.x)||0),y:a.y*r.scale+(((i=this.offset)===null||i===void 0?void 0:i.y)||0)}}async initRawData(e){const n=this.options;if(n.url)this.raw=await this.downloadSvgPath(n.url,e);else if(n.data){const i=n.data;let r;if(typeof i!="string"){const s=i.path instanceof Array?i.path.map(a=>`<path d="${a}" />`).join(""):`<path d="${i.path}" />`;r=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${i.size.width}" height="${i.size.height}">${s}</svg>`}else r=i;this.raw=this.parseSvgPath(r,e)}this.createPath2D(),h2(this,Iu,"f").dispatchEvent("polygonMaskLoaded",{container:this.container})}parseSvgPath(e,n){var i,r,s;const o=n!=null?n:!1;if(this.paths!==void 0&&!o)return this.raw;const a=this.container,l=this.options,u=new DOMParser,c=u.parseFromString(e,"image/svg+xml"),h=c.getElementsByTagName("svg")[0];let d=h.getElementsByTagName("path");d.length||(d=c.getElementsByTagName("path")),this.paths=[];for(let w=0;w<d.length;w++){const g=d.item(w);g&&this.paths.push({element:g,length:g.getTotalLength()})}const f=a.retina.pixelRatio,p=l.scale/f;this.dimension.width=parseFloat((i=h.getAttribute("width"))!==null&&i!==void 0?i:"0")*p,this.dimension.height=parseFloat((r=h.getAttribute("height"))!==null&&r!==void 0?r:"0")*p;const y=(s=l.position)!==null&&s!==void 0?s:{x:50,y:50};return this.offset={x:a.canvas.size.width*y.x/(100*f)-this.dimension.width/2,y:a.canvas.size.height*y.y/(100*f)-this.dimension.height/2},a2(this.paths,p,this.offset)}polygonBounce(e,n,i){const r=this.options;if(!this.raw||!r.enable||i!=="top")return!1;if(r.type==="inside"||r.type==="outside"){let s,o,a;const l=e.getPosition(),u=e.getRadius();for(let c=0,h=this.raw.length-1;c<this.raw.length;h=c++){const d=this.raw[c],f=this.raw[h];s=l2(d,f,l);const p=Ne(l,s);if([o,a]=[p.dx,p.dy],p.distance<u)return u2(d,f,e.velocity),!0}if(s&&o!==void 0&&a!==void 0&&!this.checkInsidePolygon(l)){const c={x:1,y:1};return e.position.x>=s.x&&(c.x=-1),e.position.y>=s.y&&(c.y=-1),e.position.x=s.x+u*2*c.x,e.position.y=s.y+u*2*c.y,e.velocity.mult(-1),!0}}else if(r.type==="inline"&&e.initialPosition&&xe(e.initialPosition,e.getPosition())>this.polygonMaskMoveRadius)return e.velocity.x=e.velocity.y/2-e.velocity.x,e.velocity.y=e.velocity.x/2-e.velocity.y,!0;return!1}randomPoint(){const e=this.container,n=this.options;let i;if(n.type==="inline")switch(n.inline.arrangement){case"random-point":i=this.getRandomPoint();break;case"random-length":i=this.getRandomPointByLength();break;case"equidistant":i=this.getEquidistantPointByIndex(e.particles.count);break;case"one-per-point":case"per-point":default:i=this.getPointByIndex(e.particles.count)}else i={x:G()*e.canvas.size.width,y:G()*e.canvas.size.height};return this.checkInsidePolygon(i)?i:this.randomPoint()}}Iu=new WeakMap;var f2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},p2=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},xu;class m2{constructor(e){xu.set(this,void 0),this.id="polygonMask",f2(this,xu,e,"f")}getPlugin(e){return new d2(e,p2(this,xu,"f"))}loadOptions(e,n){if(!this.needsPlugin(n))return;const i=e;let r=i.polygon;(r==null?void 0:r.load)===void 0&&(i.polygon=r=new t1),r.load(n==null?void 0:n.polygon)}needsPlugin(e){var n,i,r;return(i=(n=e==null?void 0:e.polygon)===null||n===void 0?void 0:n.enable)!==null&&i!==void 0?i:((r=e==null?void 0:e.polygon)===null||r===void 0?void 0:r.type)!==void 0&&e.polygon.type!=="none"}}xu=new WeakMap;async function g2(t){const e=new m2(t);await t.addPlugin(e)}class Uw{constructor(){this.enable=!1,this.value=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=B(e.value)))}}class y2{constructor(){this.darken=new Uw,this.enable=!1,this.enlighten=new Uw,this.mode="vertical",this.speed=25}load(e){!e||(e.backColor!==void 0&&(this.backColor=oe.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=B(e.speed)))}}function v2(t,e){const n=t.options.roll;if(!t.roll||!(n!=null&&n.enable))return;const i=t.roll.speed*e.factor,r=2*Math.PI;t.roll.angle+=i,t.roll.angle>r&&(t.roll.angle-=r)}class w2{getTransformValues(e){var n;const i=((n=e.roll)===null||n===void 0?void 0:n.enable)&&e.roll,r=i&&i.horizontal,s=i&&i.vertical;return{a:r?Math.cos(i.angle):void 0,d:s?Math.sin(i.angle):void 0}}init(e){const n=e.options.roll;if(n!=null&&n.enable)if(e.roll={enable:n.enable,horizontal:n.mode==="horizontal"||n.mode==="both",vertical:n.mode==="vertical"||n.mode==="both",angle:G()*Math.PI*2,speed:M(n.speed)/360},n.backColor)e.backColor=Ui(n.backColor);else if(n.darken.enable&&n.enlighten.enable){const i=G()>=.5?"darken":"enlighten";e.roll.alter={type:i,value:M(i==="darken"?n.darken.value:n.enlighten.value)}}else n.darken.enable?e.roll.alter={type:"darken",value:M(n.darken.value)}:n.enlighten.enable&&(e.roll.alter={type:"enlighten",value:M(n.enlighten.value)});else e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}isEnabled(e){const n=e.options.roll;return!e.destroyed&&!e.spawning&&!!(n!=null&&n.enable)}loadOptions(e,...n){e.roll||(e.roll=new y2);for(const i of n)e.roll.load(i==null?void 0:i.roll)}update(e,n){!this.isEnabled(e)||v2(e,n)}}async function _2(t){await t.addParticleUpdater("roll",()=>new w2)}const S2=t=>{const e=(i,r)=>t.load(i,r);e.load=(i,r,s)=>{t.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}};function b2(t,e){var n,i;const r=t.rotate;if(!r)return;const s=t.options.rotate,o=s.animation,a=((n=r.velocity)!==null&&n!==void 0?n:0)*e.factor,l=2*Math.PI,u=(i=r.decay)!==null&&i!==void 0?i:1;if(!!o.enable){switch(r.status){case 0:r.value+=a,r.value>l&&(r.value-=l);break;case 1:default:r.value-=a,r.value<0&&(r.value+=l);break}r.velocity&&u!==1&&(r.velocity*=u)}}class E2{constructor(e){this.container=e}init(e){const n=e.options.rotate;e.rotate={enable:n.animation.enable,value:M(n.value)*Math.PI/180};let i=n.direction;switch(i==="random"&&(i=Math.floor(G()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status=1;break;case"clockwise":e.rotate.status=0;break}const r=e.options.rotate.animation;r.enable&&(e.rotate.decay=1-M(r.decay),e.rotate.velocity=M(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=G())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate,i=n.animation;return!e.destroyed&&!e.spawning&&i.enable&&!n.path}update(e,n){var i,r;!this.isEnabled(e)||(b2(e,n),e.rotation=(r=(i=e.rotate)===null||i===void 0?void 0:i.value)!==null&&r!==void 0?r:0)}}async function P2(t){await t.addParticleUpdater("angle",e=>new E2(e))}function T2(t){const e=t.initialPosition,{dx:n,dy:i}=Ne(e,t.position),r=Math.abs(n),s=Math.abs(i),o=t.retina.maxDistance.horizontal,a=t.retina.maxDistance.vertical;if(!(!o&&!a)){if((o&&r>=o||a&&s>=a)&&!t.misplaced)t.misplaced=!!o&&r>o||!!a&&s>a,o&&(t.velocity.x=t.velocity.y/2-t.velocity.x),a&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!o||r<o)&&(!a||s<a)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const l=t.position,u=t.velocity;o&&(l.x<e.x&&u.x<0||l.x>e.x&&u.x>0)&&(u.x*=-G()),a&&(l.y<e.y&&u.y<0||l.y>e.y&&u.y>0)&&(u.y*=-G())}}}function C2(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function A2(t,e){var n;const r=t.options.move.path;if(!r.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const o=(n=t.pathGenerator)===null||n===void 0?void 0:n.generate(t);o&&t.velocity.addTo(o),r.clamp&&(t.velocity.x=Zt(t.velocity.x,-1,1),t.velocity.y=Zt(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function k2(t){const e=t.container,n=e.actualOptions;if(!ie("slow",n.interactivity.events.onHover.mode))return 1;const r=t.container.interactivity.mouse.position;if(!r)return 1;const s=t.getPosition(),o=xe(r,s),a=e.retina.slowModeRadius;if(o>a)return 1;const l=o/a||0,u=n.interactivity.modes.slow.factor;return l/u}class I2{init(e){var n;const i=e.container,r=e.options,s=r.move.gravity,o=r.move.spin;if(e.gravity={enable:s.enable,acceleration:M(s.acceleration),inverse:s.inverse},o.enable){const a=(n=o.position)!==null&&n!==void 0?n:{x:50,y:50},l={x:a.x/100*i.canvas.size.width,y:a.y/100*i.canvas.size.height},u=e.getPosition(),c=xe(u,l),h=M(o.acceleration);e.retina.spinAcceleration=h*i.retina.pixelRatio,e.spin={center:l,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:c,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var i,r,s,o,a;const l=e.options,u=l.move;if(!u.enable)return;const c=e.container,h=k2(e),d=((i=(o=e.retina).moveSpeed)!==null&&i!==void 0?i:o.moveSpeed=M(u.speed)*c.retina.pixelRatio)*c.retina.reduceFactor,f=(r=(a=e.retina).moveDrift)!==null&&r!==void 0?r:a.moveDrift=M(e.options.move.drift)*c.retina.pixelRatio,p=ln(l.size.value)*c.retina.pixelRatio,y=u.size?e.getRadius()/p:1,w=y*h*(n.factor||1),g=2,m=d*w/g;A2(e,n);const v=e.gravity,_=(v==null?void 0:v.enable)&&v.inverse?-1:1;(v==null?void 0:v.enable)&&m&&(e.velocity.y+=_*(v.acceleration*n.factor)/(60*m)),f&&m&&(e.velocity.x+=f*n.factor/(60*m));const b=e.moveDecay;b!=1&&e.velocity.multTo(b);const P=e.velocity.mult(m),S=(s=e.retina.maxSpeed)!==null&&s!==void 0?s:c.retina.maxSpeed;(v==null?void 0:v.enable)&&S>0&&(!v.inverse&&P.y>=0&&P.y>=S||v.inverse&&P.y<=0&&P.y<=-S)&&(P.y=_*S,m&&(e.velocity.y=P.y/m));const T=e.options.zIndex,D=(1-e.zIndexFactor)**T.velocityRate;u.spin.enable?C2(e,m):(D!=1&&P.multTo(D),e.position.addTo(P),u.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))),T2(e)}}async function x2(t){t.addMover("base",()=>new I2)}class R2{draw(e,n,i){e.arc(0,0,i,0,Math.PI*2,!1)}getSidesCount(){return 12}}async function O2(t){await t.addShape("circle",new R2)}function zd(t,e,n,i,r){var s,o;const a=e;if(!a||!n.enable)return;const l=De(n.offset),u=((s=e.velocity)!==null&&s!==void 0?s:0)*t.factor+l*3.6,c=(o=e.decay)!==null&&o!==void 0?o:1;!r||a.status===0?(a.value+=u,r&&a.value>i&&(a.status=1,a.value-=a.value%i)):(a.value-=u,a.value<0&&(a.status=0,a.value+=a.value)),a.velocity&&c!==1&&(a.velocity*=c),a.value>i&&(a.value%=i)}function M2(t,e){var n,i,r;const s=t.options.color.animation;((n=t.color)===null||n===void 0?void 0:n.h)!==void 0&&zd(e,t.color.h,s.h,360,!1),((i=t.color)===null||i===void 0?void 0:i.s)!==void 0&&zd(e,t.color.s,s.s,100,!0),((r=t.color)===null||r===void 0?void 0:r.l)!==void 0&&zd(e,t.color.l,s.l,100,!0)}class D2{constructor(e){this.container=e}init(e){const n=Ui(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=HP(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var n,i,r;const s=e.options.color.animation;return!e.destroyed&&!e.spawning&&(((n=e.color)===null||n===void 0?void 0:n.h.value)!==void 0&&s.h.enable||((i=e.color)===null||i===void 0?void 0:i.s.value)!==void 0&&s.s.enable||((r=e.color)===null||r===void 0?void 0:r.l.value)!==void 0&&s.l.enable)}update(e,n){M2(e,n)}}async function L2(t){await t.addParticleUpdater("color",e=>new D2(e))}class N2{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}var V2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Xi=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},_n;class z2 extends Mn{constructor(e){super(e),_n.set(this,void 0),V2(this,_n,e,"f"),e.attract||(e.attract={particles:[]}),this.handleClickMode=n=>{const i=Xi(this,_n,"f").actualOptions,r=i.interactivity.modes.attract;if(!(!r||n!=="attract")){e.attract||(e.attract={particles:[]}),e.attract.clicking=!0,e.attract.count=0;for(const s of e.attract.particles)!this.isEnabled(s)||s.velocity.setTo(s.initialVelocity);e.attract.particles=[],e.attract.finish=!1,setTimeout(()=>{e.destroyed||(e.attract||(e.attract={particles:[]}),e.attract.clicking=!1)},r.duration*1e3)}}}clear(){}init(){const e=Xi(this,_n,"f"),n=e.actualOptions.interactivity.modes.attract;!n||(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=Xi(this,_n,"f"),n=e.actualOptions,i=e.interactivity.status===Vr,r=n.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&ie("attract",o)?this.hoverAttract():a&&ie("attract",l)&&this.clickAttract()}isEnabled(e){var n;const i=Xi(this,_n,"f"),r=i.actualOptions,s=i.interactivity.mouse,o=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:r.interactivity).events;if((!s.position||!o.onHover.enable)&&(!s.clickPosition||!o.onClick.enable))return!1;const a=o.onHover.mode,l=o.onClick.mode;return ie("attract",a)||ie("attract",l)}loadModeOptions(e,...n){e.attract||(e.attract=new N2);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}clickAttract(){const e=Xi(this,_n,"f");if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const n=e.interactivity.mouse.clickPosition,i=e.retina.attractModeDistance;if(!i||i<0||!n)return;this.processAttract(n,i,new Nt(n.x,n.y,i))}else e.attract.clicking===!1&&(e.attract.particles=[])}hoverAttract(){const e=Xi(this,_n,"f"),n=e.interactivity.mouse.position,i=e.retina.attractModeDistance;!i||i<0||!n||this.processAttract(n,i,new Nt(n.x,n.y,i))}processAttract(e,n,i){const r=Xi(this,_n,"f"),s=r.actualOptions.interactivity.modes.attract;if(!s)return;const o=r.particles.quadTree.query(i,a=>this.isEnabled(a));for(const a of o){const{dx:l,dy:u,distance:c}=Ne(a.position,e),h=s.speed*s.factor,d=Zt(RP(1-c/n,s.easing)*h,0,s.maxSpeed),f=X.create(c===0?h:l/c*d,c===0?h:u/c*d);a.position.subFrom(f)}}}_n=new WeakMap;async function G2(t){await t.addInteractor("externalAttract",e=>new z2(e))}class U2{constructor(){this.distance=200}load(e){!e||e.distance!==void 0&&(this.distance=e.distance)}}var F2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Qr=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Nn;class B2 extends Mn{constructor(e){super(e),Nn.set(this,void 0),F2(this,Nn,e,"f")}clear(){}init(){const e=Qr(this,Nn,"f"),n=e.actualOptions.interactivity.modes.bounce;!n||(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=Qr(this,Nn,"f"),n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===Vr,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&ie("bounce",o)?this.processMouseBounce():Dg("bounce",a,(l,u)=>this.singleSelectorBounce(l,u))}isEnabled(e){var n;const i=Qr(this,Nn,"f"),r=i.actualOptions,s=i.interactivity.mouse,o=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:r.interactivity).events,a=o.onDiv;return s.position&&o.onHover.enable&&ie("bounce",o.onHover.mode)||Mg("bounce",a)}loadModeOptions(e,...n){e.bounce||(e.bounce=new U2);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}processBounce(e,n,i){const r=Qr(this,Nn,"f").particles.quadTree.query(i,s=>this.isEnabled(s));for(const s of r)i instanceof Nt?VP(hp(s),{position:e,radius:n,mass:n**2*Math.PI/2,velocity:X.origin,factor:X.origin}):i instanceof Ht&&WL(s,El(e,n))}processMouseBounce(){const e=Qr(this,Nn,"f"),n=e.retina.pixelRatio,i=10*n,r=e.interactivity.mouse.position,s=e.retina.bounceModeDistance;!s||s<0||!r||this.processBounce(r,s,new Nt(r.x,r.y,s+i))}singleSelectorBounce(e,n){const i=Qr(this,Nn,"f"),r=document.querySelectorAll(e);!r.length||r.forEach(s=>{const o=s,a=i.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth/2)*a,y:(o.offsetTop+o.offsetHeight/2)*a},u=o.offsetWidth/2*a,c=10*a,h=n.type==="circle"?new Nt(l.x,l.y,u+c):new Ht(o.offsetLeft*a-c,o.offsetTop*a-c,o.offsetWidth*a+c*2,o.offsetHeight*a+c*2);this.processBounce(l,u,h)})}}Nn=new WeakMap;async function j2(t){await t.addInteractor("externalBounce",e=>new B2(e))}class n1{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0&&(e.color instanceof Array?this.color=e.color.map(n=>oe.create(void 0,n)):(this.color instanceof Array&&(this.color=new oe),this.color=oe.create(this.color,e.color))),e.size!==void 0&&(this.size=e.size))}}class Fw extends n1{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(n=>`#${n}`):`#${e}`}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class $2 extends n1{load(e){super.load(e),e&&(e.divs instanceof Array?this.divs=e.divs.map(n=>{const i=new Fw;return i.load(n),i}):((this.divs instanceof Array||!this.divs)&&(this.divs=new Fw),this.divs.load(e.divs)))}}var H2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},wn=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},xt;function Bw(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return Zt(r,t,e)}else if(e<n){const r=t-(n-e)*i;return Zt(r,e,t)}}class W2 extends Mn{constructor(e){super(e),xt.set(this,void 0),H2(this,xt,e,"f"),e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n){e.bubble.inRange&&!n||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=wn(this,xt,"f"),n=e.actualOptions.interactivity.modes.bubble;!n||(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(){const e=wn(this,xt,"f").actualOptions,n=e.interactivity.events,i=n.onHover,r=n.onClick,s=i.enable,o=i.mode,a=r.enable,l=r.mode,u=n.onDiv;s&&ie("bubble",o)?this.hoverBubble():a&&ie("bubble",l)?this.clickBubble():Dg("bubble",u,(c,h)=>this.singleSelectorHover(c,h))}isEnabled(e){var n;const i=wn(this,xt,"f"),r=i.actualOptions,s=i.interactivity.mouse,o=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:r.interactivity).events,a=o.onDiv,l=Mg("bubble",a);if(!(l||o.onHover.enable&&s.position||o.onClick.enable&&s.clickPosition))return!1;const u=o.onHover.mode,c=o.onClick.mode;return ie("bubble",u)||ie("bubble",c)||l}loadModeOptions(e,...n){e.bubble||(e.bubble=new $2);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}clickBubble(){var e,n;const i=wn(this,xt,"f"),r=i.actualOptions,s=i.interactivity.mouse.clickPosition,o=r.interactivity.modes.bubble;if(!o||!s)return;i.bubble||(i.bubble={});const a=i.retina.bubbleModeDistance;if(!a||a<0)return;const l=i.particles.quadTree.queryCircle(s,a,u=>this.isEnabled(u));for(const u of l){if(!i.bubble.clicking)continue;u.bubble.inRange=!i.bubble.durationEnd;const c=u.getPosition(),h=xe(c,s),d=(new Date().getTime()-(i.interactivity.mouse.clickTime||0))/1e3;d>o.duration&&(i.bubble.durationEnd=!0),d>o.duration*2&&(i.bubble.clicking=!1,i.bubble.durationEnd=!1);const f={bubbleObj:{optValue:i.retina.bubbleModeSize,value:u.bubble.radius},particlesObj:{optValue:ln(u.options.size.value)*i.retina.pixelRatio,value:u.size.value},type:"size"};this.process(u,h,d,f);const p={bubbleObj:{optValue:o.opacity,value:u.bubble.opacity},particlesObj:{optValue:ln(u.options.opacity.value),value:(n=(e=u.opacity)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:1},type:"opacity"};this.process(u,h,d,p),i.bubble.durationEnd?delete u.bubble.color:h<=a?this.hoverBubbleColor(u,h):delete u.bubble.color}}hoverBubble(){const e=wn(this,xt,"f"),n=e.interactivity.mouse.position,i=e.retina.bubbleModeDistance;if(!i||i<0||n===void 0)return;const r=e.particles.quadTree.queryCircle(n,i,s=>this.isEnabled(s));for(const s of r){s.bubble.inRange=!0;const o=s.getPosition(),a=xe(o,n),l=1-a/i;a<=i?l>=0&&e.interactivity.status===Vr&&(this.hoverBubbleSize(s,l),this.hoverBubbleOpacity(s,l),this.hoverBubbleColor(s,l)):this.reset(s),e.interactivity.status===fp&&this.reset(s)}}hoverBubbleColor(e,n,i){const r=wn(this,xt,"f").actualOptions,s=i!=null?i:r.interactivity.modes.bubble;if(!!s){if(!e.bubble.finalColor){const o=s.color;if(!o)return;const a=o instanceof Array?Fe(o):o;e.bubble.finalColor=Ui(a)}if(!!e.bubble.finalColor)if(s.mix){e.bubble.color=void 0;const o=e.getFillColor();e.bubble.color=o?BP(Lg(o,e.bubble.finalColor,1-n,n)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}hoverBubbleOpacity(e,n,i){var r,s,o,a;const l=wn(this,xt,"f"),u=l.actualOptions,c=(r=i==null?void 0:i.opacity)!==null&&r!==void 0?r:(s=u.interactivity.modes.bubble)===null||s===void 0?void 0:s.opacity;if(!c)return;const h=e.options.opacity.value,d=(a=(o=e.opacity)===null||o===void 0?void 0:o.value)!==null&&a!==void 0?a:1,f=Bw(d,c,ln(h),n);f!==void 0&&(e.bubble.opacity=f)}hoverBubbleSize(e,n,i){const r=wn(this,xt,"f"),s=i!=null&&i.size?i.size*r.retina.pixelRatio:r.retina.bubbleModeSize;if(s===void 0)return;const o=ln(e.options.size.value)*r.retina.pixelRatio,a=e.size.value,l=Bw(a,s,o,n);l!==void 0&&(e.bubble.radius=l)}process(e,n,i,r){const s=wn(this,xt,"f"),o=r.bubbleObj.optValue,a=s.actualOptions,l=a.interactivity.modes.bubble;if(!l||o===void 0)return;const u=l.duration,c=s.retina.bubbleModeDistance,h=r.particlesObj.optValue,d=r.bubbleObj.value,f=r.particlesObj.value||0,p=r.type;if(!(!c||c<0||o===h))if(s.bubble||(s.bubble={}),s.bubble.durationEnd)d&&(p==="size"&&delete e.bubble.radius,p==="opacity"&&delete e.bubble.opacity);else if(n<=c){if((d!=null?d:f)!==o){const w=f-i*(f-o)/u;p==="size"&&(e.bubble.radius=w),p==="opacity"&&(e.bubble.opacity=w)}}else p==="size"&&delete e.bubble.radius,p==="opacity"&&delete e.bubble.opacity}singleSelectorHover(e,n){const i=wn(this,xt,"f"),r=document.querySelectorAll(e),s=i.actualOptions.interactivity.modes.bubble;!s||!r.length||r.forEach(o=>{const a=o,l=i.retina.pixelRatio,u={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},c=a.offsetWidth/2*l,h=n.type==="circle"?new Nt(u.x,u.y,c):new Ht(a.offsetLeft*l,a.offsetTop*l,a.offsetWidth*l,a.offsetHeight*l),d=i.particles.quadTree.query(h,f=>this.isEnabled(f));for(const f of d){if(!h.contains(f.getPosition()))continue;f.bubble.inRange=!0;const p=s.divs,y=NP(p,a);(!f.bubble.div||f.bubble.div!==a)&&(this.clear(f,!0),f.bubble.div=a),this.hoverBubbleSize(f,1,y),this.hoverBubbleOpacity(f,1,y),this.hoverBubbleColor(f,1,y)}})}}xt=new WeakMap;async function q2(t){await t.addInteractor("externalBubble",e=>new W2(e))}class Q2{constructor(){this.opacity=.5}load(e){!e||e.opacity!==void 0&&(this.opacity=e.opacity)}}class K2{constructor(){this.distance=80,this.links=new Q2,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var n,i;!e||(e.distance!==void 0&&(this.distance=e.distance),this.links.load((i=(n=e.links)!==null&&n!==void 0?n:e.lineLinked)!==null&&i!==void 0?i:e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}var Y2=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},jw=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},$o;function X2(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),u=Lg(s,o,e.getRadius(),n.getRadius()),c=t.createLinearGradient(a.x,a.y,l.x,l.y);return c.addColorStop(0,Qs(s,i)),c.addColorStop(r>1?1:r,Yt(u,i)),c.addColorStop(1,Qs(o,i)),c}function J2(t,e,n,i,r){t.save(),ca(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke(),t.restore()}function Z2(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(!!s)return X2(e,n,i,s.links.opacity)}function ez(t,e,n){t.canvas.draw(i=>{var r;const s=Z2(t,i,e,n);if(!s)return;const o=e.getPosition(),a=n.getPosition();J2(i,(r=e.retina.linksWidth)!==null&&r!==void 0?r:0,s,o,a)})}class tz extends Mn{constructor(e){super(e),$o.set(this,void 0),Y2(this,$o,e,"f")}clear(){}init(){const e=jw(this,$o,"f"),n=e.actualOptions.interactivity.modes.connect;!n||(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=jw(this,$o,"f");if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const u of s.slice(o+1)){const c=u.getPosition(),h=Math.abs(e.retina.connectModeDistance),d=Math.abs(l.x-c.x),f=Math.abs(l.y-c.y);d<h&&f<h&&ez(e,a,u)}++o}}}isEnabled(e){var n;const i=this.container,r=i.interactivity.mouse,s=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:i.actualOptions.interactivity).events;return s.onHover.enable&&r.position?ie("connect",s.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new K2);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}$o=new WeakMap;async function nz(t){await t.addInteractor("externalConnect",e=>new tz(e))}class iz{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){!e||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=oe.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class rz{constructor(){this.distance=100,this.links=new iz}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var n,i;!e||(e.distance!==void 0&&(this.distance=e.distance),this.links.load((i=(n=e.links)!==null&&n!==void 0?n:e.lineLinked)!==null&&i!==void 0?i:e.line_linked))}}var sz=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},$w=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Ho;function oz(t,e,n,i,r,s){t.save(),ca(t,n,i),t.strokeStyle=Yt(r,s),t.lineWidth=e,t.stroke(),t.restore()}function az(t,e,n,i,r){t.canvas.draw(s=>{var o;const a=e.getPosition();oz(s,(o=e.retina.linksWidth)!==null&&o!==void 0?o:0,a,r,n,i)})}class lz extends Mn{constructor(e){super(e),Ho.set(this,void 0),sz(this,Ho,e,"f")}clear(){}init(){const e=$w(this,Ho,"f"),n=e.actualOptions.interactivity.modes.grab;!n||(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var e,n;const i=$w(this,Ho,"f"),r=i.actualOptions,s=r.interactivity;if(!s.modes.grab||!s.events.onHover.enable||i.interactivity.status!==Vr)return;const o=i.interactivity.mouse.position;if(!o)return;const a=i.retina.grabModeDistance;if(!a||a<0)return;const l=i.particles.quadTree.queryCircle(o,a,u=>this.isEnabled(u));for(const u of l){const c=u.getPosition(),h=xe(c,o);if(h>a)continue;const d=s.modes.grab.links,f=d.opacity,p=f-h*f/a;if(p<=0)continue;const y=(e=d.color)!==null&&e!==void 0?e:(n=u.options.links)===null||n===void 0?void 0:n.color;if(!i.particles.grabLineColor&&y){const g=s.modes.grab.links;i.particles.grabLineColor=$P(y,g.blink,g.consent)}const w=dp(u,void 0,i.particles.grabLineColor);if(!w)return;az(i,u,w,p,o)}}isEnabled(e){var n;const i=this.container,r=i.interactivity.mouse,s=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:i.actualOptions.interactivity).events;return s.onHover.enable&&!!r.position&&ie("grab",s.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new rz);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}Ho=new WeakMap;async function uz(t){await t.addInteractor("externalGrab",e=>new lz(e))}class cz extends Mn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}function hz(t){t.addInteractor("externalPause",e=>new cz(e))}class dz{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var n;if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(r=>r)),this.groups.length||(this.default=!0);const i=(n=e.quantity)!==null&&n!==void 0?n:e.particles_nb;i!==void 0&&(this.quantity=i)}}var fz=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},pz=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Ru;class mz extends Mn{constructor(e){super(e),Ru.set(this,void 0),fz(this,Ru,e,"f"),this.handleClickMode=n=>{if(n!=="push")return;const i=pz(this,Ru,"f"),r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=s.quantity;if(o<=0)return;const a=Fe([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new dz);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}Ru=new WeakMap;async function gz(t){await t.addInteractor("externalPush",e=>new mz(e))}class yz{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var n;if(!e)return;const i=(n=e.quantity)!==null&&n!==void 0?n:e.particles_nb;i!==void 0&&(this.quantity=i)}}var vz=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},wz=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},Ou;class _z extends Mn{constructor(e){super(e),Ou.set(this,void 0),vz(this,Ou,e,"f"),this.handleClickMode=n=>{const i=wz(this,Ou,"f"),r=i.actualOptions;if(!r.interactivity.modes.remove||n!=="remove")return;const s=r.interactivity.modes.remove.quantity;i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new yz);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}Ou=new WeakMap;function Sz(t){t.addInteractor("externalRemove",e=>new _z(e))}class i1{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class Hw extends i1{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){e instanceof Array?this.selectors=e.map(()=>`#${e}`):this.selectors=`#${e}`}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class bz extends i1{load(e){super.load(e),e&&(e.divs instanceof Array?this.divs=e.divs.map(n=>{const i=new Hw;return i.load(n),i}):((this.divs instanceof Array||!this.divs)&&(this.divs=new Hw),this.divs.load(e.divs)))}}var Ez=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ci=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},rn;class Pz extends Mn{constructor(e){super(e),rn.set(this,void 0),Ez(this,rn,e,"f"),e.repulse||(e.repulse={particles:[]}),this.handleClickMode=n=>{const i=ci(this,rn,"f").actualOptions,r=i.interactivity.modes.repulse;if(!(!r||n!=="repulse")){e.repulse||(e.repulse={particles:[]}),e.repulse.clicking=!0,e.repulse.count=0;for(const s of e.repulse.particles)!this.isEnabled(s)||s.velocity.setTo(s.initialVelocity);e.repulse.particles=[],e.repulse.finish=!1,setTimeout(()=>{e.destroyed||(e.repulse||(e.repulse={particles:[]}),e.repulse.clicking=!1)},r.duration*1e3)}}}clear(){}init(){const e=ci(this,rn,"f"),n=e.actualOptions.interactivity.modes.repulse;!n||(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=ci(this,rn,"f"),n=e.actualOptions,i=e.interactivity.status===Vr,r=n.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode,u=r.onDiv;i&&s&&ie("repulse",o)?this.hoverRepulse():a&&ie("repulse",l)?this.clickRepulse():Dg("repulse",u,(c,h)=>this.singleSelectorRepulse(c,h))}isEnabled(e){var n;const i=ci(this,rn,"f"),r=i.actualOptions,s=i.interactivity.mouse,o=((n=e==null?void 0:e.interactivity)!==null&&n!==void 0?n:r.interactivity).events,a=o.onDiv,l=Mg("repulse",a);if(!(l||o.onHover.enable&&s.position||o.onClick.enable&&s.clickPosition))return!1;const u=o.onHover.mode,c=o.onClick.mode;return ie("repulse",u)||ie("repulse",c)||l}loadModeOptions(e,...n){e.repulse||(e.repulse=new bz);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}clickRepulse(){const e=ci(this,rn,"f"),n=e.actualOptions.interactivity.modes.repulse;if(!!n){if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const i=e.retina.repulseModeDistance;if(!i||i<0)return;const r=Math.pow(i/6,3),s=e.interactivity.mouse.clickPosition;if(s===void 0)return;const o=new Nt(s.x,s.y,r),a=e.particles.quadTree.query(o,l=>this.isEnabled(l));for(const l of a){const{dx:u,dy:c,distance:h}=Ne(s,l.position),d=h**2,f=n.speed,p=-r*f/d;if(d<=r){e.repulse.particles.push(l);const y=X.create(u,c);y.length=p,l.velocity.setTo(y)}}}else if(e.repulse.clicking===!1){for(const i of e.repulse.particles)i.velocity.setTo(i.initialVelocity);e.repulse.particles=[]}}}hoverRepulse(){const e=ci(this,rn,"f"),n=e.interactivity.mouse.position,i=e.retina.repulseModeDistance;!i||i<0||!n||this.processRepulse(n,i,new Nt(n.x,n.y,i))}processRepulse(e,n,i,r){var s;const o=ci(this,rn,"f"),a=o.particles.quadTree.query(i,u=>this.isEnabled(u)),l=o.actualOptions.interactivity.modes.repulse;if(!!l)for(const u of a){const{dx:c,dy:h,distance:d}=Ne(u.position,e),f=((s=r==null?void 0:r.speed)!==null&&s!==void 0?s:l.speed)*l.factor,p=Zt(RP(1-d/n,l.easing)*f,0,l.maxSpeed),y=X.create(d===0?f:c/d*p,d===0?f:h/d*p);u.position.addTo(y)}}singleSelectorRepulse(e,n){const i=ci(this,rn,"f"),r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=document.querySelectorAll(e);!s.length||s.forEach(o=>{const a=o,l=i.retina.pixelRatio,u={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},c=a.offsetWidth/2*l,h=n.type==="circle"?new Nt(u.x,u.y,c):new Ht(a.offsetLeft*l,a.offsetTop*l,a.offsetWidth*l,a.offsetHeight*l),d=r.divs,f=NP(d,a);this.processRepulse(u,c,h,f)})}}rn=new WeakMap;async function Tz(t){await t.addInteractor("externalRepulse",e=>new Pz(e))}const Cz=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function Az(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Qs(e,n);if(i.includes("fill"))return i.replace(Cz,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function zg(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,console.error(`Error tsParticles - loading image: ${t.source}`),e()}),n.src=t.source})}async function kz(t){if(t.type!=="svg"){await zg(t);return}t.loading=!0;const e=await fetch(t.source);e.ok||(console.error("Error tsParticles - Image not found"),t.error=!0),t.error||(t.svgData=await e.text()),t.loading=!1}function Iz(t,e,n,i){var r,s,o;const a=Az(t,n,(s=(r=i.opacity)===null||r===void 0?void 0:r.value)!==null&&s!==void 0?s:1),l={color:n,data:Object.assign(Object.assign({},t),{svgData:a}),loaded:!1,ratio:e.width/e.height,replaceColor:(o=e.replaceColor)!==null&&o!==void 0?o:e.replace_color,source:e.src};return new Promise(u=>{const c=new Blob([a],{type:"image/svg+xml"}),h=URL||window.URL||window.webkitURL||window,d=h.createObjectURL(c),f=new Image;f.addEventListener("load",()=>{l.loaded=!0,l.element=f,u(l),h.revokeObjectURL(d)}),f.addEventListener("error",async()=>{h.revokeObjectURL(d);const p=Object.assign(Object.assign({},t),{error:!1,loading:!0});await zg(p),l.loaded=!0,l.element=p.element,u(l)}),f.src=d})}var Ww=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},qw=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},is;class xz{constructor(){is.set(this,void 0),Ww(this,is,[],"f")}addImage(e,n){const i=this.getImages(e);i==null||i.images.push(n)}destroy(){Ww(this,is,[],"f")}draw(e,n,i,r){var s;const o=n.image,a=o==null?void 0:o.element;if(!a)return;const l=(s=o==null?void 0:o.ratio)!==null&&s!==void 0?s:1,u={x:-i,y:-i};e.globalAlpha=r,e.drawImage(a,u.x,u.y,i*2,i*2/l),e.globalAlpha=1}getImages(e){const n=qw(this,is,"f").find(i=>i.id===e.id);return n||(qw(this,is,"f").push({id:e.id,images:[]}),this.getImages(e))}getSidesCount(){return 12}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;const n=e.container,i=this.getImages(n).images,r=e.shapeData,s=i.find(o=>o.source===r.src);if(!s){this.loadImageShape(n,r).then(()=>{this.loadShape(e)});return}s.error}particleInit(e,n){var i;if(n.shape!=="image"&&n.shape!=="images")return;const r=this.getImages(e).images,s=n.shapeData,o=n.getFillColor(),a=(i=s.replaceColor)!==null&&i!==void 0?i:s.replace_color,l=r.find(u=>u.source===s.src);if(!!l){if(l.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{var u,c;let h;l.svgData&&a&&o?h=await Iz(l,s,o,n):h={color:o,data:l,element:l.element,loaded:!0,ratio:s.width/s.height,replaceColor:a,source:s.src},h.ratio||(h.ratio=1);const d=(u=s.fill)!==null&&u!==void 0?u:n.fill,f=(c=s.close)!==null&&c!==void 0?c:n.close,p={image:h,fill:d,close:f};n.image=p.image,n.fill=p.fill,n.close=p.close})()}}async loadImageShape(e,n){var i;const r=n.src;if(!r)throw new Error("Error tsParticles - No image.src");try{const s={source:r,type:r.substring(r.length-3),error:!1,loading:!0};this.addImage(e,s),await(((i=n.replaceColor)!==null&&i!==void 0?i:n.replace_color)?kz:zg)(s)}catch{throw new Error(`tsParticles error - ${n.src} not found`)}}}is=new WeakMap;async function Rz(t){const e=new xz;await t.addShape("image",e),await t.addShape("images",e)}class Oz extends en{constructor(){super(),this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Mz extends en{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Dz{constructor(){this.count=0,this.delay=new Oz,this.duration=new Mz}load(e){!e||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class Lz{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;!r||(e.life={delay:n.retina.reduceFactor?M(r.delay.value)*(r.delay.sync?1:G())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?M(r.duration.value)*(r.duration.sync?1:G())/n.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new Dz);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=B(0,s.width),a=B(0,s.width);e.position.x=De(o),e.position.y=De(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=M(l.delay.value)*1e3,i.duration=M(l.duration.value)*1e3)}}async function Nz(t){await t.addParticleUpdater("life",e=>new Lz(e))}class Vz{draw(e,n,i){e.moveTo(-i/2,0),e.lineTo(i/2,0)}getSidesCount(){return 1}}async function zz(t){await t.addShape("line",new Vz)}function Gz(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function Uz(t,e){var n,i,r,s,o,a;if(!t.opacity)return;const l=t.opacity.min,u=t.opacity.max,c=(n=t.opacity.decay)!==null&&n!==void 0?n:1;if(!(t.destroyed||!t.opacity.enable||((i=t.opacity.maxLoops)!==null&&i!==void 0?i:0)>0&&((r=t.opacity.loops)!==null&&r!==void 0?r:0)>((s=t.opacity.maxLoops)!==null&&s!==void 0?s:0))){switch(t.opacity.status){case 0:t.opacity.value>=u?(t.opacity.status=1,t.opacity.loops||(t.opacity.loops=0),t.opacity.loops++):t.opacity.value+=((o=t.opacity.velocity)!==null&&o!==void 0?o:0)*e.factor;break;case 1:t.opacity.value<=l?(t.opacity.status=0,t.opacity.loops||(t.opacity.loops=0),t.opacity.loops++):t.opacity.value-=((a=t.opacity.velocity)!==null&&a!==void 0?a:0)*e.factor;break}t.opacity.velocity&&t.opacity.decay!==1&&(t.opacity.velocity*=c),Gz(t,t.opacity.value,l,u),t.destroyed||(t.opacity.value=Zt(t.opacity.value,l,u))}}class Fz{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity={enable:n.animation.enable,max:ln(n.value),min:Ws(n.value),value:M(n.value),loops:0,maxLoops:M(n.animation.count)};const i=n.animation;if(i.enable){e.opacity.decay=1-M(i.decay),e.opacity.status=0;const r=n.value;switch(e.opacity.min=Ws(r),e.opacity.max=ln(r),i.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status=0;break;case"random":e.opacity.value=De(e.opacity),e.opacity.status=G()>=.5?0:1;break;case"max":default:e.opacity.value=e.opacity.max,e.opacity.status=1;break}e.opacity.velocity=M(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=G())}}isEnabled(e){var n,i,r,s;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&(((n=e.opacity.maxLoops)!==null&&n!==void 0?n:0)<=0||((i=e.opacity.maxLoops)!==null&&i!==void 0?i:0)>0&&((r=e.opacity.loops)!==null&&r!==void 0?r:0)<((s=e.opacity.maxLoops)!==null&&s!==void 0?s:0))}update(e,n){!this.isEnabled(e)||Uz(e,n)}}async function Bz(t){await t.addParticleUpdater("opacity",e=>new Fz(e))}function jz(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split")return;t.bounds.right<0?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=ii(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function $z(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split")return;t.bounds.bottom<0?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=ii(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class Hz{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,d]of s.plugins)if(d.particleBounce!==void 0&&(o=d.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,u=e.getRadius(),c=El(a,u),h=s.canvas.size;jz({particle:e,outMode:r,direction:n,bounds:c,canvasSize:h,offset:l,size:u}),$z({particle:e,outMode:r,direction:n,bounds:c,canvasSize:h,offset:l,size:u})}}class Wz{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(bl(e.position,s.canvas.size,X.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:a}=Ne(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<0&&o>e.moveCenter.radius||u<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||u>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class qz{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>a.height+l&&n==="bottom"||s.inverse&&u.y<-l&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;bl(e.position,o.canvas.size,X.origin,l,n)||o.particles.remove(e)}}}class Qz{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=X.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(X.create(e.moveCenter));const{dx:u,dy:c}=Ne(e.position,l);if(o<=0&&u>=0||a<=0&&c>=0||o>=0&&u<=0||a>=0&&c<=0)return;e.position.x=Math.floor(De({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(De({min:0,max:s.canvas.size.height}));const{dx:h,dy:d}=Ne(e.position,e.moveCenter);e.direction=Math.atan2(-d,-h),e.velocity.angle=e.direction;break}default:{if(bl(e.position,s.canvas.size,X.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor(De({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(De({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Ne(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),c=El(e.position,u);n==="right"&&c.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=G()*a.height,e.initialPosition.y=e.position.y)):n==="left"&&c.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=G()*a.height,e.initialPosition.y=e.position.y)),n==="bottom"&&c.top>a.height+e.offset.y?(o||(e.position.x=G()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n==="top"&&c.bottom<-e.offset.y&&(o||(e.position.x=G()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class Kz{constructor(e){this.container=e,this.updaters=[new Hz(e),new Wz(e),new Qz(e),new qz(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){var i,r,s,o;const a=e.options.move.outModes;this.updateOutMode(e,n,(i=a.bottom)!==null&&i!==void 0?i:a.default,"bottom"),this.updateOutMode(e,n,(r=a.left)!==null&&r!==void 0?r:a.default,"left"),this.updateOutMode(e,n,(s=a.right)!==null&&s!==void 0?s:a.default,"right"),this.updateOutMode(e,n,(o=a.top)!==null&&o!==void 0?o:a.default,"top")}updateOutMode(e,n,i,r){for(const s of this.updaters)s.update(e,r,n,i)}}async function Yz(t){await t.addParticleUpdater("outModes",e=>new Kz(e))}class Xz{init(){}isEnabled(e){return!Nr()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions;if(Nr()||!i.interactivity.events.onHover.parallax.enable)return;const r=i.interactivity.events.onHover.parallax.force,s=n.interactivity.mouse.position;if(!s)return;const o={x:n.canvas.size.width/2,y:n.canvas.size.height/2},a=i.interactivity.events.onHover.parallax.smooth,l=e.getRadius()/r,u={x:(s.x-o.x)*l,y:(s.y-o.y)*l};e.offset.x+=(u.x-e.offset.x)/a,e.offset.y+=(u.y-e.offset.y)/a}}async function Jz(t){t.addMover("parallax",()=>new Xz)}class Zz extends Vg{constructor(e){super(e)}clear(){}init(){}async interact(e){var n;const i=this.container,r=(n=e.retina.attractDistance)!==null&&n!==void 0?n:i.retina.attractDistance,s=e.getPosition(),o=i.particles.quadTree.queryCircle(s,r);for(const a of o){if(e===a||!a.options.move.attract.enable||a.destroyed||a.spawning)continue;const l=a.getPosition(),{dx:u,dy:c}=Ne(s,l),h=e.options.move.attract.rotate,d=u/(h.x*1e3),f=c/(h.y*1e3),p=a.size.value/e.size.value,y=1/p;e.velocity.x-=d*p,e.velocity.y-=f*p,a.velocity.x+=d*y,a.velocity.y+=f*y}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function eG(t){await t.addInteractor("particlesAttract",e=>new Zz(e))}function tG(t,e,n,i){if(t.getRadius()===void 0&&e.getRadius()!==void 0)t.destroy();else if(t.getRadius()!==void 0&&e.getRadius()===void 0)e.destroy();else if(t.getRadius()!==void 0&&e.getRadius()!==void 0)if(t.getRadius()>=e.getRadius()){const r=Zt(t.getRadius()/e.getRadius(),0,e.getRadius())*n;t.size.value+=r,e.size.value-=r,e.getRadius()<=i&&(e.size.value=0,e.destroy())}else{const r=Zt(e.getRadius()/t.getRadius(),0,t.getRadius())*n;t.size.value-=r,e.size.value+=r,t.getRadius()<=i&&(t.size.value=0,t.destroy())}}function r1(t,e){VP(hp(t),hp(e))}function nG(t,e){!t.unbreakable&&!e.unbreakable&&r1(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e.destroy():t.destroy())}function iG(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{tG(t,e,n,i);break}case"bounce":{r1(t,e);break}case"destroy":{nG(t,e);break}}}class rG extends Vg{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.getPosition(),r=e.getRadius(),s=n.particles.quadTree.queryCircle(i,r*2);for(const o of s){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const a=o.getPosition(),l=o.getRadius();if(Math.abs(Math.round(i.z)-Math.round(a.z))>r+l)continue;const u=xe(i,a),c=r+l;u>c||iG(e,o,n.fpsLimit/1e3,n.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function sG(t){await t.addInteractor("particlesCollisions",e=>new rG(e))}class oG{constructor(){this.blur=5,this.color=new oe,this.color.value="#000",this.enable=!1}load(e){!e||(e.blur!==void 0&&(this.blur=e.blur),this.color=oe.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class aG{constructor(){this.enable=!1,this.frequency=1}load(e){!e||(e.color!==void 0&&(this.color=oe.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class lG{constructor(){this.blink=!1,this.color=new oe,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new oG,this.triangles=new aG,this.width=1,this.warp=!1}load(e){!e||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=oe.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function uG(t,e,n,i,r){let s=xe(t,e);if(!r||s<=n)return s;const o={x:e.x-i.width,y:e.y};if(s=xe(t,o),s<=n)return s;const a={x:e.x-i.width,y:e.y-i.height};if(s=xe(t,a),s<=n)return s;const l={x:e.x,y:e.y-i.height};return s=xe(t,l),s}class cG extends Vg{constructor(e){super(e),this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColors=new Map}async interact(e){var n;if(!e.options.links)return;e.links=[];const i=e.getPosition(),r=this.container,s=r.canvas.size;if(i.x<0||i.y<0||i.x>s.width||i.y>s.height)return;const o=e.options.links,a=o.opacity,l=(n=e.retina.linksDistance)!==null&&n!==void 0?n:0,u=o.warp,c=u?new JP(i.x,i.y,l,s):new Nt(i.x,i.y,l),h=r.particles.quadTree.query(c);for(const d of h){const f=d.options.links;if(e===d||!(f!=null&&f.enable)||o.id!==f.id||d.spawning||d.destroyed||!d.links||e.links.map(g=>g.destination).indexOf(d)!==-1||d.links.map(g=>g.destination).indexOf(e)!==-1)continue;const p=d.getPosition();if(p.x<0||p.y<0||p.x>s.width||p.y>s.height)continue;const y=uG(i,p,l,s,u&&f.warp);if(y>l)return;const w=(1-y/l)*a;this.setColor(e),e.links.push({destination:d,opacity:w})}}isEnabled(e){var n;return!!(!((n=e.options.links)===null||n===void 0)&&n.enable)}loadParticlesOptions(e,...n){var i,r;e.links||(e.links=new lG);for(const s of n)e.links.load((r=(i=s==null?void 0:s.links)!==null&&i!==void 0?i:s==null?void 0:s.lineLinked)!==null&&r!==void 0?r:s==null?void 0:s.line_linked)}reset(){}setColor(e){if(!e.options.links)return;const n=this.linkContainer,i=e.options.links;let r=i.id===void 0?n.particles.linksColor:n.particles.linksColors.get(i.id);if(r)return;const s=i.color;r=$P(s,i.blink,i.consent),i.id===void 0?n.particles.linksColor=r:n.particles.linksColors.set(i.id,r)}}async function hG(t){await t.addInteractor("particlesLinks",e=>new cG(e))}function dG(t,e,n,i,r,s,o,a,l,u,c,h){let d=!1;if(xe(n,i)<=r)ca(t,n,i),d=!0;else if(o){let f,p;const y={x:i.x-s.width,y:i.y},w=Ne(n,y);if(w.distance<=r){const g=n.y-w.dy/w.dx*n.x;f={x:0,y:g},p={x:s.width,y:g}}else{const g={x:i.x,y:i.y-s.height},m=Ne(n,g);if(m.distance<=r){const _=-(n.y-m.dy/m.dx*n.x)/(m.dy/m.dx);f={x:_,y:0},p={x:_,y:s.height}}else{const v={x:i.x-s.width,y:i.y-s.height},_=Ne(n,v);if(_.distance<=r){const b=n.y-_.dy/_.dx*n.x;f={x:-b/(_.dy/_.dx),y:b},p={x:f.x+s.width,y:f.y+s.height}}}}f&&p&&(ca(t,n,f),ca(t,i,p),d=!0)}if(!!d){if(t.lineWidth=e,a&&(t.globalCompositeOperation=l),t.strokeStyle=Yt(u,c),h.enable){const f=kt(h.color);f&&(t.shadowBlur=h.blur,t.shadowColor=Yt(f))}t.stroke()}}function fG(t,e,n,i,r,s,o,a){YL(t,e,n,i),r&&(t.globalCompositeOperation=s),t.fillStyle=Yt(o,a),t.fill()}class pG{constructor(e){this.container=e}drawParticle(e,n){var i;const r=this.container,s=n.options;if(!n.links||n.links.length<=0)return;e.save();const o=n.links.filter(a=>s.links&&r.particles.getLinkFrequency(n,a.destination)<=s.links.frequency);for(const a of o)this.drawTriangles(r,s,n,a,o),a.opacity>0&&((i=n.retina.linksWidth)!==null&&i!==void 0?i:0)>0&&this.drawLinkLine(n,a);e.restore()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio;e.retina.linksDistance=e.options.links.distance*n,e.retina.linksWidth=e.options.links.width*n}particleDestroyed(e){e.links=[]}drawLinkLine(e,n){const i=this.container,r=i.actualOptions,s=n.destination,o=e.getPosition(),a=s.getPosition();let l=n.opacity;i.canvas.draw(u=>{var c,h,d;if(!e.options.links)return;let f;const p=(c=e.options.twinkle)===null||c===void 0?void 0:c.lines;if(p!=null&&p.enable){const g=p.frequency,m=kt(p.color);G()<g&&m&&(f=m,l=M(p.opacity))}if(!f){const g=e.options.links,m=(g==null?void 0:g.id)!==void 0?i.particles.linksColors.get(g.id):i.particles.linksColor;f=dp(e,s,m)}if(!f)return;const y=(h=e.retina.linksWidth)!==null&&h!==void 0?h:0,w=(d=e.retina.linksDistance)!==null&&d!==void 0?d:0;dG(u,y,o,a,w,i.canvas.size,e.options.links.warp,r.backgroundMask.enable,r.backgroundMask.composite,f,l,e.options.links.shadow)})}drawLinkTriangle(e,n,i){var r;if(!e.options.links)return;const s=this.container,o=s.actualOptions,a=n.destination,l=i.destination,u=e.options.links.triangles,c=(r=u.opacity)!==null&&r!==void 0?r:(n.opacity+i.opacity)/2;c<=0||s.canvas.draw(h=>{var d;const f=e.getPosition(),p=a.getPosition(),y=l.getPosition(),w=(d=e.retina.linksDistance)!==null&&d!==void 0?d:0;if(xe(f,p)>w||xe(y,p)>w||xe(y,f)>w)return;let g=kt(u.color);if(!g){const m=e.options.links,v=(m==null?void 0:m.id)!==void 0?s.particles.linksColors.get(m.id):s.particles.linksColor;g=dp(e,a,v)}!g||fG(h,f,p,y,o.backgroundMask.enable,o.backgroundMask.composite,g,c)})}drawTriangles(e,n,i,r,s){var o,a,l;const u=r.destination,c=e.particles;if(!(((o=n.links)===null||o===void 0?void 0:o.triangles.enable)&&((a=u.options.links)===null||a===void 0?void 0:a.triangles.enable)))return;const h=(l=u.links)===null||l===void 0?void 0:l.filter(d=>{const f=e.particles.getLinkFrequency(u,d.destination);return u.options.links&&f<=u.options.links.frequency&&s.findIndex(p=>p.destination===d.destination)>=0});if(!!(h!=null&&h.length))for(const d of h){const f=d.destination;c.getTriangleFrequency(i,u,f)>n.links.triangles.frequency||this.drawLinkTriangle(i,r,d)}}}class mG{constructor(){this.id="links"}getPlugin(e){return new pG(e)}loadOptions(){}needsPlugin(){return!0}}async function gG(t){const e=new mG;await t.addPlugin(e)}async function yG(t){await hG(t),await gG(t)}class s1{draw(e,n,i){const r=this.getCenter(n,i),s=this.getSidesData(n,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,u=Math.PI-Math.PI*l/180;if(!!e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let c=0;c<o;c++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(u)}}getSidesCount(e){var n,i;const r=e.shapeData;return(i=(n=r==null?void 0:r.sides)!==null&&n!==void 0?n:r==null?void 0:r.nb_sides)!==null&&i!==void 0?i:5}}class vG extends s1{getCenter(e,n){const i=this.getSidesCount(e);return{x:-n/(i/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){var i,r;const s=e.shapeData,o=(r=(i=s==null?void 0:s.sides)!==null&&i!==void 0?i:s==null?void 0:s.nb_sides)!==null&&r!==void 0?r:5;return{count:{denominator:1,numerator:o},length:n*2.66/(o/3)}}}class wG extends s1{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function _G(t){await t.addShape("polygon",new vG)}async function SG(t){await t.addShape("triangle",new wG)}async function bG(t){await _G(t),await SG(t)}function EG(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function PG(t,e){var n,i,r,s,o;const a=((n=t.size.velocity)!==null&&n!==void 0?n:0)*e.factor,l=t.size.min,u=t.size.max,c=(i=t.size.decay)!==null&&i!==void 0?i:1;if(!(t.destroyed||!t.size.enable||((r=t.size.maxLoops)!==null&&r!==void 0?r:0)>0&&((s=t.size.loops)!==null&&s!==void 0?s:0)>((o=t.size.maxLoops)!==null&&o!==void 0?o:0))){switch(t.size.status){case 0:t.size.value>=u?(t.size.status=1,t.size.loops||(t.size.loops=0),t.size.loops++):t.size.value+=a;break;case 1:t.size.value<=l?(t.size.status=0,t.size.loops||(t.size.loops=0),t.size.loops++):t.size.value-=a}t.size.velocity&&c!==1&&(t.size.velocity*=c),EG(t,t.size.value,l,u),t.destroyed||(t.size.value=Zt(t.size.value,l,u))}}class TG{init(){}isEnabled(e){var n,i,r,s;return!e.destroyed&&!e.spawning&&e.size.enable&&(((n=e.size.maxLoops)!==null&&n!==void 0?n:0)<=0||((i=e.size.maxLoops)!==null&&i!==void 0?i:0)>0&&((r=e.size.loops)!==null&&r!==void 0?r:0)<((s=e.size.maxLoops)!==null&&s!==void 0?s:0))}update(e,n){!this.isEnabled(e)||PG(e,n)}}async function CG(t){await t.addParticleUpdater("size",()=>new TG)}const Zl=Math.sqrt(2);class AG{draw(e,n,i){e.rect(-i/Zl,-i/Zl,i*2/Zl,i*2/Zl)}getSidesCount(){return 4}}async function kG(t){const e=new AG;await t.addShape("edge",e),await t.addShape("square",e)}class IG{draw(e,n,i){var r;const s=n.shapeData,o=this.getSidesCount(n),a=(r=s==null?void 0:s.inset)!==null&&r!==void 0?r:2;e.moveTo(0,0-i);for(let l=0;l<o;l++)e.rotate(Math.PI/o),e.lineTo(0,0-i*a),e.rotate(Math.PI/o),e.lineTo(0,0-i)}getSidesCount(e){var n,i;const r=e.shapeData;return(i=(n=r==null?void 0:r.sides)!==null&&n!==void 0?n:r==null?void 0:r.nb_sides)!==null&&i!==void 0?i:5}}async function xG(t){await t.addShape("star",new IG)}function Gd(t,e,n,i,r){var s,o;const a=e;if(!a||!a.enable)return;const l=De(n.offset),u=((s=e.velocity)!==null&&s!==void 0?s:0)*t.factor+l*3.6,c=(o=e.decay)!==null&&o!==void 0?o:1;!r||a.status===0?(a.value+=u,r&&a.value>i&&(a.status=1,a.value-=a.value%i)):(a.value-=u,a.value<0&&(a.status=0,a.value+=a.value)),a.velocity&&c!==1&&(a.velocity*=c),a.value>i&&(a.value%=i)}function RG(t,e){var n,i,r,s,o,a,l,u,c,h;if(!(!((n=t.stroke)===null||n===void 0)&&n.color))return;const d=t.stroke.color.animation,f=(r=(i=t.strokeColor)===null||i===void 0?void 0:i.h)!==null&&r!==void 0?r:(s=t.color)===null||s===void 0?void 0:s.h;f&&Gd(e,f,d.h,360,!1);const p=(a=(o=t.strokeColor)===null||o===void 0?void 0:o.s)!==null&&a!==void 0?a:(l=t.color)===null||l===void 0?void 0:l.s;p&&Gd(e,p,d.s,100,!0);const y=(c=(u=t.strokeColor)===null||u===void 0?void 0:u.l)!==null&&c!==void 0?c:(h=t.color)===null||h===void 0?void 0:h.l;y&&Gd(e,y,d.l,100,!0)}class OG{constructor(e){this.container=e}init(e){var n,i;const r=this.container;e.stroke=e.options.stroke instanceof Array?Fe(e.options.stroke,e.id,e.options.reduceDuplicates):e.options.stroke,e.strokeWidth=e.stroke.width*r.retina.pixelRatio;const s=(n=Ui(e.stroke.color))!==null&&n!==void 0?n:e.getFillColor();s&&(e.strokeColor=HP(s,(i=e.stroke.color)===null||i===void 0?void 0:i.animation,r.retina.reduceFactor))}isEnabled(e){var n,i,r,s;const o=(n=e.stroke)===null||n===void 0?void 0:n.color;return!e.destroyed&&!e.spawning&&!!o&&(((i=e.strokeColor)===null||i===void 0?void 0:i.h.value)!==void 0&&o.animation.h.enable||((r=e.strokeColor)===null||r===void 0?void 0:r.s.value)!==void 0&&o.animation.s.enable||((s=e.strokeColor)===null||s===void 0?void 0:s.l.value)!==void 0&&o.animation.l.enable)}update(e,n){!this.isEnabled(e)||RG(e,n)}}async function MG(t){await t.addParticleUpdater("strokeColor",e=>new OG(e))}const vp=["text","character","char"];class DG{draw(e,n,i,r){var s,o,a;const l=n.shapeData;if(l===void 0)return;const u=l.value;if(u===void 0)return;const c=n;c.text===void 0&&(c.text=u instanceof Array?Fe(u,n.randomIndexData):u);const h=c.text,d=(s=l.style)!==null&&s!==void 0?s:"",f=(o=l.weight)!==null&&o!==void 0?o:"400",p=Math.round(i)*2,y=(a=l.font)!==null&&a!==void 0?a:"Verdana",w=n.fill,g=h.length*i/2;e.font=`${d} ${f} ${p}px "${y}"`;const m={x:-g,y:i/2};e.globalAlpha=r,w?e.fillText(h,m.x,m.y):e.strokeText(h,m.x,m.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(vp.find(i=>ie(i,n.particles.shape.type))){const i=vp.map(r=>n.particles.shape.options[r]).find(r=>!!r);if(i instanceof Array){const r=[];for(const s of i){const o=s;r.push(Cw(o.font,o.weight))}await Promise.allSettled(r)}else if(i!==void 0){const r=i;await Cw(r.font,r.weight)}}}}async function LG(t){const e=new DG;for(const n of vp)await t.addShape(n,e)}async function NG(t){await x2(t),await Jz(t),await G2(t),await j2(t),await q2(t),await nz(t),await uz(t),await hz(t),await gz(t),await Sz(t),await Tz(t),await eG(t),await sG(t),await yG(t),await O2(t),await Rz(t),await zz(t),await bG(t),await kG(t),await xG(t),await LG(t),await Nz(t),await Bz(t),await CG(t),await P2(t),await L2(t),await MG(t),await Yz(t),await S2(t)}class VG{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=B(e.speed)),e.decay!==void 0&&(this.decay=B(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class zG extends en{constructor(){super(),this.animation=new VG,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}function GG(t,e){var n,i;if(!t.tilt||!t.options.tilt)return;const r=t.options.tilt,s=r.animation,o=((n=t.tilt.velocity)!==null&&n!==void 0?n:0)*e.factor,a=2*Math.PI,l=(i=t.tilt.decay)!==null&&i!==void 0?i:1;if(!!s.enable){switch(t.tilt.status){case 0:t.tilt.value+=o,t.tilt.value>a&&(t.tilt.value-=a);break;case 1:default:t.tilt.value-=o,t.tilt.value<0&&(t.tilt.value+=a);break}t.tilt.velocity&&l!==1&&(t.tilt.velocity*=l)}}class UG{constructor(e){this.container=e}getTransformValues(e){var n;const i=((n=e.tilt)===null||n===void 0?void 0:n.enable)&&e.tilt;return{b:i?Math.cos(i.value)*i.cosDirection:void 0,c:i?Math.sin(i.value)*i.sinDirection:void 0}}init(e){var n;const i=e.options.tilt;if(!i)return;e.tilt={enable:i.enable,value:M(i.value)*Math.PI/180,sinDirection:G()>=.5?1:-1,cosDirection:G()>=.5?1:-1};let r=i.direction;switch(r==="random"&&(r=Math.floor(G()*2)>0?"counter-clockwise":"clockwise"),r){case"counter-clockwise":case"counterClockwise":e.tilt.status=1;break;case"clockwise":e.tilt.status=0;break}const s=(n=e.options.tilt)===null||n===void 0?void 0:n.animation;s!=null&&s.enable&&(e.tilt.decay=1-M(s.decay),e.tilt.velocity=M(s.speed)/360*this.container.retina.reduceFactor,s.sync||(e.tilt.velocity*=G()))}isEnabled(e){var n;const i=(n=e.options.tilt)===null||n===void 0?void 0:n.animation;return!e.destroyed&&!e.spawning&&!!(i!=null&&i.enable)}loadOptions(e,...n){e.tilt||(e.tilt=new zG);for(const i of n)e.tilt.load(i==null?void 0:i.tilt)}update(e,n){!this.isEnabled(e)||GG(e,n)}}async function FG(t){await t.addParticleUpdater("tilt",e=>new UG(e))}class Qw{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=oe.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=B(e.opacity)))}}class BG{constructor(){this.lines=new Qw,this.particles=new Qw}load(e){!e||(this.lines.load(e.lines),this.particles.load(e.particles))}}class jG{getColorStyles(e,n,i,r){const s=e.options,o=s.twinkle;if(!o)return{};const a=o.particles,l=a.enable&&G()<a.frequency,u=e.options.zIndex,c=(1-e.zIndexFactor)**u.opacityRate,h=l?M(a.opacity)*c:r,d=Ui(a.color),f=d?Qs(d,h):void 0,p={},y=l&&f;return p.fill=y?f:void 0,p.stroke=y?f:void 0,p}init(){}isEnabled(e){const n=e.options,i=n.twinkle;return i?i.particles.enable:!1}loadOptions(e,...n){e.twinkle||(e.twinkle=new BG);for(const i of n)e.twinkle.load(i==null?void 0:i.twinkle)}update(){}}async function $G(t){await t.addParticleUpdater("twinkle",()=>new jG)}class HG{constructor(){this.angle=50,this.move=10}load(e){!e||(e.angle!==void 0&&(this.angle=B(e.angle)),e.move!==void 0&&(this.move=B(e.move)))}}class WG{constructor(){this.distance=5,this.enable=!1,this.speed=new HG}load(e){if(!!e&&(e.distance!==void 0&&(this.distance=B(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(typeof e.speed=="number")this.speed.load({angle:e.speed});else{const n=e.speed;n.min!==void 0?this.speed.load({angle:n}):this.speed.load(e.speed)}}}function qG(t,e){var n;const i=t.options.wobble;if(!(i!=null&&i.enable)||!t.wobble)return;const r=t.wobble.angleSpeed*e.factor,s=t.wobble.moveSpeed*e.factor,o=s*(((n=t.retina.wobbleDistance)!==null&&n!==void 0?n:0)*e.factor)/(1e3/60),a=2*Math.PI;t.wobble.angle+=r,t.wobble.angle>a&&(t.wobble.angle-=a),t.position.x+=o*Math.cos(t.wobble.angle),t.position.y+=o*Math.abs(Math.sin(t.wobble.angle))}class QG{constructor(e){this.container=e}init(e){var n;const i=e.options.wobble;i!=null&&i.enable?e.wobble={angle:G()*Math.PI*2,angleSpeed:M(i.speed.angle)/360,moveSpeed:M(i.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=M((n=i==null?void 0:i.distance)!==null&&n!==void 0?n:0)*this.container.retina.pixelRatio}isEnabled(e){var n;return!e.destroyed&&!e.spawning&&!!(!((n=e.options.wobble)===null||n===void 0)&&n.enable)}loadOptions(e,...n){e.wobble||(e.wobble=new WG);for(const i of n)e.wobble.load(i==null?void 0:i.wobble)}update(e,n){!this.isEnabled(e)||qG(e,n)}}async function KG(t){await t.addParticleUpdater("wobble",e=>new QG(e))}async function YG(t){await NG(t),await _2(t),await FG(t),await $G(t),await KG(t),await ZV(t),await DV(t),await QV(t),await g2(t)}const XG={autoPlay:!0,background:{color:{value:"#4a4971"},position:"50% 50%",repeat:"no-repeat",size:"20%",opacity:1},backgroundMask:{composite:"destination-out",cover:{color:{value:"#fff"},opacity:1},enable:!1},fullScreen:{enable:!0,zIndex:1},detectRetina:!0,duration:0,fpsLimit:120,interactivity:{detectsOn:"window",events:{onClick:{enable:!0,mode:"repulse"},onDiv:{selectors:[],enable:!1,mode:[],type:"circle"},onHover:{enable:!0,mode:"bubble",parallax:{enable:!1,force:2,smooth:10}},resize:!0},modes:{slow:{factor:3,radius:200},attract:{distance:200,duration:.4,easing:"ease-out-quad",factor:1,maxSpeed:50,speed:1},bounce:{distance:200},bubble:{distance:250,duration:2,mix:!1,opacity:0,size:0,divs:{distance:200,duration:.4,mix:!1,selectors:[]}},connect:{distance:80,links:{opacity:.5},radius:60},grab:{distance:400,links:{blink:!1,consent:!1,opacity:1}},push:{default:!0,groups:[],quantity:4},remove:{quantity:2},repulse:{distance:400,duration:.4,factor:100,speed:1,maxSpeed:50,easing:"ease-out-quad",divs:{distance:200,duration:.4,factor:100,speed:1,maxSpeed:50,easing:"ease-out-quad",selectors:[]}},trail:{delay:1,pauseOnStop:!1,quantity:1},light:{area:{gradient:{start:{value:"#ffffff"},stop:{value:"#000000"}},radius:1e3},shadow:{color:{value:"#000000"},length:2e3}}}},manualParticles:[],motion:{disable:!1,reduce:{factor:4,value:!0}},particles:{bounce:{horizontal:{random:{enable:!1,minimumValue:.1},value:1},vertical:{random:{enable:!1,minimumValue:.1},value:1}},collisions:{bounce:{horizontal:{random:{enable:!1,minimumValue:.1},value:1},vertical:{random:{enable:!1,minimumValue:.1},value:1}},enable:!1,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:"#ffffff",animation:{h:{count:0,enable:!1,offset:0,speed:1,decay:0,sync:!0},s:{count:0,enable:!1,offset:0,speed:1,decay:0,sync:!0},l:{count:0,enable:!1,offset:0,speed:1,decay:0,sync:!0}}},destroy:{mode:"none",split:{count:1,factor:{random:{enable:!1,minimumValue:0},value:3},rate:{random:{enable:!1,minimumValue:0},value:{min:4,max:9}},sizeOffset:!0}},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:600,y:600}},center:{x:50,y:50,radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{random:{enable:!1,minimumValue:0},value:0},enable:!1,options:{}},outModes:{default:"out",bottom:"out",left:"out",right:"out",top:"out"},random:!0,size:!1,speed:1,spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fillColor:{value:"#000000"}},vibrate:!1,warp:!1},number:{density:{enable:!0,area:800,factor:1e3},limit:0,value:160},opacity:{random:{enable:!0,minimumValue:.1},value:{min:0,max:1},animation:{count:0,enable:!0,speed:1,decay:0,sync:!1,destroy:"none",startValue:"random",minimumValue:0}},reduceDuplicates:!1,rotate:{random:{enable:!1,minimumValue:0},value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{options:{},type:"circle"},size:{random:{enable:!0,minimumValue:1},value:{min:1,max:3},animation:{count:0,enable:!1,speed:4,decay:0,sync:!1,destroy:"none",startValue:"random",minimumValue:.3}},stroke:{width:0},zIndex:{random:{enable:!1,minimumValue:0},value:0,opacityRate:1,sizeRate:1,velocityRate:1},life:{count:0,delay:{random:{enable:!1,minimumValue:0},value:0,sync:!1},duration:{random:{enable:!1,minimumValue:1e-4},value:0,sync:!1}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{random:{enable:!1,minimumValue:0},value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,sync:!1},enable:!1,opacity:1,rotation:{random:{enable:!1,minimumValue:0},value:45},width:1},links:{blink:!1,color:{value:"#ffffff"},consent:!1,distance:150,enable:!1,frequency:1,opacity:.4,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{random:{enable:!1,minimumValue:0},value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},pauseOnBlur:!0,pauseOnOutsideViewport:!0,responsive:[],style:{},themes:[],zLayers:100},JG=()=>k(Ah,{id:"tsparticles",init:async e=>{await YG(e)},options:XG,className:"particleBackground"}),ZG=()=>{const{currentUser:t}=jr(),[e,n]=N.exports.useState(""),[i,r]=N.exports.useState(null),[s,o]=N.exports.useState(!1),a=async()=>{const c=QD(Ot,"users"),h=cL(c,dL("displayName","==",e));try{(await yL(h)).forEach(f=>{r(f.data())})}catch{o(!0)}};return fe("div",{className:"search",children:[k("div",{className:"searchForm",children:k("input",{type:"text",placeholder:"Find a user",onKeyDown:c=>{c.code==="Enter"&&a()},onChange:c=>n(c.target.value),value:e})}),s&&k("span",{children:"User not found!"}),i&&fe("div",{className:"userChat",onClick:async()=>{const c=t.uid>i.uid?t.uid+i.uid:i.uid+t.uid;try{(await gL(qt(Ot,"chats",c))).exists()||(await cp(qt(Ot,"chats",c),{message:[]}),await ws(qt(Ot,"userChats",t.uid),{[c+".userInfo"]:{uid:i.uid,displayName:i.displayName,photoURL:i.photoURL},[c+".date"]:Cc()}),await ws(qt(Ot,"userChats",i.uid),{[c+".userInfo"]:{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL},[c+".date"]:Cc()}))}catch{}r(null),n("")},children:[k("img",{src:i.photoURL,alt:""}),k("div",{className:"userChatInfo",children:k("span",{children:i.displayName})})]})]})},eU=()=>fe("div",{className:"sidebar",children:[k(NL,{}),k(ZG,{}),k(xL,{})]}),tU=()=>k("div",{className:"home",children:fe("div",{className:"container",children:[k(eU,{}),k(IL,{})]})});function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kc.apply(this,arguments)}var pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pr||(pr={}));var Kw=function(t){return t},Yw="beforeunload",nU="popstate";function iU(t){t===void 0&&(t={});var e=t,n=e.window,i=n===void 0?document.defaultView:n,r=i.history;function s(){var S=i.location,T=S.pathname,D=S.search,z=S.hash,ae=r.state||{};return[ae.idx,Kw({pathname:T,search:D,hash:z,state:ae.usr||null,key:ae.key||"default"})]}var o=null;function a(){if(o)f.call(o),o=null;else{var S=pr.Pop,T=s(),D=T[0],z=T[1];if(f.length){if(D!=null){var ae=c-D;ae&&(o={action:S,location:z,retry:function(){b(ae*-1)}},b(ae))}}else m(S)}}i.addEventListener(nU,a);var l=pr.Pop,u=s(),c=u[0],h=u[1],d=Jw(),f=Jw();c==null&&(c=0,r.replaceState(kc({},r.state,{idx:c}),""));function p(S){return typeof S=="string"?S:wp(S)}function y(S,T){return T===void 0&&(T=null),Kw(kc({pathname:h.pathname,hash:"",search:""},typeof S=="string"?$r(S):S,{state:T,key:rU()}))}function w(S,T){return[{usr:S.state,key:S.key,idx:T},p(S)]}function g(S,T,D){return!f.length||(f.call({action:S,location:T,retry:D}),!1)}function m(S){l=S;var T=s();c=T[0],h=T[1],d.call({action:l,location:h})}function v(S,T){var D=pr.Push,z=y(S,T);function ae(){v(S,T)}if(g(D,z,ae)){var He=w(z,c+1),se=He[0],mn=He[1];try{r.pushState(se,"",mn)}catch{i.location.assign(mn)}m(D)}}function _(S,T){var D=pr.Replace,z=y(S,T);function ae(){_(S,T)}if(g(D,z,ae)){var He=w(z,c),se=He[0],mn=He[1];r.replaceState(se,"",mn),m(D)}}function b(S){r.go(S)}var P={get action(){return l},get location(){return h},createHref:p,push:v,replace:_,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(T){return d.push(T)},block:function(T){var D=f.push(T);return f.length===1&&i.addEventListener(Yw,Xw),function(){D(),f.length||i.removeEventListener(Yw,Xw)}}};return P}function Xw(t){t.preventDefault(),t.returnValue=""}function Jw(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(i){return i!==n})}},call:function(n){t.forEach(function(i){return i&&i(n)})}}}function rU(){return Math.random().toString(36).substr(2,8)}function wp(t){var e=t.pathname,n=e===void 0?"/":e,i=t.search,r=i===void 0?"":i,s=t.hash,o=s===void 0?"":s;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function $r(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Gg=N.exports.createContext(null),Ug=N.exports.createContext(null),kh=N.exports.createContext({outlet:null,matches:[]});function pn(t,e){if(!t)throw new Error(e)}function sU(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?$r(e):e,r=l1(i.pathname||"/",n);if(r==null)return null;let s=o1(t);oU(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=mU(s[a],r);return o}function o1(t,e,n,i){return e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i=""),t.forEach((r,s)=>{let o={relativePath:r.path||"",caseSensitive:r.caseSensitive===!0,childrenIndex:s,route:r};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(i)||pn(!1),o.relativePath=o.relativePath.slice(i.length));let a=Mi([i,o.relativePath]),l=n.concat(o);r.children&&r.children.length>0&&(r.index===!0&&pn(!1),o1(r.children,e,l,a)),!(r.path==null&&!r.index)&&e.push({path:a,score:fU(a,r.index),routesMeta:l})}),e}function oU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pU(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const aU=/^:\w+$/,lU=3,uU=2,cU=1,hU=10,dU=-2,Zw=t=>t==="*";function fU(t,e){let n=t.split("/"),i=n.length;return n.some(Zw)&&(i+=dU),e&&(i+=uU),n.filter(r=>!Zw(r)).reduce((r,s)=>r+(aU.test(s)?lU:s===""?cU:hU),i)}function pU(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function mU(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",c=gU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;s.push({params:i,pathname:Mi([r,c.pathname]),pathnameBase:u1(Mi([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=Mi([r,c.pathnameBase]))}return s}function gU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=yU(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=vU(a[h]||""),u},{}),pathname:s,pathnameBase:o,pattern:t}}function yU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(i.push(a),"([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(r,e?void 0:"i"),i]}function vU(t,e){try{return decodeURIComponent(t)}catch{return t}}function wU(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?$r(t):t;return{pathname:n?n.startsWith("/")?n:_U(n,e):e,search:bU(i),hash:EU(r)}}function _U(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function a1(t,e,n){let i=typeof t=="string"?$r(t):t,r=t===""||i.pathname===""?"/":i.pathname,s;if(r==null)s=n;else{let a=e.length-1;if(r.startsWith("..")){let l=r.split("/");for(;l[0]==="..";)l.shift(),a-=1;i.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=wU(i,s);return r&&r!=="/"&&r.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function SU(t){return t===""||t.pathname===""?"/":typeof t=="string"?$r(t).pathname:t.pathname}function l1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const Mi=t=>t.join("/").replace(/\/\/+/g,"/"),u1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PU(t){ho()||pn(!1);let{basename:e,navigator:n}=N.exports.useContext(Gg),{hash:i,pathname:r,search:s}=c1(t),o=r;if(e!=="/"){let a=SU(t),l=a!=null&&a.endsWith("/");o=r==="/"?e+(l?"/":""):Mi([e,r])}return n.createHref({pathname:o,search:s,hash:i})}function ho(){return N.exports.useContext(Ug)!=null}function Ih(){return ho()||pn(!1),N.exports.useContext(Ug).location}function xh(){ho()||pn(!1);let{basename:t,navigator:e}=N.exports.useContext(Gg),{matches:n}=N.exports.useContext(kh),{pathname:i}=Ih(),r=JSON.stringify(n.map(a=>a.pathnameBase)),s=N.exports.useRef(!1);return N.exports.useEffect(()=>{s.current=!0}),N.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=a1(a,JSON.parse(r),i);t!=="/"&&(u.pathname=Mi([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,r,i])}function c1(t){let{matches:e}=N.exports.useContext(kh),{pathname:n}=Ih(),i=JSON.stringify(e.map(r=>r.pathnameBase));return N.exports.useMemo(()=>a1(t,JSON.parse(i),n),[t,i,n])}function TU(t,e){ho()||pn(!1);let{matches:n}=N.exports.useContext(kh),i=n[n.length-1],r=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let o=Ih(),a;if(e){var l;let d=typeof e=="string"?$r(e):e;s==="/"||((l=d.pathname)==null?void 0:l.startsWith(s))||pn(!1),a=d}else a=o;let u=a.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",h=sU(t,{pathname:c});return CU(h&&h.map(d=>Object.assign({},d,{params:Object.assign({},r,d.params),pathname:Mi([s,d.pathname]),pathnameBase:d.pathnameBase==="/"?s:Mi([s,d.pathnameBase])})),n)}function CU(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,i,r)=>N.exports.createElement(kh.Provider,{children:i.route.element!==void 0?i.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,r+1))}}),null)}function AU(t){let{to:e,replace:n,state:i}=t;ho()||pn(!1);let r=xh();return N.exports.useEffect(()=>{r(e,{replace:n,state:i})}),null}function Wo(t){pn(!1)}function kU(t){let{basename:e="/",children:n=null,location:i,navigationType:r=pr.Pop,navigator:s,static:o=!1}=t;ho()&&pn(!1);let a=u1(e),l=N.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=$r(i));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=i,p=N.exports.useMemo(()=>{let y=l1(u,a);return y==null?null:{pathname:y,search:c,hash:h,state:d,key:f}},[a,u,c,h,d,f]);return p==null?null:N.exports.createElement(Gg.Provider,{value:l},N.exports.createElement(Ug.Provider,{children:n,value:{location:p,navigationType:r}}))}function IU(t){let{children:e,location:n}=t;return TU(_p(e),n)}function _p(t){let e=[];return N.exports.Children.forEach(t,n=>{if(!N.exports.isValidElement(n))return;if(n.type===N.exports.Fragment){e.push.apply(e,_p(n.props.children));return}n.type!==Wo&&pn(!1);let i={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(i.children=_p(n.props.children)),e.push(i)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sp.apply(this,arguments)}function xU(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}const RU=["onClick","reloadDocument","replace","state","target","to"];function OU(t){let{basename:e,children:n,window:i}=t,r=N.exports.useRef();r.current==null&&(r.current=iU({window:i}));let s=r.current,[o,a]=N.exports.useState({action:s.action,location:s.location});return N.exports.useLayoutEffect(()=>s.listen(a),[s]),N.exports.createElement(kU,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function MU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const h1=N.exports.forwardRef(function(e,n){let{onClick:i,reloadDocument:r,replace:s=!1,state:o,target:a,to:l}=e,u=xU(e,RU),c=PU(l),h=DU(l,{replace:s,state:o,target:a});function d(f){i&&i(f),!f.defaultPrevented&&!r&&h(f)}return N.exports.createElement("a",Sp({},u,{href:c,onClick:d,ref:n,target:a}))});function DU(t,e){let{target:n,replace:i,state:r}=e===void 0?{}:e,s=xh(),o=Ih(),a=c1(t);return N.exports.useCallback(l=>{if(l.button===0&&(!n||n==="_self")&&!MU(l)){l.preventDefault();let u=!!i||wp(o)===wp(a);s(t,{replace:u,state:r})}},[o,s,a,i,r,n,t])}const LU=()=>{const t=xh();return k("div",{className:"formContainer",children:fe("div",{className:"formWrapper",children:[k("span",{className:"logo",children:"Nima Chat"}),k("div",{className:"login",children:"Login"}),fe("form",{onSubmit:async n=>{n.preventDefault();const i=n.target[0].value,r=n.target[1].value;try{await zk(Eh,i,r),t("/")}catch(s){console.log(s),setErr(!0)}},children:[k("input",{type:"email",placeholder:"Email"}),k("input",{type:"password",placeholder:"Password"}),k("button",{children:"Login"})]}),fe("p",{children:["You do have an account? ",k(h1,{to:"/register",children:"Register"})]})]})})},NU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gkBChonodWdTQAADIVJREFUeNrtnX1UVVXawH/PuUIIfgJOZoCjoGlOH0LaiFQiRuZ6tV5zFLUPy/xYoTLmV2Uqpk0141gqOKWVY8tE6XNqtUoE8c0JVxqpaX686kySuSwVGdEK5Z5n/rjca4If517u5ULc3z93sdfez372s5+zz3P2s88BAgQI0HgRfyvQ2FiTnv93NTt3Nt8wViFxccYyfQINC/NUnjlWnkfOnIHKP6P7948oT40XY/9+q+0DDuBjVo9Zn6dmUpJUShaSlUUqk+Cmm3zVn7wgT6Hbt8tV9vuRCROGfZ46SeSzzy5Z398G+rXimvibjMlIQQERugiCg+tMgROSAWfPEscKSE4e3j+lp0hRUfVqTfxloNzc3FxVm61yQMQCNDLSWGm2Q8LDGWW0h6ZNdVPlfyAkRFtLMYSE6H6jBWoY/tLXXeQBFWThQla7OfH3EIH+61/me8ZJZOhQI98+BBVhpxGG5OYyRVdAhw5XlON0uDCuQbOyHIXx8TX0rCuDrFpUqGpGRQXtsSdBly5mEfuQmBip4Dpo4jdH9DZSKTMhNNScr8Hw4otut/8nh2HKlLTsfqNEFi50lq8+XdBTdcoU+VD/BAsWuC13sZEBcXFpm/t+LXLwoLPcZ4Zffbqgp5pXXy0LeAxJTJSl9iRo00adCsF1vurbn5jXmxuhZUuQVI8E5LMcTp+uXiwTuQ/OnMEzqdBO46FzZ+BrOO8AXl9S33xzwwbVhAQZYg6HQYMkR5dDmzbe7qfeEmlkg83mbbGy14wH8XzFHsJDaLNm1Yu9tgLkHMzfp+Ztt8kA8xHo2hUkEGJ6k3DjO9RmA43ypl1r7QCuK9418QEuylymw4EDPM1uWLpU5pEAZ87UqDdJ28CmTaRfWGyOlRKksNCYrsth3LjqzXQWxRAWxjGeRNPTaUtvJDb2Smp57ACue/wQ+w40Pj5wxV8ec5axANLSRo7s21ekuBi4+LN5+sXbj7in72yRr792/OX8/QX3O35yHl6/SM1Nm2grvWHr1ivp5XEM4Aru/i1vI7W4NwXwKrpVFiJBQVbru70C5HyybpSa0dGS0ciCu1pi3KX/Czk5OS/mz1UzK0teJg/5+ecaFatuAWnpd74vsmePs3j1PzY8o9qtmzHdXAe9e1dvZn7oePyUEYyDSZNAV1jRy20H0KQmu6FLF0Ete1kAYL2+A5060RaQRYs0k94XqyaZMuf8Pf68AxjLNAZNTtZM5iJLltRoV1z1gD0FSxPvxLIDOHfu7In6GERHU0fP8ZJPKhoSokNJQJKT+atMh4QEs6PeAW3b/qLeCjh6lEjuhi++MB7WxVBYqC0kDSoq6kJXn1JqXovY7d4OtCw7gGvLdpZeh/h+584s1wchOlqOGh8h6elM0t7QujWHdDGAHKrWwMZ9EB3NSYDoaG0q++H22zVR98DSpVIkXeHwYV/rzV8lHc6dY53WXtYv0C7Gl6AKmuBR+6n6EVJeXr3cchDo2qv3NaM0E8LDjbbyAWRkcEAnQevWbg/4WUyIiGCKIZCRoaskwhM5bvd73P4j1DS05fbOx7nq5Ut452LlVpEYIw9qpomtPwVUJWl8YLMLB/p/cg0MHqzTmAzNm9da4E5dCy1ayGC9GQYP9rX+xkDZBj/+SJE8D7t2uS2g6jk+5+H14Wrecsva5vkPqdmjh6zWFjBhgtvy3mUXfPll9RyAS1+rcpzZOV8Zzun5+jYPQYJHy9xl5WfqZEhIcCZrfDUOFw8SCqtWudKyVnFu4KRKLrJ1q7mMB5AtW2jOE/Db31qW4+x3tCTCxImXqmbdAarSsr6yl7yhZRATIx/yAvgg7RsqxWCzmc+ShcbE+GocrvHcryfg5EluJRZmz/Z4RXCXPBbDjh1XOgfgxHIwd0E+3gfbPvqS9ISQEHawsPbSLsPL5mQkJAQk06f9VOFyBACWLDEn6vsQGiqRtlBo3pwpmg3WN25qyO+jR6Gy0uwlm+DUKbXrCXTXrpH9U3qKcemJd1Jv8vBSKo9DWZni3ei5Rj8HmYWWlRGKzR9b164YARPHLzfXSmAR/QGMKrvZZ7mpT92b4OJIBN/DoUP0JBq9SJKktvL/Iq9Debn24/+RkhJ/j7e+UG8cQO/VD8A02c8TSF6e1zuo5C3Iy3PsB5imv8dbX6g3DuBSqL38HvLy+Eru/OVWqMeM4wzs3i1rmQ/5+f4eX32j3jmAayUAIDtbinkNPv1U1sgGx07YFbhXngLTlF7cgW7caCjvQnb2hXIDOKk3QWB15F1NhHPngBJ4803drK0gP58tZEP37syTz9FrrnHVn8YgOHJE+5prYNs2SqUP8sMP2s7fI6nf1FsHqI704iv4/nvHX598Atrhgih+BjsBBHnA37o2JOrdLSBA3RJwgEZOwAEaOQ0mBvi1YQaZ10GzZvzNGAy33Was4Tj06KEl7IV27eQL5sKxY9qfZ9DiYmM3KcjGjVrGLCgr85YeAQeoa8KJQjt3Nh5psh2ZOFEPmyMgOFiTiKqqEQWgI9gEv/kNkIzcfbd9CdPgrrukTFehr72mK6UZFBcbb5CGWHg8vgQBB/Ax5oOsQUWMJ+RGJD5ec3UuMnasIxdgnfNZUvkOGTNGDlCIRkU5Tjx98IGnO5yBGMBHaKIMAsOQ/5F+yMCBmqtvwdixXusg1bEyOCb+0Ud1sBR5klUMrABeRgfbukFQEAP0FXT0aHaby5Du3X3WXyZzISGBcn0eIiKMCvsbMG0aYGkLLLACeAlXUNfN/CfMmMFh3058DZwnhl6w/QGGDrXaLLAC1BLZxusQGSmZRjlMn45NRzheD28YBFYATwliDsTGmj/LUsjMpDtlDWninTSgFcCYB2A8oyVocLC9JddDSIh25DhSWclbegP600+1fSy6Uv86QG+HXr3oqRth1CjW6UB/W6Y21GMHcBjcvN18Be3cWe7QCcjQoXZTFyPR0ZzkFIAU4/j+TleaIkeO6Fxpia5dK3NkKrJ3L5huHpK6EMdjlmHwtHkt3HMPW9gI/fv72zreot45gHnEXAJNm8rfZSU6fLicZQxy661c6axgBduhXTvQx5HJk/UPZje0oEAKyETeeYdSyQS73aoe56P5ysfQ0aPZwrd1GtTVEZZjgKBgYyfiiwMVVUvrXGmJduki240w9NlnOasDHRPvId1kJ5KSYq40zsGMGSzmW4iJcV3R1QnXTLDZdLKuQDt1EsyDMGcOh+XqhjTx8h29EevvQlo/Fr5Cv0ErK4GB3jhNq+MdL30Sbr6LDBuG8jiSmMgWvvWqQYo1GNq3V3gdZs5kr1wPFRXmy9IVSkqMs7yKGob+mXKkfXtaUoI0aaI36pPe1KOu0FacgxMnsHis1vIKYKba76jNW7bOLVGzWDugcXFkyT5k/nyCuRcSE+vMQpPYDVddJUcdr2trqbZGYmN5lBa/hs/VyVNyGo4ds1rf8oAlWGKRU6cAy8IBuEVKoGlTYz5dkCFDtCP/gKQk5vv2/H9jRT80r0d/+MFqfcsOYD5kHEFLS43FGnS5W4DzSpcI/Qni4mSZZCLjxunr+ohXXvYMcFmMz2Q7bN9uub7VivvCPv0cOXbMjNJOVYc1L8R5pT/CNmTkSFpKCTJ1qk4LTHydcIMMg1On5NXSAbBjh9Vmbodza6ILQ1VTUszx9n1oXJyRwx6kY0ddI8Nh/Hjn69j+tkej40duhbVrh4/u11wkLc1qM7eDHnuYeRg9cMBoQnN4+mmdyT7o08cx8QH8hf7OuBaWLXO3ndu5gJF7U8LFOHSIZnyMeP+TqAHc5CzvQ1HR8J7J/4HCQnebe5wMModJKTp1Kq9yCior/W2HRkeV3Y0JlKN//KOIiHiQA/HYAUZGpowSY8sWpkkU+mSD3DRp0HzDazB79rDyfivFuPIXQS9Frff0VFVVRdasK/geXnqJk+xyfKgwgC+QT0iGpUvTVvaziaSn11qetxXM2VowSHXGDGL1Wpg3j3XcV5svYDR6nLfYqit++MF+H4k895y3xPvsGxk5N+ZHqnbvLkd4D7KzdQkV0KtX3Vit4SMTuQo2b5YKXkUzMmq71F+yn7oaUI6uV9U+fXjJuBvGjJHlmgQDBugsfg+tWtWVHvWOqg0cPtdv4OOPJVPvhOXLh5X02wwbNnga3FnFb1/5fuXlL7aqGRTUalpZFtx8s9mBj5AbbiCVBRAby0GZDJGRfKYzoUULWvGe4x8mNAycaVlXdi5GJ6LHj+vvjEVw9Kg+R3f46qvTb7fsBtu2jRt/Sw8xLrLDGiBAgAABAgQIECCAt/kvM0G98R+QJHEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMDFUMTA6MjY6MzkrMDA6MDCBjcn+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTAxVDEwOjI2OjM5KzAwOjAw8NBxQgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMi0wOS0wMVQxMDoyNjozOSswMDowMKfFUJ0AAAAASUVORK5CYII=",VU=()=>{const[t,e]=N.exports.useState(!1),[n,i]=N.exports.useState(null),r=xh();return k("div",{className:"formContainer",children:fe("div",{className:"formWrapper",children:[k("span",{className:"logo",children:"Nima Chat"}),k("div",{className:"register",children:"Register"}),fe("form",{onSubmit:async o=>{o.preventDefault();const a=o.target[0].value,l=o.target[1].value,u=o.target[2].value;try{const c=await Vk(Eh,l,u),h=new Date().getTime(),d=mb(AP,`${a+h}`);await fb(d,n).then(()=>{pb(d).then(async f=>{try{await Uk(c.user,{displayName:a,photoURL:f}),await cp(qt(Ot,"users",c.user.uid),{uid:c.user.uid,displayName:a,email:l,photoURL:f}),await cp(qt(Ot,"userChats",c.user.uid),{}),r("/")}catch(p){console.log(p),e(!0)}})})}catch(c){console.log(c),e(!0)}},children:[k("input",{type:"text",placeholder:"Display Name",required:!0}),k("input",{type:"email",placeholder:"Email",required:!0}),k("input",{type:"password",placeholder:"Password",required:!0}),k("input",{style:{display:"none"},accept:"image/*",type:"file",id:"file",onChange:o=>i(o.target.files[0]),required:!0}),fe("label",{htmlFor:"file",children:[k("img",{src:NU,alt:"add an avatar label image"}),k("span",{children:"Add an avatar"})]}),k("button",{children:"Sign Up"}),t&&k("span",{children:"Something went wrong!"})]}),fe("p",{children:["You do have an account? ",k(h1,{to:"/login",children:"Login"})]})]})})};function zU(){const{currentUser:t}=jr();return fe(CL,{children:[k(OU,{children:k(IU,{children:fe(Wo,{path:"/",children:[k(Wo,{index:!0,element:k(({children:n})=>t?n:k(AU,{to:"/login"}),{children:k(tU,{})})}),k(Wo,{path:"login",element:k(LU,{})}),k(Wo,{path:"register",element:k(VU,{})})]})})}),k(JG,{})]})}Ud.createRoot(document.getElementById("root")).render(k(AL,{children:k(kL,{children:k(k1.StrictMode,{children:k(zU,{})})})}));
